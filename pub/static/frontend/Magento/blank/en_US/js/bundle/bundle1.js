require.config({"config": {
        "jsbuild":{"Goomento_PageBuilder/build/editor-modules.min.js":"!function(t,e){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var n,o=e();for(n in o)(\"object\"==typeof exports?exports:t)[n]=o[n]}}(window,function(){return n=[function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t=t.exports={version:\"2.6.12\"};\"number\"==typeof __e&&(__e=t)},function(t,e,n){t.exports=n(126)},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var r=n(2);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),r(t,o.key,o)}}t.exports=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var o=n(107),r=n(133);t.exports=function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=o(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var r=n(81),i=n(25),u=n(144),c=n(145);t.exports=function(n){var o=u();return function(){var t,e=i(n);return t=o?(t=i(this).constructor,r(e,arguments,t)):e.apply(this,arguments),c(this,t)}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){function y(t,e,n){var o,r,i,u=t&y.F,c=t&y.G,s=t&y.S,a=t&y.P,f=t&y.B,l=t&y.W,p=c?g:g[e]||(g[e]={}),d=p.prototype,v=c?h:s?h[e]:(h[e]||{}).prototype;for(o in n=c?e:n)(r=!u&&v&&void 0!==v[o])&&x(p,o)||(i=(r?v:n)[o],p[o]=c&&\"function\"!=typeof v[o]?n[o]:f&&r?m(i,h):l&&v[o]==i?function(o){function t(t,e,n){if(this instanceof o){switch(arguments.length){case 0:return new o;case 1:return new o(t);case 2:return new o(t,e)}return new o(t,e,n)}return o.apply(this,arguments)}return t.prototype=o.prototype,t}(i):a&&\"function\"==typeof i?m(Function.call,i):i,a&&((p.virtual||(p.virtual={}))[o]=i,t&y.R)&&d&&!d[o]&&b(d,o,i))}var h=n(8),g=n(1),m=n(59),b=n(19),x=n(11);y.F=1,y.G=2,y.S=4,y.P=8,y.B=16,y.W=32,y.U=64,y.R=128,t.exports=y},function(t,e){t=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=t)},function(t,e){t.exports=function(t){return\"object\"==typeof t?null!==t:\"function\"==typeof t}},function(t,e,n){var o=n(63)(\"wks\"),r=n(64),i=n(17).Symbol,u=\"function\"==typeof i;(t.exports=function(t){return o[t]||(o[t]=u&&i[t]||(u?i:r)(\"Symbol.\"+t))}).store=o},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=!n(18)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(t,e,n){var o=n(9);t.exports=function(t){if(o(t))return t;throw TypeError(t+\" is not an object!\")}},function(t,e,n){var o=n(13),r=n(77),i=n(52),u=Object.defineProperty;e.f=n(12)?Object.defineProperty:function(t,e,n){if(o(t),e=i(e,!0),o(n),r)try{return u(t,e,n)}catch(t){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(t[e]=n.value),t}},function(t,e,n){var o=n(55)(\"wks\"),r=n(37),i=n(8).Symbol,u=\"function\"==typeof i;(t.exports=function(t){return o[t]||(o[t]=u&&i[t]||(u?i:r)(\"Symbol.\"+t))}).store=o},function(t,e,n){var o=n(108),r=n(42);t.exports=function(t){return o(r(t))}},function(t,e){t=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=t)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var o=n(14),r=n(31);t.exports=n(12)?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var o=n(24);t.exports=function(t){if(o(t))return t;throw TypeError(t+\" is not an object!\")}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var o=n(39),r=n(83);t.exports=n(23)?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(21)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return\"object\"==typeof t?null!==t:\"function\"==typeof t}},function(e,t,n){var o=n(80),r=n(141);function i(t){return e.exports=i=o?r:function(t){return t.__proto__||r(t)},e.exports.default=e.exports,e.exports.__esModule=!0,i(t)}e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},function(t,e,n){function d(t,e,n){var o,r,i,u=t&d.F,c=t&d.G,s=t&d.P,a=t&d.B,f=c?v:t&d.S?v[e]||(v[e]={}):(v[e]||{}).prototype,l=c?y:y[e]||(y[e]={}),p=l.prototype||(l.prototype={});for(o in n=c?e:n)r=((i=!u&&f&&void 0!==f[o])?f:n)[o],i=a&&i?m(r,v):s&&\"function\"==typeof r?m(Function.call,r):r,f&&g(f,o,r,t&d.U),l[o]!=r&&h(l,o,i),s&&p[o]!=r&&(p[o]=r)}var v=n(17),y=n(51),h=n(22),g=n(30),m=n(71);v.core=y,d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,t.exports=d},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){\"use strict\";var o=n(26),r=n(73)(5),i=!0;\"find\"in[]&&Array(1).find(function(){i=!1}),o(o.P+o.F*i,\"Array\",{find:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}}),n(99)(\"find\")},function(t,e,n){var o=n(42);t.exports=function(t){return Object(o(t))}},function(t,e,n){var i=n(17),u=n(22),c=n(47),s=n(64)(\"src\"),o=n(121),a=(\"\"+o).split(\"toString\");n(51).inspectSource=function(t){return o.call(t)},(t.exports=function(t,e,n,o){var r=\"function\"==typeof n;r&&!c(n,\"name\")&&u(n,\"name\",e),t[e]!==n&&(r&&!c(n,s)&&u(n,s,t[e]?\"\"+t[e]:a.join(String(e))),t===i?t[e]=n:o?t[e]?t[e]=n:u(t,e,n):(delete t[e],u(t,e,n)))})(Function.prototype,\"toString\",function(){return\"function\"==typeof this&&this[s]||o.call(this)})},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var o=n(79),r=n(56);t.exports=Object.keys||function(t){return o(t,r)}},function(t,e,n){\"use strict\";var o=n(26),r=n(73)(2);o(o.P+o.F*!n(110)([].filter,!0),\"Array\",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var o=n(46),r=Math.min;t.exports=function(t){return 0<t?r(o(t),9007199254740991):0}},function(t,e,n){function o(){}var r=n(13),i=n(114),u=n(56),c=n(54)(\"IE_PROTO\"),s=function(){var t=n(78)(\"iframe\"),e=u.length;for(t.style.display=\"none\",n(132).appendChild(t),t.src=\"javascript:\",(t=t.contentWindow.document).open(),t.write(\"<script>document.F=Object<\\/script>\"),t.close(),s=t.F;e--;)delete s.prototype[u[e]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(o.prototype=r(t),n=new o,o.prototype=null,n[c]=t):n=s(),void 0===e?n:i(n,e)}},function(t,e){t.exports=!0},function(t,e){var n=0,o=Math.random();t.exports=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++n+o).toString(36))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError(\"Can't call method on  \"+t);return t}},function(t,e,n){var o=n(20),r=n(112),i=n(104),u=Object.defineProperty;e.f=n(23)?Object.defineProperty:function(t,e,n){if(o(t),e=i(e,!0),o(n),r)try{return u(t,e,n)}catch(t){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(t[e]=n.value),t}},function(t,e,n){var o=n(45),r=n(31),i=n(16),u=n(52),c=n(11),s=n(77),a=Object.getOwnPropertyDescriptor;e.f=n(12)?a:function(t,e){if(t=i(t),e=u(e,!0),s)try{return a(t,e)}catch(t){}if(c(t,e))return r(!o.f.call(t,e),t[e])}},function(t,e,n){var o=n(39).f,r=Function.prototype,i=/^\\s*function ([^ (]*)/;\"name\"in r||n(23)&&o(r,\"name\",{configurable:!0,get:function(){try{return(\"\"+this).match(i)[1]}catch(t){return\"\"}}})},function(t,e){t.exports=function(t){if(null==t)throw TypeError(\"Can't call method on  \"+t);return t}},function(t,e){t.exports={}},,function(t,e){e.f={}.propertyIsEnumerable},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?o:n)(t)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\");return t}},function(t,e,n){var o=n(14).f,r=n(11),i=n(15)(\"toStringTag\");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,i)&&o(t,i,{configurable:!0,value:e})}},,function(t,e){t=t.exports={version:\"2.6.12\"};\"number\"==typeof __e&&(__e=t)},function(t,e,n){var r=n(9);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&\"function\"==typeof(n=t.toString)&&!r(o=n.call(t))||\"function\"==typeof(n=t.valueOf)&&!r(o=n.call(t))||!e&&\"function\"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError(\"Can't convert object to primitive value\")}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?o:n)(t)}},function(t,e,n){var o=n(55)(\"keys\"),r=n(37);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e,n){var o=n(1),r=n(8),i=r[\"__core-js_shared__\"]||(r[\"__core-js_shared__\"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})(\"versions\",[]).push({version:o.version,mode:n(36)?\"pure\":\"global\",copyright:\"\u00a9 2020 Denis Pushkarev (zloirock.ru)\"})},function(t,e){t.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},function(t,e,n){e.f=n(15)},function(t,e,n){var o=n(8),r=n(1),i=n(36),u=n(57),c=n(14).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=!i&&o.Symbol||{});\"_\"==t.charAt(0)||t in e||c(e,t,{value:u.f(t)})}},function(t,e,n){var i=n(48);t.exports=function(o,r,t){if(i(o),void 0===r)return o;switch(t){case 1:return function(t){return o.call(r,t)};case 2:return function(t,e){return o.call(r,t,e)};case 3:return function(t,e,n){return o.call(r,t,e,n)}}return function(){return o.apply(r,arguments)}}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var o=n(11),r=n(29),i=n(54)(\"IE_PROTO\"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),o(t,i)?t[i]:\"function\"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},,function(t,e,n){var o=n(51),r=n(17),i=r[\"__core-js_shared__\"]||(r[\"__core-js_shared__\"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})(\"versions\",[]).push({version:o.version,mode:n(89)?\"pure\":\"global\",copyright:\"\u00a9 2020 Denis Pushkarev (zloirock.ru)\"})},function(t,e){var n=0,o=Math.random();t.exports=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++n+o).toString(36))}},function(t,e,n){var r=n(7),i=n(1),u=n(18);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],o={};o[t]=e(n),r(r.S+r.F*u(function(){n(1)}),\"Object\",o)}},function(e,t,n){var o=n(100),r=n(103);function i(t){return e.exports=i=\"function\"==typeof o&&\"symbol\"==typeof r?function(t){return typeof t}:function(t){return t&&\"function\"==typeof o&&t.constructor===o&&t!==o.prototype?\"symbol\":typeof t},e.exports.default=e.exports,e.exports.__esModule=!0,i(t)}e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},,function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var o=n(38);t.exports=function(t){return Object(o(t))}},function(t,e,n){var i=n(84);t.exports=function(o,r,t){if(i(o),void 0===r)return o;switch(t){case 1:return function(t){return o.call(r,t)};case 2:return function(t,e){return o.call(r,t,e)};case 3:return function(t,e,n){return o.call(r,t,e,n)}}return function(){return o.apply(r,arguments)}}},function(t,e,n){\"use strict\";var o=n(97),r={};r[n(10)(\"toStringTag\")]=\"z\",r+\"\"!=\"[object z]\"&&n(30)(Object.prototype,\"toString\",function(){return\"[object \"+o(this)+\"]\"},!0)},function(t,e,n){var b=n(71),x=n(92),_=n(70),S=n(34),o=n(123);t.exports=function(l,t){var p=1==l,d=2==l,v=3==l,y=4==l,h=6==l,g=5==l||h,m=t||o;return function(t,e,n){for(var o,r,i=_(t),u=x(i),c=b(e,n,3),s=S(u.length),a=0,f=p?m(t,s):d?m(t,0):void 0;a<s;a++)if((g||a in u)&&(r=c(o=u[a],a,i),l))if(p)f[a]=r;else if(r)switch(l){case 3:return!0;case 5:return o;case 6:return a;case 2:f.push(o)}else if(y)return!1;return h?-1:v||y?y:f}}},function(t,e,n){t.exports=n(19)},function(t,e,n){var o=n(79),r=n(56).concat(\"length\",\"prototype\");e.f=Object.getOwnPropertyNames||function(t){return o(t,r)}},,function(t,e,n){t.exports=!n(12)&&!n(18)(function(){return 7!=Object.defineProperty(n(78)(\"div\"),\"a\",{get:function(){return 7}}).a})},function(t,e,n){var o=n(9),r=n(8).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,e,n){var u=n(11),c=n(16),s=n(130)(!1),a=n(54)(\"IE_PROTO\");t.exports=function(t,e){var n,o=c(t),r=0,i=[];for(n in o)n!=a&&u(o,n)&&i.push(n);for(;e.length>r;)!u(o,n=e[r++])||~s(i,n)||i.push(n);return i}},function(t,e,n){t.exports=n(134)},function(t,e,n){t.exports=n(137)},function(t,e,n){\"use strict\";function g(){return this}var m=n(36),b=n(7),x=n(74),_=n(19),S=n(43),w=n(153),O=n(49),C=n(61),j=n(15)(\"iterator\"),M=!([].keys&&\"next\"in[].keys());t.exports=function(t,e,n,o,r,i,u){w(n,e,o);function c(t){if(!M&&t in p)return p[t];switch(t){case\"keys\":case\"values\":return function(){return new n(this,t)}}return function(){return new n(this,t)}}var s,a,o=e+\" Iterator\",f=\"values\"==r,l=!1,p=t.prototype,d=p[j]||p[\"@@iterator\"]||r&&p[r],v=d||c(r),y=r?f?c(\"entries\"):v:void 0,h=\"Array\"==e&&p.entries||d;if(h&&(h=C(h.call(new t)))!==Object.prototype&&h.next&&(O(h,o,!0),m||\"function\"==typeof h[j]||_(h,j,g)),f&&d&&\"values\"!==d.name&&(l=!0,v=function(){return d.call(this)}),m&&!u||!M&&!l&&p[j]||_(p,j,v),S[e]=v,S[o]=g,r)if(s={values:f?v:c(\"values\"),keys:i?v:c(\"keys\"),entries:y},u)for(a in s)a in p||x(p,a,s[a]);else b(b.P+b.F*(M||l),e,s);return s}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\");return t}},function(t,e,n){var o=n(92),r=n(38);t.exports=function(t){return o(r(t))}},function(t,e,n){\"use strict\";var o=n(99),r=n(178),i=n(94),u=n(85);t.exports=n(179)(Array,\"Array\",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,\"keys\"==e?n:\"values\"==e?t[n]:[n,t[n]])},\"values\"),i.Arguments=i.Array,o(\"keys\"),o(\"values\"),o(\"entries\")},,,function(t,e){t.exports=!1},,function(t,e,n){var o=n(24),r=n(17).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,e,n){var o=n(27);t.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(t){return\"String\"==o(t)?t.split(\"\"):Object(t)}},function(t,e,n){var o=n(53),r=Math.min;t.exports=function(t){return 0<t?r(o(t),9007199254740991):0}},function(t,e){t.exports={}},function(t,e,n){var o=n(63)(\"keys\"),r=n(64);t.exports=function(t){return o[t]||(o[t]=r(t))}},,function(t,e,n){var o=n(27),r=n(10)(\"toStringTag\"),i=\"Arguments\"==o(function(){return arguments}());t.exports=function(t){var e;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Object(t),r))?e:i?o(t):\"Object\"==(e=o(t))&&\"function\"==typeof t.callee?\"Arguments\":e}},,function(t,e,n){var o=n(10)(\"unscopables\"),r=Array.prototype;null==r[o]&&n(22)(r,o,{}),t.exports=function(t){r[o][t]=!0}},function(t,e,n){t.exports=n(146)},function(t,e,n){function o(t){c(t,r,{value:{i:\"O\"+ ++s,w:{}}})}var r=n(37)(\"meta\"),i=n(9),u=n(11),c=n(14).f,s=0,a=Object.isExtensible||function(){return!0},f=!n(18)(function(){return a(Object.preventExtensions({}))}),l=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return\"symbol\"==typeof t?t:(\"string\"==typeof t?\"S\":\"P\")+t;if(!u(t,r)){if(!a(t))return\"F\";if(!e)return\"E\";o(t)}return t[r].i},getWeak:function(t,e){if(!u(t,r)){if(!a(t))return!0;if(!e)return!1;o(t)}return t[r].w},onFreeze:function(t){return f&&l.NEED&&a(t)&&!u(t,r)&&o(t),t}}},function(t,e,n){var o=n(68);t.exports=Array.isArray||function(t){return\"Array\"==o(t)}},function(t,e,n){t.exports=n(151)},function(t,e,n){var r=n(24);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&\"function\"==typeof(n=t.toString)&&!r(o=n.call(t))||\"function\"==typeof(n=t.valueOf)&&!r(o=n.call(t))||!e&&\"function\"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError(\"Can't convert object to primitive value\")}},function(t,e,n){n=n(17).document;t.exports=n&&n.documentElement},function(t,e,n){var o=n(46),r=Math.max,i=Math.min;t.exports=function(t,e){return(t=o(t))<0?r(t+e,0):i(t,e)}},function(t,e,n){t.exports=n(128)},function(t,e,n){var o=n(68);t.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(t){return\"String\"==o(t)?t.split(\"\"):Object(t)}},function(t,e,n){\"use strict\";var o=n(152)(!0);n(82)(String,\"String\",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i;return e>=t.length?{value:void 0,done:!0}:(t=o(t,e),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){\"use strict\";var o=n(21);t.exports=function(t,e){return!!t&&o(function(){e?t.call(null,function(){},1):t.call(null)})}},,function(t,e,n){t.exports=!n(23)&&!n(21)(function(){return 7!=Object.defineProperty(n(91)(\"div\"),\"a\",{get:function(){return 7}}).a})},,function(t,e,n){var u=n(14),c=n(13),s=n(32);t.exports=n(12)?Object.defineProperties:function(t,e){c(t);for(var n,o=s(e),r=o.length,i=0;i<r;)u.f(t,n=o[i++],e[n]);return t}},function(D,I,t){\"use strict\";function o(t){var e=T[t]=_(O.prototype);return e._k=t,e}function u(t,e,n){return t===k&&u(E,e,n),g(t),e=b(e,!0),g(n),(a(T,e)?(n.enumerable?(a(t,M)&&t[M][e]&&(t[M][e]=!1),n=_(n,{enumerable:x(0,!1)})):(a(t,M)||w(t,M,x(1,{})),t[M][e]=!0),F):w)(t,e,n)}function n(t,e){g(t);for(var n,o=$(e=m(e)),r=0,i=o.length;r<i;)u(t,n=o[r++],e[n]);return t}function e(t){var e=Z.call(this,t=b(t,!0));return!(this===k&&a(T,t)&&!a(E,t))&&(!(e||!a(this,t)||!a(T,t)||a(this,M)&&this[M][t])||e)}function r(t,e){var n;if(t=m(t),e=b(e,!0),t!==k||!a(T,e)||a(E,e))return!(n=K(t,e))||!a(T,e)||a(t,M)&&t[M][e]||(n.enumerable=!0),n}function i(t){for(var e,n=Y(m(t)),o=[],r=0;n.length>r;)a(T,e=n[r++])||e==M||e==N||o.push(e);return o}function c(t){for(var e,n=t===k,o=Y(n?E:m(t)),r=[],i=0;o.length>i;)!a(T,e=o[i++])||n&&!a(k,e)||r.push(T[e]);return r}var s=t(8),a=t(11),f=t(12),l=t(7),p=t(74),N=t(101).KEY,d=t(18),v=t(55),y=t(49),V=t(37),h=t(15),B=t(57),G=t(58),$=t(147),H=t(102),g=t(13),W=t(9),q=t(29),m=t(16),b=t(52),x=t(31),_=t(35),z=t(148),Q=t(40),S=t(69),J=t(14),U=t(32),K=Q.f,w=J.f,Y=z.f,O=s.Symbol,C=s.JSON,j=C&&C.stringify,M=h(\"_hidden\"),X=h(\"toPrimitive\"),Z={}.propertyIsEnumerable,P=v(\"symbol-registry\"),T=v(\"symbols\"),E=v(\"op-symbols\"),k=Object.prototype,v=\"function\"==typeof O&&!!S.f,L=s.QObject,A=!L||!L.prototype||!L.prototype.findChild,F=f&&d(function(){return 7!=_(w({},\"a\",{get:function(){return w(this,\"a\",{value:7}).a}})).a})?function(t,e,n){var o=K(k,e);o&&delete k[e],w(t,e,n),o&&t!==k&&w(k,e,o)}:w,R=v&&\"symbol\"==typeof O.iterator?function(t){return\"symbol\"==typeof t}:function(t){return t instanceof O};v||(p((O=function(){if(this instanceof O)throw TypeError(\"Symbol is not a constructor!\");var e=V(0<arguments.length?arguments[0]:void 0),n=function(t){this===k&&n.call(E,t),a(this,M)&&a(this[M],e)&&(this[M][e]=!1),F(this,e,x(1,t))};return f&&A&&F(k,e,{configurable:!0,set:n}),o(e)}).prototype,\"toString\",function(){return this._k}),Q.f=r,J.f=u,t(75).f=z.f=i,t(45).f=e,S.f=c,f&&!t(36)&&p(k,\"propertyIsEnumerable\",e,!0),B.f=function(t){return o(h(t))}),l(l.G+l.W+l.F*!v,{Symbol:O});for(var tt=\"hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables\".split(\",\"),et=0;tt.length>et;)h(tt[et++]);for(var nt=U(h.store),ot=0;nt.length>ot;)G(nt[ot++]);l(l.S+l.F*!v,\"Symbol\",{for:function(t){return a(P,t+=\"\")?P[t]:P[t]=O(t)},keyFor:function(t){if(!R(t))throw TypeError(t+\" is not a symbol!\");for(var e in P)if(P[e]===t)return e},useSetter:function(){A=!0},useSimple:function(){A=!1}}),l(l.S+l.F*!v,\"Object\",{create:function(t,e){return void 0===e?_(t):n(_(t),e)},defineProperty:u,defineProperties:n,getOwnPropertyDescriptor:r,getOwnPropertyNames:i,getOwnPropertySymbols:c});L=d(function(){S.f(1)});l(l.S+l.F*L,\"Object\",{getOwnPropertySymbols:function(t){return S.f(q(t))}}),C&&l(l.S+l.F*(!v||d(function(){var t=O();return\"[null]\"!=j([t])||\"{}\"!=j({a:t})||\"{}\"!=j(Object(t))})),\"JSON\",{stringify:function(t){for(var e,n,o=[t],r=1;r<arguments.length;)o.push(arguments[r++]);if(n=e=o[1],(W(e)||void 0!==t)&&!R(t))return H(e)||(e=function(t,e){if(\"function\"==typeof n&&(e=n.call(this,t,e)),!R(e))return e}),o[1]=e,j.apply(C,o)}}),O.prototype[X]||t(19)(O.prototype,X,O.prototype.valueOf),y(O,\"Symbol\"),y(Math,\"Math\",!0),y(s.JSON,\"JSON\",!0)},function(t,e){},function(t,e,n){n(154);for(var o=n(8),r=n(19),i=n(43),u=n(15)(\"toStringTag\"),c=\"CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList\".split(\",\"),s=0;s<c.length;s++){var a=c[s],f=o[a],f=f&&f.prototype;f&&!f[u]&&r(f,u,a),i[a]=i.Array}},function(t,e){t.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},function(t,e,n){for(var o=n(86),r=n(158),i=n(30),u=n(17),c=n(22),s=n(94),n=n(10),a=n(\"iterator\"),f=n(\"toStringTag\"),l=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=r(p),v=0;v<d.length;v++){var y,h=d[v],g=p[h],m=u[h],b=m&&m.prototype;if(b&&(b[a]||c(b,a,l),b[f]||c(b,f,h),s[h]=l,g))for(y in o)b[y]||i(b,y,o[y],!0)}},,function(t,e,n){t.exports=n(63)(\"native-function-to-string\",Function.toString)},,function(t,e,n){var o=n(124);t.exports=function(t,e){return new(o(t))(e)}},function(t,e,n){var o=n(24),r=n(125),i=n(10)(\"species\");t.exports=function(t){var e;return void 0===(e=r(t)&&(\"function\"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),o(e))&&null===(e=e[i])?void 0:e)?Array:e}},function(t,e,n){var o=n(27);t.exports=Array.isArray||function(t){return\"Array\"==o(t)}},function(t,e,n){n(127);var o=n(1).Object;t.exports=function(t,e,n){return o.defineProperty(t,e,n)}},function(t,e,n){var o=n(7);o(o.S+o.F*!n(12),\"Object\",{defineProperty:n(14).f})},function(t,e,n){n(129);var o=n(1).Object;t.exports=function(t,e){return o.create(t,e)}},function(t,e,n){var o=n(7);o(o.S,\"Object\",{create:n(35)})},function(t,e,n){var s=n(16),a=n(93),f=n(131);t.exports=function(c){return function(t,e,n){var o,r=s(t),i=a(r.length),u=f(n,i);if(c&&e!=e){for(;u<i;)if((o=r[u++])!=o)return!0}else for(;u<i;u++)if((c||u in r)&&r[u]===e)return c||u||0;return!c&&-1}}},function(t,e,n){var o=n(53),r=Math.max,i=Math.min;t.exports=function(t,e){return(t=o(t))<0?r(t+e,0):i(t,e)}},function(t,e,n){n=n(8).document;t.exports=n&&n.documentElement},function(n,t,e){var o=e(80);function r(t,e){return n.exports=r=o||function(t,e){return t.__proto__=e,t},n.exports.default=n.exports,n.exports.__esModule=!0,r(t,e)}n.exports=r,n.exports.default=n.exports,n.exports.__esModule=!0},function(t,e,n){n(135),t.exports=n(1).Object.setPrototypeOf},function(t,e,n){var o=n(7);o(o.S,\"Object\",{setPrototypeOf:n(136).set})},function(t,e,r){function i(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+\": can't set as prototype!\")}var n=r(9),o=r(13);t.exports={set:Object.setPrototypeOf||(\"__proto__\"in{}?function(t,n,o){try{(o=r(59)(Function.call,r(40).f(Object.prototype,\"__proto__\").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return i(t,e),n?t.__proto__=e:o(t,e),t}}({},!1):void 0),check:i}},function(t,e,n){n(138),t.exports=n(1).Reflect.construct},function(t,e,n){var o=n(7),r=n(35),i=n(48),u=n(13),c=n(9),s=n(18),a=n(139),f=(n(8).Reflect||{}).construct,l=s(function(){function t(){}return!(f(function(){},[],t)instanceof t)}),p=!s(function(){f(function(){})});o(o.S+o.F*(l||p),\"Reflect\",{construct:function(t,e){i(t),u(e);var n=arguments.length<3?t:i(arguments[2]);if(p&&!l)return f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var o=[null];return o.push.apply(o,e),new(a.apply(t,o))}o=n.prototype,n=r(c(o)?o:Object.prototype),o=Function.apply.call(t,n,e);return c(o)?o:n}})},function(t,e,n){\"use strict\";var o=n(48),r=n(9),f=n(140),l=[].slice,p={};t.exports=Function.bind||function(u){var c=o(this),s=l.call(arguments,1),a=function(){var t=s.concat(l.call(arguments));if(this instanceof a){var e=c,n=t.length,o=t;if(!(n in p)){for(var r=[],i=0;i<n;i++)r[i]=\"a[\"+i+\"]\";p[n]=Function(\"F,a\",\"return new F(\"+r.join(\",\")+\")\")}return p[n](e,o)}return f(c,t,u)};return r(c.prototype)&&(a.prototype=c.prototype),a}},function(t,e){t.exports=function(t,e,n){var o=void 0===n;switch(e.length){case 0:return o?t():t.call(n);case 1:return o?t(e[0]):t.call(n,e[0]);case 2:return o?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return o?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return o?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){t.exports=n(142)},function(t,e,n){n(143),t.exports=n(1).Object.getPrototypeOf},function(t,e,n){var o=n(29),r=n(61);n(65)(\"getPrototypeOf\",function(){return function(t){return r(o(t))}})},function(t,e,n){var o=n(81);t.exports=function(){if(\"undefined\"==typeof Reflect||!o)return!1;if(o.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(t){return!1}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var o=n(66).default,r=n(60);t.exports=function(t,e){if(e&&(\"object\"===o(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return r(t)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){n(115),n(116),n(149),n(150),t.exports=n(1).Symbol},function(t,e,n){var c=n(32),s=n(69),a=n(45);t.exports=function(t){var e=c(t),n=s.f;if(n)for(var o,r=n(t),i=a.f,u=0;r.length>u;)i.call(t,o=r[u++])&&e.push(o);return e}},function(t,e,n){var o=n(16),r=n(75).f,i={}.toString,u=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){if(!u||\"[object Window]\"!=i.call(t))return r(o(t));var e=t;try{return r(e)}catch(e){return u.slice()}}},function(t,e,n){n(58)(\"asyncIterator\")},function(t,e,n){n(58)(\"observable\")},function(t,e,n){n(109),n(117),t.exports=n(57).f(\"iterator\")},function(t,e,n){var i=n(53),u=n(42);t.exports=function(r){return function(t,e){var n,t=String(u(t)),e=i(e),o=t.length;return e<0||o<=e?r?\"\":void 0:(n=t.charCodeAt(e))<55296||56319<n||e+1===o||(o=t.charCodeAt(e+1))<56320||57343<o?r?t.charAt(e):n:r?t.slice(e,e+2):o-56320+(n-55296<<10)+65536}}},function(t,e,n){\"use strict\";var o=n(35),r=n(31),i=n(49),u={};n(19)(u,n(15)(\"iterator\"),function(){return this}),t.exports=function(t,e,n){t.prototype=o(u,{next:r(1,n)}),i(t,e+\" Iterator\")}},function(t,e,n){\"use strict\";var o=n(155),r=n(156),i=n(43),u=n(16);t.exports=n(82)(Array,\"Array\",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,\"keys\"==e?n:\"values\"==e?t[n]:[n,t[n]])},\"values\"),i.Arguments=i.Array,o(\"keys\"),o(\"values\"),o(\"entries\")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},,function(t,e,n){var o=n(176),r=n(118);t.exports=Object.keys||function(t){return o(t,r)}},function(t,e,n){var o=n(39).f,r=n(47),i=n(10)(\"toStringTag\");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,i)&&o(t,i,{configurable:!0,value:e})}},,,,,,,,,,,,,,,function(t,e,n){var s=n(85),a=n(34),f=n(106);t.exports=function(c){return function(t,e,n){var o,r=s(t),i=a(r.length),u=f(n,i);if(c&&e!=e){for(;u<i;)if((o=r[u++])!=o)return!0}else for(;u<i;u++)if((c||u in r)&&r[u]===e)return c||u||0;return!c&&-1}}},function(t,e,n){function o(){}var r=n(20),i=n(181),u=n(118),c=n(95)(\"IE_PROTO\"),s=function(){var t=n(91)(\"iframe\"),e=u.length;for(t.style.display=\"none\",n(105).appendChild(t),t.src=\"javascript:\",(t=t.contentWindow.document).open(),t.write(\"<script>document.F=Object<\\/script>\"),t.close(),s=t.F;e--;)delete s.prototype[u[e]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(o.prototype=r(t),n=new o,o.prototype=null,n[c]=t):n=s(),void 0===e?n:i(n,e)}},function(t,e,n){var u=n(47),c=n(85),s=n(174)(!1),a=n(95)(\"IE_PROTO\");t.exports=function(t,e){var n,o=c(t),r=0,i=[];for(n in o)n!=a&&u(o,n)&&i.push(n);for(;e.length>r;)!u(o,n=e[r++])||~s(i,n)||i.push(n);return i}},,function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){\"use strict\";function g(){return this}var m=n(89),b=n(26),x=n(30),_=n(22),S=n(94),w=n(180),O=n(159),C=n(182),j=n(10)(\"iterator\"),M=!([].keys&&\"next\"in[].keys());t.exports=function(t,e,n,o,r,i,u){w(n,e,o);function c(t){if(!M&&t in p)return p[t];switch(t){case\"keys\":case\"values\":return function(){return new n(this,t)}}return function(){return new n(this,t)}}var s,a,o=e+\" Iterator\",f=\"values\"==r,l=!1,p=t.prototype,d=p[j]||p[\"@@iterator\"]||r&&p[r],v=d||c(r),y=r?f?c(\"entries\"):v:void 0,h=\"Array\"==e&&p.entries||d;if(h&&(h=C(h.call(new t)))!==Object.prototype&&h.next&&(O(h,o,!0),m||\"function\"==typeof h[j]||_(h,j,g)),f&&d&&\"values\"!==d.name&&(l=!0,v=function(){return d.call(this)}),m&&!u||!M&&!l&&p[j]||_(p,j,v),S[e]=v,S[o]=g,r)if(s={values:f?v:c(\"values\"),keys:i?v:c(\"keys\"),entries:y},u)for(a in s)a in p||x(p,a,s[a]);else b(b.P+b.F*(M||l),e,s);return s}},function(t,e,n){\"use strict\";var o=n(175),r=n(83),i=n(159),u={};n(22)(u,n(10)(\"iterator\"),function(){return this}),t.exports=function(t,e,n){t.prototype=o(u,{next:r(1,n)}),i(t,e+\" Iterator\")}},function(t,e,n){var u=n(39),c=n(20),s=n(158);t.exports=n(23)?Object.defineProperties:function(t,e){c(t);for(var n,o=s(e),r=o.length,i=0;i<r;)u.f(t,n=o[i++],e[n]);return t}},function(t,e,n){var o=n(47),r=n(70),i=n(95)(\"IE_PROTO\"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),o(t,i)?t[i]:\"function\"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){\"use strict\";n(33),n(28),n=Marionette.Behavior.extend({onRenderCollection:function(){this.handleInnerTabs(this.view)},handleInnerTabs:function(i){var t=i.children.filter(function(t){return\"tabs\"===t.model.get(\"type\")});_.each(t,function(r){r.$el.find(\".gmt-control-content\").remove();var e=r.model.get(\"name\"),t=i.children.filter(function(t){return\"tab\"===t.model.get(\"type\")&&t.model.get(\"tabs_wrapper\")===e});_.each(t,function(t,e){r._addChildView(t);var n=t.model.get(\"name\"),o=i.children.filter(function(t){return n===t.model.get(\"inner_tab\")});0===e?t.$el.addClass(\"gmt-tab-active\"):_.each(o,function(t){t.$el.addClass(\"gmt-tab-close\")})})})},onChildviewControlTabClicked:function(e){var n=e.model.get(\"name\"),t=this.view.children.filter(function(t){return\"tab\"!==t.model.get(\"type\")&&e.model.get(\"tabs_wrapper\")===t.model.get(\"tabs_wrapper\")}),o=this.view.children.filter(function(t){return\"tab\"===t.model.get(\"type\")&&e.model.get(\"tabs_wrapper\")===t.model.get(\"tabs_wrapper\")});_.each(o,function(t){t.$el.removeClass(\"gmt-tab-active\")}),e.$el.addClass(\"gmt-tab-active\"),_.each(t,function(t){t.model.get(\"inner_tab\")===n?t.$el.removeClass(\"gmt-tab-close\"):t.$el.addClass(\"gmt-tab-close\")}),goomento.getPanelView().updateScrollbar()}}),t.exports=n},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){\"use strict\";var o=n(0),r=o(n(492)),i=o(n(493)),u=o(n(494)),o=o(n(495));goomentoModules.editor={elements:{models:{BaseSettings:o.default}},utils:{Module:r.default,Introduction:i.default},views:{ControlsStack:u.default}}},function(t,e,n){\"use strict\";var o=goomentoModules.Module.extend({onInit:function(){jQuery(window).on(\"goomento:init\",this.onGoomentoReady)},getEditorControlView:function(t){return goomento.getPanelView().getCurrentPageView().children.findByModelCid(this.getEditorControlModel(t).cid)},getEditorControlModel:function(t){return goomento.getPanelView().getCurrentPageView().collection.findWhere({name:t})},onGoomentoReady:function(){this.onGoomentoInit(),goomento.on(\"frontend:init\",this.onGoomentoFrontendInit.bind(this)).on(\"preview:loaded\",this.onGoomentoPreviewLoaded.bind(this))}});o.prototype.onGoomentoInit=function(){},o.prototype.onGoomentoPreviewLoaded=function(){},o.prototype.onGoomentoFrontendInit=function(){},t.exports=o},function(t,e,n){\"use strict\";var r,o=n(2),i=n(0),u=(o(e,\"__esModule\",{value:!0}),e.default=void 0,i(n(3))),o=i(n(4)),c=i(n(5)),i=i(n(6)),c=(n=goomentoModules.Module,(0,c.default)(s,n),r=(0,i.default)(s),(0,o.default)(s,[{key:\"getDefaultSettings\",value:function(){return{dialogType:\"buttons\",dialogOptions:{effects:{hide:\"hide\",show:\"show\"},hide:{onBackgroundClick:!1}}}}},{key:\"initDialog\",value:function(){var e,n=this;this.getDialog=function(){var t;return e||(t=n.getSettings(),e=goomentoCommon.dialogsManager.createWidget(t.dialogType,t.dialogOptions),t.onDialogInitCallback&&t.onDialogInitCallback.call(n,e)),e}}},{key:\"show\",value:function(t){var e;this.introductionViewed||(e=this.getDialog(),t&&e.setSettings(\"position\",{of:t}),e.show())}},{key:\"setViewed\",value:function(){this.introductionViewed=!0,goomentoCommon.ajax.addRequest(\"introduction_viewed\",{data:{introductionKey:this.getSettings(\"introductionKey\")}})}}]),s);function s(){var t;(0,u.default)(this,s);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=r.call.apply(r,[this].concat(n))).initDialog(),t}e.default=c},function(t,e,n){\"use strict\";n(72),n(86),n(119),n(33),n(28),n=Marionette.CompositeView.extend({classes:{popover:\"gmt-controls-popover\"},activeTab:null,activeSection:null,className:function(){return\"gmt-controls-stack\"},templateHelpers:function(){return{elementData:goomento.getElementData(this.model)}},childViewOptions:function(){return{elementSettingsModel:this.model}},ui:function(){return{tabs:\".gmt-panel-navigation-tab\",reloadButton:\".gmt-update-preview-button\"}},events:function(){return{\"click @ui.reloadButton\":\"onReloadButtonClick\"}},modelEvents:{destroy:\"onModelDestroy\"},behaviors:{HandleInnerTabs:{behaviorClass:n(232)}},initialize:function(){this.initCollection(),this.listenTo(goomento.channels.deviceMode,\"change\",this.onDeviceModeChange)},initCollection:function(){this.collection=new Backbone.Collection(_.values(goomento.mergeControlsSettings(this.getOption(\"controls\"))))},filter:function(t){return t.get(\"tab\")===this.activeTab&&(\"section\"===t.get(\"type\")||!(t=t.get(\"section\"))||t===this.activeSection)},getControlViewByModel:function(t){return this.children.findByModelCid(t.cid)},getControlViewByName:function(t){return this.getControlViewByModel(this.getControlModel(t))},getControlModel:function(t){return this.collection.findWhere({name:t})},isVisibleSectionControl:function(t){return this.activeTab===t.get(\"tab\")},activateTab:function(t){return this.activeTab=t,this.activateFirstSection(),this._renderChildren(),this},activateSection:function(t){return this.activeSection=t,this},activateFirstSection:function(){var e=this,t=e.collection.filter(function(t){return\"section\"===t.get(\"type\")&&e.isVisibleSectionControl(t)});if(t[0]&&!t.filter(function(t){return e.activeSection===t.get(\"name\")})[0])return e.activateSection(t[0].get(\"name\")),this},getChildView:function(t){t=t.get(\"type\");return goomento.getControlView(t)},handlePopovers:function(){var n,o=this,r=!1;o.removePopovers(),o.children.each(function(t){r&&n.append(t.$el);var e=t.model.get(\"popover\");e&&(e.start&&(r=!0,n=jQuery(\"<div>\",{class:o.classes.popover}),t.$el.before(n),n.append(t.$el)),e.end)&&(r=!1)})},removePopovers:function(){this.$el.find(\".\"+this.classes.popover).remove()},getNamespaceArray:function(){return[goomento.getPanelView().getCurrentPageName()]},openActiveSection:function(){var e=this.activeSection,t=this.children.filter(function(t){return e===t.model.get(\"name\")});t[0]&&(t[0].$el.addClass(\"gmt-open\"),(t=this.getNamespaceArray()).push(e,\"activated\"),goomento.channels.editor.trigger(t.join(\":\"),this))},onRenderCollection:function(){this.openActiveSection(),this.handlePopovers()},onModelDestroy:function(){this.destroy()},onReloadButtonClick:function(){goomento.reloadPreview()},onDeviceModeChange:function(){\"desktop\"===goomento.channels.deviceMode.request(\"currentMode\")&&this.$el.removeClass(\"gmt-responsive-switchers-open\")},onChildviewControlSectionClicked:function(t){var e=t.$el.hasClass(\"gmt-open\");this.activateSection(e?null:t.model.get(\"name\")),this._renderChildren()},onChildviewResponsiveSwitcherClick:function(t,e){}}),t.exports=n},function(t,e,n){\"use strict\";var o,u=n(0)(n(66));n(41),n(33),n(28),o=Backbone.Model.extend({options:{},initialize:function(t,e){var r,i;this.options=e,this.controls=goomento.mergeControlsSettings(e.controls),this.validators={},this.controls&&(r=t||{},i={},_.each(this.controls,function(t){var e,n,o;-1===t.features.indexOf(\"ui\")&&(e=t.name,\"object\"===(0,u.default)(t.default)?i[e]=goomentoCommon.helpers.cloneObject(t.default):i[e]=t.default,n=(o=t.dynamic&&t.dynamic.active)&&r.__dynamic__&&r.__dynamic__[e],o&&!n&&t.dynamic.default&&(r.__dynamic__||(r.__dynamic__={}),r.__dynamic__[e]=t.dynamic.default,n=!0),o=jQuery.isPlainObject(t.default),void 0===r[e]||!o||_.isObject(r[e])||n||delete r[e],void 0===r[e])&&(r[e]=i[e])}),this.defaults=i,this.handleRepeaterData(r),this.set(r))},handleRepeaterData:function(t){_.each(this.controls,function(n){!n.is_repeater||t[n.name]instanceof Backbone.Collection||(t[n.name]=new Backbone.Collection(t[n.name],{model:function(t,e){return(e=e||{}).controls=n.fields,t._id||(t._id=goomento.helpers.getUniqueID()),new o(t,e)}}))})},getFontControls:function(){return this.getControlsByType(\"font\")},getIconsControls:function(){return this.getControlsByType(\"icons\")},getControlsByType:function(e){return _.filter(this.getActiveControls(),function(t){return e===t.type})},getStyleControls:function(o,t){var r=this,i=(o=goomentoCommon.helpers.cloneObject(r.getActiveControls(o,t)),[]);return jQuery.each(o,function(){var e,n=this,t=goomento.config.controls[n.type];(n=jQuery.extend({},t,n)).fields&&(e=[],r.attributes[n.name].each(function(t){e.push(r.getStyleControls(n.fields,t.attributes))}),n.styleFields=e),(n.fields||n.dynamic&&n.dynamic.active||r.isStyleControl(n.name,o))&&i.push(n)}),i},isStyleControl:function(e,t){t=t||this.controls;t=_.find(t,function(t){return e===t.name});return t&&!_.isEmpty(t.selectors)},getClassControls:function(t){return t=t||this.controls,_.filter(t,function(t){return!_.isUndefined(t.prefix_class)})},isClassControl:function(e){var t=_.find(this.controls,function(t){return e===t.name});return t&&!_.isUndefined(t.prefix_class)},getControl:function(e){return _.find(this.controls,function(t){return e===t.name})},getActiveControls:function(t,n){var o={};return t=t||this.controls,n=n||this.attributes,jQuery.each(t,function(t,e){goomento.helpers.isActiveControl(e,n)&&(o[t]=e)}),o},clone:function(){return new o(goomentoCommon.helpers.cloneObject(this.attributes),goomentoCommon.helpers.cloneObject(this.options))},setExternalChange:function(t,e){var n,o=this;\"object\"===(0,u.default)(t)?n=t:(n={})[t]=e,o.set(n),jQuery.each(n,function(t,e){o.trigger(\"change:external:\"+t,e)})},parseDynamicSettings:function(r,i,t){var u=this;return r=goomentoCommon.helpers.cloneObject(r||u.attributes),i=i||{},t=t||this.controls,jQuery.each(t,function(){var n,o=this;if(\"repeater\"!==o.type){if(n=r.__dynamic__&&r.__dynamic__[o.name]){var e,t=o.dynamic;if((t=void 0===t?goomento.config.controls[o.type].dynamic:t)&&t.active){try{e=goomento.dynamicTags.parseTagsText(n,t,goomento.dynamicTags.getTagDataContent)}catch(t){if(goomento.dynamicTags.CACHE_KEY_NOT_FOUND_ERROR!==t.message)throw t;e=\"\",i.onServerRequestStart&&i.onServerRequestStart(),goomento.dynamicTags.refreshCacheFromServer(function(){i.onServerRequestEnd&&i.onServerRequestEnd()})}t.property?r[o.name][t.property]=e:r[o.name]=e}}}else(n=r[o.name]).forEach(function(t,e){n[e]=u.parseDynamicSettings(t,i,o.fields)})}),r},toJSON:function(t){var o,r=Backbone.Model.prototype.toJSON.call(this);return t=t||{},delete r.widgetType,delete r.elType,delete r.isInner,_.each(r,function(t,e){t&&t.toJSON&&(r[e]=t.toJSON())}),(t.remove&&-1!==t.remove.indexOf(\"default\")||t.removeDefault)&&(o=this.controls,_.each(r,function(t,e){var n=o[e];!n||n.save_default||(\"text\"===n.type||\"textarea\"===n.type)&&r[e]||_.isEqual(r[e],n.default)&&delete r[e]})),goomentoCommon.helpers.cloneObject(r)}}),t.exports=o}],o={},r.m=n,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,\"a\",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p=\"\",r(r.s=491);function r(t){var e;return(o[t]||(e=o[t]={i:t,l:!1,exports:{}},n[t].call(e.exports,e,e.exports,r),e.l=!0,e)).exports}var n,o});","Goomento_PageBuilder/build/editor.min.js":"!function(e,t){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var n,o=t();for(n in o)(\"object\"==typeof exports?exports:e)[n]=o[n]}}(window,function(){return n=[function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e=e.exports={version:\"2.6.12\"};\"number\"==typeof __e&&(__e=e)},function(e,t,n){e.exports=n(126)},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=n(2);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),i(e,o.key,o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(107),i=n(133);e.exports=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=o(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=n(81),r=n(25),a=n(144),l=n(145);e.exports=function(n){var o=a();return function(){var e,t=r(n);return e=o?(e=r(this).constructor,i(t,arguments,e)):t.apply(this,arguments),l(this,e)}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){function h(e,t,n){var o,i,r,a=e&h.F,l=e&h.G,s=e&h.S,u=e&h.P,c=e&h.B,d=e&h.W,f=l?v:v[t]||(v[t]={}),g=f.prototype,p=l?m:s?m[t]:(m[t]||{}).prototype;for(o in n=l?t:n)(i=!a&&p&&void 0!==p[o])&&w(f,o)||(r=(i?p:n)[o],f[o]=l&&\"function\"!=typeof p[o]?n[o]:c&&i?y(r,m):d&&p[o]==r?function(o){function e(e,t,n){if(this instanceof o){switch(arguments.length){case 0:return new o;case 1:return new o(e);case 2:return new o(e,t)}return new o(e,t,n)}return o.apply(this,arguments)}return e.prototype=o.prototype,e}(r):u&&\"function\"==typeof r?y(Function.call,r):r,u&&((f.virtual||(f.virtual={}))[o]=r,e&h.R)&&g&&!g[o]&&b(g,o,r))}var m=n(8),v=n(1),y=n(59),b=n(19),w=n(11);h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,e.exports=h},function(e,t){e=e.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=e)},function(e,t){e.exports=function(e){return\"object\"==typeof e?null!==e:\"function\"==typeof e}},function(e,t,n){var o=n(63)(\"wks\"),i=n(64),r=n(17).Symbol,a=\"function\"==typeof r;(e.exports=function(e){return o[e]||(o[e]=a&&r[e]||(a?r:i)(\"Symbol.\"+e))}).store=o},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=!n(18)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(e,t,n){var o=n(9);e.exports=function(e){if(o(e))return e;throw TypeError(e+\" is not an object!\")}},function(e,t,n){var o=n(13),i=n(77),r=n(52),a=Object.defineProperty;t.f=n(12)?Object.defineProperty:function(e,t,n){if(o(e),t=r(t,!0),o(n),i)try{return a(e,t,n)}catch(e){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(e[t]=n.value),e}},function(e,t,n){var o=n(55)(\"wks\"),i=n(37),r=n(8).Symbol,a=\"function\"==typeof r;(e.exports=function(e){return o[e]||(o[e]=a&&r[e]||(a?r:i)(\"Symbol.\"+e))}).store=o},function(e,t,n){var o=n(108),i=n(42);e.exports=function(e){return o(i(e))}},function(e,t){e=e.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=e)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var o=n(14),i=n(31);e.exports=n(12)?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var o=n(24);e.exports=function(e){if(o(e))return e;throw TypeError(e+\" is not an object!\")}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var o=n(39),i=n(83);e.exports=n(23)?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports=!n(21)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){return\"object\"==typeof e?null!==e:\"function\"==typeof e}},function(t,e,n){var o=n(80),i=n(141);function r(e){return t.exports=r=o?i:function(e){return e.__proto__||i(e)},t.exports.default=t.exports,t.exports.__esModule=!0,r(e)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},function(e,t,n){function g(e,t,n){var o,i,r,a=e&g.F,l=e&g.G,s=e&g.P,u=e&g.B,c=l?p:e&g.S?p[t]||(p[t]={}):(p[t]||{}).prototype,d=l?h:h[t]||(h[t]={}),f=d.prototype||(d.prototype={});for(o in n=l?t:n)i=((r=!a&&c&&void 0!==c[o])?c:n)[o],r=u&&r?y(i,p):s&&\"function\"==typeof i?y(Function.call,i):i,c&&v(c,o,i,e&g.U),d[o]!=i&&m(d,o,r),s&&f[o]!=i&&(f[o]=i)}var p=n(17),h=n(51),m=n(22),v=n(30),y=n(71);p.core=h,g.F=1,g.G=2,g.S=4,g.P=8,g.B=16,g.W=32,g.U=64,g.R=128,e.exports=g},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){\"use strict\";var o=n(26),i=n(73)(5),r=!0;\"find\"in[]&&Array(1).find(function(){r=!1}),o(o.P+o.F*r,\"Array\",{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(99)(\"find\")},function(e,t,n){var o=n(42);e.exports=function(e){return Object(o(e))}},function(e,t,n){var r=n(17),a=n(22),l=n(47),s=n(64)(\"src\"),o=n(121),u=(\"\"+o).split(\"toString\");n(51).inspectSource=function(e){return o.call(e)},(e.exports=function(e,t,n,o){var i=\"function\"==typeof n;i&&!l(n,\"name\")&&a(n,\"name\",t),e[t]!==n&&(i&&!l(n,s)&&a(n,s,e[t]?\"\"+e[t]:u.join(String(t))),e===r?e[t]=n:o?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,\"toString\",function(){return\"function\"==typeof this&&this[s]||o.call(this)})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var o=n(79),i=n(56);e.exports=Object.keys||function(e){return o(e,i)}},function(e,t,n){\"use strict\";var o=n(26),i=n(73)(2);o(o.P+o.F*!n(110)([].filter,!0),\"Array\",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var o=n(46),i=Math.min;e.exports=function(e){return 0<e?i(o(e),9007199254740991):0}},function(e,t,n){function o(){}var i=n(13),r=n(114),a=n(56),l=n(54)(\"IE_PROTO\"),s=function(){var e=n(78)(\"iframe\"),t=a.length;for(e.style.display=\"none\",n(132).appendChild(e),e.src=\"javascript:\",(e=e.contentWindow.document).open(),e.write(\"<script>document.F=Object<\\/script>\"),e.close(),s=e.F;t--;)delete s.prototype[a[t]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(o.prototype=i(e),n=new o,o.prototype=null,n[l]=e):n=s(),void 0===t?n:r(n,t)}},function(e,t){e.exports=!0},function(e,t){var n=0,o=Math.random();e.exports=function(e){return\"Symbol(\".concat(void 0===e?\"\":e,\")_\",(++n+o).toString(36))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError(\"Can't call method on  \"+e);return e}},function(e,t,n){var o=n(20),i=n(112),r=n(104),a=Object.defineProperty;t.f=n(23)?Object.defineProperty:function(e,t,n){if(o(e),t=r(t,!0),o(n),i)try{return a(e,t,n)}catch(e){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(e[t]=n.value),e}},function(e,t,n){var o=n(45),i=n(31),r=n(16),a=n(52),l=n(11),s=n(77),u=Object.getOwnPropertyDescriptor;t.f=n(12)?u:function(e,t){if(e=r(e),t=a(t,!0),s)try{return u(e,t)}catch(e){}if(l(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,n){var o=n(39).f,i=Function.prototype,r=/^\\s*function ([^ (]*)/;\"name\"in i||n(23)&&o(i,\"name\",{configurable:!0,get:function(){try{return(\"\"+this).match(r)[1]}catch(e){return\"\"}}})},function(e,t){e.exports=function(e){if(null==e)throw TypeError(\"Can't call method on  \"+e);return e}},function(e,t){e.exports={}},function(e,t,n){e.exports=n(171)},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?o:n)(e)}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if(\"function\"!=typeof e)throw TypeError(e+\" is not a function!\");return e}},function(e,t,n){var o=n(14).f,i=n(11),r=n(15)(\"toStringTag\");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,r)&&o(e,r,{configurable:!0,value:t})}},function(o,e,t){var i=t(165),r=t(157),a=t(170);function l(e,t,n){return\"undefined\"!=typeof Reflect&&i?o.exports=l=i:o.exports=l=function(e,t,n){var e=a(e,t);if(e)return(e=r(e,t)).get?e.get.call(n):e.value},o.exports.default=o.exports,o.exports.__esModule=!0,l(e,t,n||e)}o.exports=l,o.exports.default=o.exports,o.exports.__esModule=!0},function(e,t){e=e.exports={version:\"2.6.12\"};\"number\"==typeof __e&&(__e=e)},function(e,t,n){var i=n(9);e.exports=function(e,t){if(!i(e))return e;var n,o;if(t&&\"function\"==typeof(n=e.toString)&&!i(o=n.call(e))||\"function\"==typeof(n=e.valueOf)&&!i(o=n.call(e))||!t&&\"function\"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError(\"Can't convert object to primitive value\")}},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?o:n)(e)}},function(e,t,n){var o=n(55)(\"keys\"),i=n(37);e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var o=n(1),i=n(8),r=i[\"__core-js_shared__\"]||(i[\"__core-js_shared__\"]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})(\"versions\",[]).push({version:o.version,mode:n(36)?\"pure\":\"global\",copyright:\"\u00a9 2020 Denis Pushkarev (zloirock.ru)\"})},function(e,t){e.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},function(e,t,n){t.f=n(15)},function(e,t,n){var o=n(8),i=n(1),r=n(36),a=n(57),l=n(14).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=!r&&o.Symbol||{});\"_\"==e.charAt(0)||e in t||l(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(48);e.exports=function(o,i,e){if(r(o),void 0===i)return o;switch(e){case 1:return function(e){return o.call(i,e)};case 2:return function(e,t){return o.call(i,e,t)};case 3:return function(e,t,n){return o.call(i,e,t,n)}}return function(){return o.apply(i,arguments)}}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(11),i=n(29),r=n(54)(\"IE_PROTO\"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),o(e,r)?e[r]:\"function\"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){\"use strict\";var k=n(20),S=n(70),x=n(34),_=n(46),E=n(96),T=n(88),M=Math.max,P=Math.min,I=Math.floor,R=/\\$([$&`']|\\d\\d?|<[^>]*>)/g,D=/\\$([$&`']|\\d\\d?)/g;n(90)(\"replace\",2,function(i,r,w,C){return[function(e,t){var n=i(this),o=null==e?void 0:e[r];return void 0!==o?o.call(e,n,t):w.call(String(n),e,t)},function(e,t){var n=C(w,e,this,t);if(n.done)return n.value;var o,i=k(e),r=String(this),a=\"function\"==typeof t,l=(a||(t=String(t)),i.global);l&&(o=i.unicode,i.lastIndex=0);for(var s=[];;){var u=T(i,r);if(null===u)break;if(s.push(u),!l)break;\"\"===String(u[0])&&(i.lastIndex=E(r,x(i.lastIndex),o))}for(var c,d=\"\",f=0,g=0;g<s.length;g++){for(var u=s[g],p=String(u[0]),h=M(P(_(u.index),r.length),0),m=[],v=1;v<u.length;v++)m.push(void 0===(c=u[v])?c:String(c));var y=u.groups,b=a?(b=[p].concat(m,h,r),void 0!==y&&b.push(y),String(t.apply(void 0,b))):function(r,a,l,s,u,e){var c=l+r.length,d=s.length,t=D;return void 0!==u&&(u=S(u),t=R),w.call(e,t,function(e,t){var n;switch(t.charAt(0)){case\"$\":return\"$\";case\"&\":return r;case\"`\":return a.slice(0,l);case\"'\":return a.slice(c);case\"<\":n=u[t.slice(1,-1)];break;default:var o,i=+t;if(0==i)return e;if(d<i)return 0!==(o=I(i/10))&&o<=d?void 0===s[o-1]?t.charAt(1):s[o-1]+t.charAt(1):e;n=s[i-1]}return void 0===n?\"\":n})}(p,r,h,m,y,t);f<=h&&(d+=r.slice(f,h)+b,f=h+p.length)}return d+r.slice(f)}]})},function(e,t,n){var o=n(51),i=n(17),r=i[\"__core-js_shared__\"]||(i[\"__core-js_shared__\"]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})(\"versions\",[]).push({version:o.version,mode:n(89)?\"pure\":\"global\",copyright:\"\u00a9 2020 Denis Pushkarev (zloirock.ru)\"})},function(e,t){var n=0,o=Math.random();e.exports=function(e){return\"Symbol(\".concat(void 0===e?\"\":e,\")_\",(++n+o).toString(36))}},function(e,t,n){var i=n(7),r=n(1),a=n(18);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],o={};o[e]=t(n),i(i.S+i.F*a(function(){n(1)}),\"Object\",o)}},function(t,e,n){var o=n(100),i=n(103);function r(e){return t.exports=r=\"function\"==typeof o&&\"symbol\"==typeof i?function(e){return typeof e}:function(e){return e&&\"function\"==typeof o&&e.constructor===o&&e!==o.prototype?\"symbol\":typeof e},t.exports.default=t.exports,t.exports.__esModule=!0,r(e)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},function(e,t,n){\"use strict\";var o,i,a=n(111),l=RegExp.prototype.exec,s=String.prototype.replace,n=l,u=(i=/b*/g,l.call(o=/a/,\"a\"),l.call(i,\"a\"),0!==o.lastIndex||0!==i.lastIndex),c=void 0!==/()??/.exec(\"\")[1];e.exports=n=u||c?function(e){var t,n,o,i,r=this;return c&&(n=new RegExp(\"^\"+r.source+\"$(?!\\\\s)\",a.call(r))),u&&(t=r.lastIndex),o=l.call(r,e),u&&o&&(r.lastIndex=r.global?o.index+o[0].length:t),c&&o&&1<o.length&&s.call(o[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)}),o}:n},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var o=n(38);e.exports=function(e){return Object(o(e))}},function(e,t,n){var r=n(84);e.exports=function(o,i,e){if(r(o),void 0===i)return o;switch(e){case 1:return function(e){return o.call(i,e)};case 2:return function(e,t){return o.call(i,e,t)};case 3:return function(e,t,n){return o.call(i,e,t,n)}}return function(){return o.apply(i,arguments)}}},function(e,t,n){\"use strict\";var o=n(97),i={};i[n(10)(\"toStringTag\")]=\"z\",i+\"\"!=\"[object z]\"&&n(30)(Object.prototype,\"toString\",function(){return\"[object \"+o(this)+\"]\"},!0)},function(e,t,n){var b=n(71),w=n(92),C=n(70),k=n(34),o=n(123);e.exports=function(d,e){var f=1==d,g=2==d,p=3==d,h=4==d,m=6==d,v=5==d||m,y=e||o;return function(e,t,n){for(var o,i,r=C(e),a=w(r),l=b(t,n,3),s=k(a.length),u=0,c=f?y(e,s):g?y(e,0):void 0;u<s;u++)if((v||u in a)&&(i=l(o=a[u],u,r),d))if(f)c[u]=i;else if(i)switch(d){case 3:return!0;case 5:return o;case 6:return u;case 2:c.push(o)}else if(h)return!1;return m?-1:p||h?h:c}}},function(e,t,n){e.exports=n(19)},function(e,t,n){var o=n(79),i=n(56).concat(\"length\",\"prototype\");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},function(e,t,n){\"use strict\";var d=n(122),v=n(20),y=n(173),b=n(96),w=n(34),C=n(88),f=n(67),o=n(21),k=Math.min,g=[].push,S=\"length\",x=!o(function(){RegExp(4294967295,\"y\")});n(90)(\"split\",2,function(i,r,p,h){var m=\"c\"==\"abbc\".split(/(b)*/)[1]||4!=\"test\".split(/(?:)/,-1)[S]||2!=\"ab\".split(/(?:ab)*/)[S]||4!=\".\".split(/(.?)(.?)/)[S]||1<\".\".split(/()()/)[S]||\"\".split(/.?/)[S]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!d(e))return p.call(n,e,t);for(var o,i,r,a=[],l=(e.ignoreCase?\"i\":\"\")+(e.multiline?\"m\":\"\")+(e.unicode?\"u\":\"\")+(e.sticky?\"y\":\"\"),s=0,u=void 0===t?4294967295:t>>>0,c=new RegExp(e.source,l+\"g\");(o=f.call(c,n))&&!((i=c.lastIndex)>s&&(a.push(n.slice(s,o.index)),1<o[S]&&o.index<n[S]&&g.apply(a,o.slice(1)),r=o[0][S],s=i,u<=a[S]));)c.lastIndex===o.index&&c.lastIndex++;return s===n[S]?!r&&c.test(\"\")||a.push(\"\"):a.push(n.slice(s)),u<a[S]?a.slice(0,u):a}:\"0\".split(void 0,0)[S]?function(e,t){return void 0===e&&0===t?[]:p.call(this,e,t)}:p;return[function(e,t){var n=i(this),o=null==e?void 0:e[r];return void 0!==o?o.call(e,n,t):m.call(String(n),e,t)},function(e,t){var n=h(m,e,this,t,m!==p);if(n.done)return n.value;var n=v(e),o=String(this),e=y(n,RegExp),i=n.unicode,r=(n.ignoreCase?\"i\":\"\")+(n.multiline?\"m\":\"\")+(n.unicode?\"u\":\"\")+(x?\"y\":\"g\"),a=new e(x?n:\"^(?:\"+n.source+\")\",r),l=void 0===t?4294967295:t>>>0;if(0==l)return[];if(0===o.length)return null===C(a,o)?[o]:[];for(var s=0,u=0,c=[];u<o.length;){a.lastIndex=x?u:0;var d,f=C(a,x?o:o.slice(u));if(null===f||(d=k(w(a.lastIndex+(x?0:u)),o.length))===s)u=b(o,u,i);else{if(c.push(o.slice(s,u)),c.length===l)return c;for(var g=1;g<=f.length-1;g++)if(c.push(f[g]),c.length===l)return c;u=s=d}}return c.push(o.slice(s)),c}]})},function(e,t,n){e.exports=!n(12)&&!n(18)(function(){return 7!=Object.defineProperty(n(78)(\"div\"),\"a\",{get:function(){return 7}}).a})},function(e,t,n){var o=n(9),i=n(8).document,r=o(i)&&o(i.createElement);e.exports=function(e){return r?i.createElement(e):{}}},function(e,t,n){var a=n(11),l=n(16),s=n(130)(!1),u=n(54)(\"IE_PROTO\");e.exports=function(e,t){var n,o=l(e),i=0,r=[];for(n in o)n!=u&&a(o,n)&&r.push(n);for(;t.length>i;)!a(o,n=t[i++])||~s(r,n)||r.push(n);return r}},function(e,t,n){e.exports=n(134)},function(e,t,n){e.exports=n(137)},function(e,t,n){\"use strict\";function v(){return this}var y=n(36),b=n(7),w=n(74),C=n(19),k=n(43),S=n(153),x=n(49),_=n(61),E=n(15)(\"iterator\"),T=!([].keys&&\"next\"in[].keys());e.exports=function(e,t,n,o,i,r,a){S(n,t,o);function l(e){if(!T&&e in f)return f[e];switch(e){case\"keys\":case\"values\":return function(){return new n(this,e)}}return function(){return new n(this,e)}}var s,u,o=t+\" Iterator\",c=\"values\"==i,d=!1,f=e.prototype,g=f[E]||f[\"@@iterator\"]||i&&f[i],p=g||l(i),h=i?c?l(\"entries\"):p:void 0,m=\"Array\"==t&&f.entries||g;if(m&&(m=_(m.call(new e)))!==Object.prototype&&m.next&&(x(m,o,!0),y||\"function\"==typeof m[E]||C(m,E,v)),c&&g&&\"values\"!==g.name&&(d=!0,p=function(){return g.call(this)}),y&&!a||!T&&!d&&f[E]||C(f,E,p),k[t]=p,k[o]=v,i)if(s={values:c?p:l(\"values\"),keys:r?p:l(\"keys\"),entries:h},a)for(u in s)u in f||w(f,u,s[u]);else b(b.P+b.F*(T||d),t,s);return s}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if(\"function\"!=typeof e)throw TypeError(e+\" is not a function!\");return e}},function(e,t,n){var o=n(92),i=n(38);e.exports=function(e){return o(i(e))}},function(e,t,n){\"use strict\";var o=n(99),i=n(178),r=n(94),a=n(85);e.exports=n(179)(Array,\"Array\",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,\"keys\"==t?n:\"values\"==t?e[n]:[n,e[n]])},\"values\"),r.Arguments=r.Array,o(\"keys\"),o(\"values\"),o(\"entries\")},function(e,t,n){\"use strict\";n(33),n(62),n(113);var o=n(193),i=n(295),r=n(218),n=o.extend({ui:function(){var e=o.prototype.ui.apply(this,arguments);return _.extend(e,{input:'input[data-setting][type!=\"checkbox\"][type!=\"radio\"]',checkbox:'input[data-setting][type=\"checkbox\"]',radio:'input[data-setting][type=\"radio\"]',select:\"select[data-setting]\",textarea:\"textarea[data-setting]\",responsiveSwitchers:\".gmt-responsive-switcher\",contentEditable:'[contenteditable=\"true\"]',tooltipTarget:\".tooltip-target\"}),e},templateHelpers:function(){var e=o.prototype.templateHelpers.apply(this,arguments);return e.data.controlValue=this.getControlValue(),e},events:function(){return{\"input @ui.input\":\"onBaseInputChange\",\"change @ui.checkbox\":\"onBaseInputChange\",\"change @ui.radio\":\"onBaseInputChange\",\"input @ui.textarea\":\"onBaseInputChange\",\"change @ui.select\":\"onBaseInputChange\",\"input @ui.contentEditable\":\"onBaseInputChange\",\"click @ui.responsiveSwitchers\":\"onResponsiveSwitchersClick\"}},behaviors:function(){var e,t={},n=this.options.model.get(\"dynamic\");return n&&n.active&&(e=_.filter(goomento.dynamicTags.getConfig(\"tags\"),function(e){return _.intersection(e.categories,n.categories).length})).length&&(t.tags={behaviorClass:i,tags:e,dynamicSettings:n}),t},initialize:function(){o.prototype.initialize.apply(this,arguments),this.registerValidators(),this.listenTo(this.elementSettingsModel,\"change:external:\"+this.model.get(\"name\"),this.onAfterExternalChange),this.onBaseInputChange=_.throttle(this.onBaseInputChange,200,{trailing:!1})},getControlValue:function(){return this.elementSettingsModel.get(this.model.get(\"name\"))},setValue:function(e){this.setSettingsModel(e)},setSettingsModel:function(e){this.elementSettingsModel.set(this.model.get(\"name\"),e),this.triggerMethod(\"settings:change\")},applySavedValue:function(){this.setInputValue('[data-setting=\"'+this.model.get(\"name\")+'\"]',this.getControlValue())},getEditSettings:function(e){var t=this.getOption(\"elementEditSettings\").toJSON();return e?t[e]:t},setEditSetting:function(e,t){this.getOption(\"elementEditSettings\").set(e,t)},getInputValue:function(e){var t,n,o=this.$(e);return o.is('[contenteditable=\"true\"]')?o.html():(t=o.val(),n=o.attr(\"type\"),-1!==[\"radio\",\"checkbox\"].indexOf(n)?o.prop(\"checked\")?t:\"\":\"number\"===n&&_.isFinite(t)?+t:t=\"SELECT\"===e.tagName&&o.prop(\"multiple\")&&null===t?[]:t)},setInputValue:function(e,t){var e=this.$(e),n=e.attr(\"type\");\"checkbox\"===n?e.prop(\"checked\",!!t):\"radio\"===n?e.filter('[value=\"'+t+'\"]').prop(\"checked\",!0):e.val(t)},addValidator:function(e){this.validators.push(e)},registerValidators:function(){this.validators=[];var e={};this.model.get(\"required\")&&(e.required=!0),_.isEmpty(e)||this.addValidator(new r({validationTerms:e}))},onRender:function(){o.prototype.onRender.apply(this,arguments),this.model.get(\"responsive\")&&this.renderResponsiveSwitchers(),this.applySavedValue(),this.triggerMethod(\"ready\"),this.toggleControlVisibility(),this.addTooltip()},sanitizeContent:function(e){return e&&_.isString(e)?e.replace(/data-gmt-setting-key=\\\".*\\\"/,\"\").replace(/data-gmt-inline-editing-toolbar=\\\".*\\\"/,\"\"):e},onBaseInputChange:function(e){clearTimeout(this.correctionTimeout);var t=e.currentTarget,n=this.getInputValue(t),o=this.validators.slice(0),i=this.elementSettingsModel.validators[this.model.get(\"name\")],r=this.sanitizeContent(n);if(n!==r&&(this.setInputValue(t,r),n=r),o=i?o.concat(i):o){var a=this.getControlValue(t.dataset.setting);if(!o.every(function(e){return e.isValid(n,a)}))return void(this.correctionTimeout=setTimeout(this.setInputValue.bind(this,t,a),1200))}this.updateElementModel(n,t),this.triggerMethod(\"input:change\",e)},onResponsiveSwitchersClick:function(e){var e=$(e.currentTarget),t=e.data(\"device\");this.triggerMethod(\"responsive:switcher:click\",t),e.parents(\".gmt-control-responsive-switchers\").toggleClass(\"gmt-responsive-switchers-open\"),goomento.changeDeviceMode(t)},renderResponsiveSwitchers:function(){var e=Marionette.Renderer.render(\"#tmpl-gmt-control-responsive-switchers\",this.model.attributes);this.ui.controlTitle.after(e)},onAfterExternalChange:function(){this.hideTooltip(),this.applySavedValue()},addTooltip:function(){this.ui.tooltipTarget&&this.ui.tooltipTarget.tipsy({gravity:function(){var e=jQuery(this).data(\"tooltip-pos\");return void 0!==e?e:\"n\"},title:function(){return this.getAttribute(\"data-tooltip\")}})},hideTooltip:function(){this.ui.tooltipTarget&&this.ui.tooltipTarget.tipsy(\"hide\")},updateElementModel:function(e){this.setValue(e)}},{getStyleValue:function(e,t,n){return\"DEFAULT\"===e?n.default:t},onPasteStyle:function(){return!0}});e.exports=n},function(e,t,n){\"use strict\";var o=n(97),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if(\"function\"==typeof n){n=n.call(e,t);if(\"object\"!=typeof n)throw new TypeError(\"RegExp exec method returned something other than an Object or null\");return n}if(\"RegExp\"!==o(e))throw new TypeError(\"RegExp#exec called on incompatible receiver\");return i.call(e,t)}},function(e,t){e.exports=!1},function(e,t,n){\"use strict\";n(164);var o,s=n(30),u=n(22),c=n(21),d=n(38),f=n(10),g=n(67),p=f(\"species\"),h=!c(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:\"7\"},e},\"7\"!==\"\".replace(e,\"$<a>\")}),m=(o=(n=/(?:)/).exec,n.exec=function(){return o.apply(this,arguments)},2===(n=\"ab\".split(n)).length&&\"a\"===n[0]&&\"b\"===n[1]);e.exports=function(n,e,t){var r,o,i=f(n),a=!c(function(){var e={};return e[i]=function(){return 7},7!=\"\"[n](e)}),l=a?!c(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},\"split\"===n&&(t.constructor={},t.constructor[p]=function(){return t}),t[i](\"\"),!e}):void 0;a&&l&&(\"replace\"!==n||h)&&(\"split\"!==n||m)||(r=/./[i],t=(l=t(d,i,\"\"[n],function(e,t,n,o,i){return t.exec===g?a&&!i?{done:!0,value:r.call(t,n,o)}:{done:!0,value:e.call(n,t,o)}:{done:!1}}))[0],o=l[1],s(String.prototype,n,t),u(RegExp.prototype,i,2==e?function(e,t){return o.call(e,this,t)}:function(e){return o.call(e,this)}))}},function(e,t,n){var o=n(24),i=n(17).document,r=o(i)&&o(i.createElement);e.exports=function(e){return r?i.createElement(e):{}}},function(e,t,n){var o=n(27);e.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(e){return\"String\"==o(e)?e.split(\"\"):Object(e)}},function(e,t,n){var o=n(53),i=Math.min;e.exports=function(e){return 0<e?i(o(e),9007199254740991):0}},function(e,t){e.exports={}},function(e,t,n){var o=n(63)(\"keys\"),i=n(64);e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){\"use strict\";var o=n(163)(!0);e.exports=function(e,t,n){return t+(n?o(e,t).length:1)}},function(e,t,n){var o=n(27),i=n(10)(\"toStringTag\"),r=\"Arguments\"==o(function(){return arguments}());e.exports=function(e){var t;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=Object(e),i))?t:r?o(e):\"Object\"==(t=o(e))&&\"function\"==typeof e.callee?\"Arguments\":t}},function(e,t,n){\"use strict\";var c=n(20),d=n(34),f=n(96),g=n(88);n(90)(\"match\",1,function(o,i,s,u){return[function(e){var t=o(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,t):new RegExp(e)[i](String(t))},function(e){var t=u(s,e,this);if(t.done)return t.value;var n=c(e),o=String(this);if(!n.global)return g(n,o);for(var i=n.unicode,r=[],a=n.lastIndex=0;null!==(l=g(n,o));){var l=String(l[0]);\"\"===(r[a]=l)&&(n.lastIndex=f(o,d(n.lastIndex),i)),a++}return 0===a?null:r}]})},function(e,t,n){var o=n(10)(\"unscopables\"),i=Array.prototype;null==i[o]&&n(22)(i,o,{}),e.exports=function(e){i[o][e]=!0}},function(e,t,n){e.exports=n(146)},function(e,t,n){function o(e){l(e,i,{value:{i:\"O\"+ ++s,w:{}}})}var i=n(37)(\"meta\"),r=n(9),a=n(11),l=n(14).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(18)(function(){return u(Object.preventExtensions({}))}),d=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!r(e))return\"symbol\"==typeof e?e:(\"string\"==typeof e?\"S\":\"P\")+e;if(!a(e,i)){if(!u(e))return\"F\";if(!t)return\"E\";o(e)}return e[i].i},getWeak:function(e,t){if(!a(e,i)){if(!u(e))return!0;if(!t)return!1;o(e)}return e[i].w},onFreeze:function(e){return c&&d.NEED&&u(e)&&!a(e,i)&&o(e),e}}},function(e,t,n){var o=n(68);e.exports=Array.isArray||function(e){return\"Array\"==o(e)}},function(e,t,n){e.exports=n(151)},function(e,t,n){var i=n(24);e.exports=function(e,t){if(!i(e))return e;var n,o;if(t&&\"function\"==typeof(n=e.toString)&&!i(o=n.call(e))||\"function\"==typeof(n=e.valueOf)&&!i(o=n.call(e))||!t&&\"function\"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError(\"Can't convert object to primitive value\")}},function(e,t,n){n=n(17).document;e.exports=n&&n.documentElement},function(e,t,n){var o=n(46),i=Math.max,r=Math.min;e.exports=function(e,t){return(e=o(e))<0?i(e+t,0):r(e,t)}},function(e,t,n){e.exports=n(128)},function(e,t,n){var o=n(68);e.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(e){return\"String\"==o(e)?e.split(\"\"):Object(e)}},function(e,t,n){\"use strict\";var o=n(152)(!0);n(82)(String,\"String\",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(e=o(e,t),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){\"use strict\";var o=n(21);e.exports=function(e,t){return!!e&&o(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){\"use strict\";var o=n(20);e.exports=function(){var e=o(this),t=\"\";return e.global&&(t+=\"g\"),e.ignoreCase&&(t+=\"i\"),e.multiline&&(t+=\"m\"),e.unicode&&(t+=\"u\"),e.sticky&&(t+=\"y\"),t}},function(e,t,n){e.exports=!n(23)&&!n(21)(function(){return 7!=Object.defineProperty(n(91)(\"div\"),\"a\",{get:function(){return 7}}).a})},function(e,t,n){\"use strict\";var o=n(26),i=n(105),s=n(27),u=n(106),c=n(34),d=[].slice;o(o.P+o.F*n(21)(function(){i&&d.call(i)}),\"Array\",{slice:function(e,t){var n=c(this.length),o=s(this);if(t=void 0===t?n:t,\"Array\"==o)return d.call(this,e,t);for(var i=u(e,n),e=u(t,n),r=c(e-i),a=new Array(r),l=0;l<r;l++)a[l]=\"String\"==o?this.charAt(i+l):this[i+l];return a}})},function(e,t,n){var a=n(14),l=n(13),s=n(32);e.exports=n(12)?Object.defineProperties:function(e,t){l(e);for(var n,o=s(t),i=o.length,r=0;r<i;)a.f(e,n=o[r++],t[n]);return e}},function(F,L,e){\"use strict\";function o(e){var t=P[e]=C(x.prototype);return t._k=e,t}function a(e,t,n){return e===R&&a(I,t,n),v(e),t=b(t,!0),v(n),(u(P,t)?(n.enumerable?(u(e,T)&&e[T][t]&&(e[T][t]=!1),n=C(n,{enumerable:w(0,!1)})):(u(e,T)||S(e,T,w(1,{})),e[T][t]=!0),V):S)(e,t,n)}function n(e,t){v(e);for(var n,o=B(t=y(t)),i=0,r=o.length;i<r;)a(e,n=o[i++],t[n]);return e}function t(e){var t=Z.call(this,e=b(e,!0));return!(this===R&&u(P,e)&&!u(I,e))&&(!(t||!u(this,e)||!u(P,e)||u(this,T)&&this[T][e])||t)}function i(e,t){var n;if(e=y(e),t=b(t,!0),e!==R||!u(P,t)||u(I,t))return!(n=J(e,t))||!u(P,t)||u(e,T)&&e[T][t]||(n.enumerable=!0),n}function r(e){for(var t,n=Y(y(e)),o=[],i=0;n.length>i;)u(P,t=n[i++])||t==T||t==$||o.push(t);return o}function l(e){for(var t,n=e===R,o=Y(n?I:y(e)),i=[],r=0;o.length>r;)!u(P,t=o[r++])||n&&!u(R,t)||i.push(P[t]);return i}var s=e(8),u=e(11),c=e(12),d=e(7),f=e(74),$=e(101).KEY,g=e(18),p=e(55),h=e(49),N=e(37),m=e(15),j=e(57),z=e(58),B=e(147),q=e(102),v=e(13),W=e(9),U=e(29),y=e(16),b=e(52),w=e(31),C=e(35),H=e(148),Q=e(40),k=e(69),G=e(14),K=e(32),J=Q.f,S=G.f,Y=H.f,x=s.Symbol,_=s.JSON,E=_&&_.stringify,T=m(\"_hidden\"),X=m(\"toPrimitive\"),Z={}.propertyIsEnumerable,M=p(\"symbol-registry\"),P=p(\"symbols\"),I=p(\"op-symbols\"),R=Object.prototype,p=\"function\"==typeof x&&!!k.f,D=s.QObject,O=!D||!D.prototype||!D.prototype.findChild,V=c&&g(function(){return 7!=C(S({},\"a\",{get:function(){return S(this,\"a\",{value:7}).a}})).a})?function(e,t,n){var o=J(R,t);o&&delete R[t],S(e,t,n),o&&e!==R&&S(R,t,o)}:S,A=p&&\"symbol\"==typeof x.iterator?function(e){return\"symbol\"==typeof e}:function(e){return e instanceof x};p||(f((x=function(){if(this instanceof x)throw TypeError(\"Symbol is not a constructor!\");var t=N(0<arguments.length?arguments[0]:void 0),n=function(e){this===R&&n.call(I,e),u(this,T)&&u(this[T],t)&&(this[T][t]=!1),V(this,t,w(1,e))};return c&&O&&V(R,t,{configurable:!0,set:n}),o(t)}).prototype,\"toString\",function(){return this._k}),Q.f=i,G.f=a,e(75).f=H.f=r,e(45).f=t,k.f=l,c&&!e(36)&&f(R,\"propertyIsEnumerable\",t,!0),j.f=function(e){return o(m(e))}),d(d.G+d.W+d.F*!p,{Symbol:x});for(var ee=\"hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables\".split(\",\"),te=0;ee.length>te;)m(ee[te++]);for(var ne=K(m.store),oe=0;ne.length>oe;)z(ne[oe++]);d(d.S+d.F*!p,\"Symbol\",{for:function(e){return u(M,e+=\"\")?M[e]:M[e]=x(e)},keyFor:function(e){if(!A(e))throw TypeError(e+\" is not a symbol!\");for(var t in M)if(M[t]===e)return t},useSetter:function(){O=!0},useSimple:function(){O=!1}}),d(d.S+d.F*!p,\"Object\",{create:function(e,t){return void 0===t?C(e):n(C(e),t)},defineProperty:a,defineProperties:n,getOwnPropertyDescriptor:i,getOwnPropertyNames:r,getOwnPropertySymbols:l});D=g(function(){k.f(1)});d(d.S+d.F*D,\"Object\",{getOwnPropertySymbols:function(e){return k.f(U(e))}}),_&&d(d.S+d.F*(!p||g(function(){var e=x();return\"[null]\"!=E([e])||\"{}\"!=E({a:e})||\"{}\"!=E(Object(e))})),\"JSON\",{stringify:function(e){for(var t,n,o=[e],i=1;i<arguments.length;)o.push(arguments[i++]);if(n=t=o[1],(W(t)||void 0!==e)&&!A(e))return q(t)||(t=function(e,t){if(\"function\"==typeof n&&(t=n.call(this,e,t)),!A(t))return t}),o[1]=t,E.apply(_,o)}}),x.prototype[X]||e(19)(x.prototype,X,x.prototype.valueOf),h(x,\"Symbol\"),h(Math,\"Math\",!0),h(s.JSON,\"JSON\",!0)},function(e,t){},function(e,t,n){n(154);for(var o=n(8),i=n(19),r=n(43),a=n(15)(\"toStringTag\"),l=\"CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList\".split(\",\"),s=0;s<l.length;s++){var u=l[s],c=o[u],c=c&&c.prototype;c&&!c[a]&&i(c,a,u),r[u]=r.Array}},function(e,t){e.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},function(e,t,n){for(var o=n(86),i=n(158),r=n(30),a=n(17),l=n(22),s=n(94),n=n(10),u=n(\"iterator\"),c=n(\"toStringTag\"),d=s.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=i(f),p=0;p<g.length;p++){var h,m=g[p],v=f[m],y=a[m],b=y&&y.prototype;if(b&&(b[u]||l(b,u,d),b[c]||l(b,c,m),s[m]=d,v))for(h in o)b[h]||r(b,h,o[h],!0)}},function(e,t,n){var o=n(2);e.exports=function(e,t,n){return t in e?o(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){e.exports=n(63)(\"native-function-to-string\",Function.toString)},function(e,t,n){var o=n(24),i=n(27),r=n(10)(\"match\");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[r])?!!t:\"RegExp\"==i(e))}},function(e,t,n){var o=n(124);e.exports=function(e,t){return new(o(e))(t)}},function(e,t,n){var o=n(24),i=n(125),r=n(10)(\"species\");e.exports=function(e){var t;return void 0===(t=i(e)&&(\"function\"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),o(t))&&null===(t=t[r])?void 0:t)?Array:t}},function(e,t,n){var o=n(27);e.exports=Array.isArray||function(e){return\"Array\"==o(e)}},function(e,t,n){n(127);var o=n(1).Object;e.exports=function(e,t,n){return o.defineProperty(e,t,n)}},function(e,t,n){var o=n(7);o(o.S+o.F*!n(12),\"Object\",{defineProperty:n(14).f})},function(e,t,n){n(129);var o=n(1).Object;e.exports=function(e,t){return o.create(e,t)}},function(e,t,n){var o=n(7);o(o.S,\"Object\",{create:n(35)})},function(e,t,n){var s=n(16),u=n(93),c=n(131);e.exports=function(l){return function(e,t,n){var o,i=s(e),r=u(i.length),a=c(n,r);if(l&&t!=t){for(;a<r;)if((o=i[a++])!=o)return!0}else for(;a<r;a++)if((l||a in i)&&i[a]===t)return l||a||0;return!l&&-1}}},function(e,t,n){var o=n(53),i=Math.max,r=Math.min;e.exports=function(e,t){return(e=o(e))<0?i(e+t,0):r(e,t)}},function(e,t,n){n=n(8).document;e.exports=n&&n.documentElement},function(n,e,t){var o=t(80);function i(e,t){return n.exports=i=o||function(e,t){return e.__proto__=t,e},n.exports.default=n.exports,n.exports.__esModule=!0,i(e,t)}n.exports=i,n.exports.default=n.exports,n.exports.__esModule=!0},function(e,t,n){n(135),e.exports=n(1).Object.setPrototypeOf},function(e,t,n){var o=n(7);o(o.S,\"Object\",{setPrototypeOf:n(136).set})},function(e,t,i){function r(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+\": can't set as prototype!\")}var n=i(9),o=i(13);e.exports={set:Object.setPrototypeOf||(\"__proto__\"in{}?function(e,n,o){try{(o=i(59)(Function.call,i(40).f(Object.prototype,\"__proto__\").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return r(e,t),n?e.__proto__=t:o(e,t),e}}({},!1):void 0),check:r}},function(e,t,n){n(138),e.exports=n(1).Reflect.construct},function(e,t,n){var o=n(7),i=n(35),r=n(48),a=n(13),l=n(9),s=n(18),u=n(139),c=(n(8).Reflect||{}).construct,d=s(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),f=!s(function(){c(function(){})});o(o.S+o.F*(d||f),\"Reflect\",{construct:function(e,t){r(e),a(t);var n=arguments.length<3?e:r(arguments[2]);if(f&&!d)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var o=[null];return o.push.apply(o,t),new(u.apply(e,o))}o=n.prototype,n=i(l(o)?o:Object.prototype),o=Function.apply.call(e,n,t);return l(o)?o:n}})},function(e,t,n){\"use strict\";var o=n(48),i=n(9),c=n(140),d=[].slice,f={};e.exports=Function.bind||function(a){var l=o(this),s=d.call(arguments,1),u=function(){var e=s.concat(d.call(arguments));if(this instanceof u){var t=l,n=e.length,o=e;if(!(n in f)){for(var i=[],r=0;r<n;r++)i[r]=\"a[\"+r+\"]\";f[n]=Function(\"F,a\",\"return new F(\"+i.join(\",\")+\")\")}return f[n](t,o)}return c(l,e,a)};return i(l.prototype)&&(u.prototype=l.prototype),u}},function(e,t){e.exports=function(e,t,n){var o=void 0===n;switch(t.length){case 0:return o?e():e.call(n);case 1:return o?e(t[0]):e.call(n,t[0]);case 2:return o?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){e.exports=n(142)},function(e,t,n){n(143),e.exports=n(1).Object.getPrototypeOf},function(e,t,n){var o=n(29),i=n(61);n(65)(\"getPrototypeOf\",function(){return function(e){return i(o(e))}})},function(e,t,n){var o=n(81);e.exports=function(){if(\"undefined\"==typeof Reflect||!o)return!1;if(o.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(e){return!1}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(66).default,i=n(60);e.exports=function(e,t){if(t&&(\"object\"===o(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return i(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){n(115),n(116),n(149),n(150),e.exports=n(1).Symbol},function(e,t,n){var l=n(32),s=n(69),u=n(45);e.exports=function(e){var t=l(e),n=s.f;if(n)for(var o,i=n(e),r=u.f,a=0;i.length>a;)r.call(e,o=i[a++])&&t.push(o);return t}},function(e,t,n){var o=n(16),i=n(75).f,r={}.toString,a=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){if(!a||\"[object Window]\"!=r.call(e))return i(o(e));var t=e;try{return i(t)}catch(t){return a.slice()}}},function(e,t,n){n(58)(\"asyncIterator\")},function(e,t,n){n(58)(\"observable\")},function(e,t,n){n(109),n(117),e.exports=n(57).f(\"iterator\")},function(e,t,n){var r=n(53),a=n(42);e.exports=function(i){return function(e,t){var n,e=String(a(e)),t=r(t),o=e.length;return t<0||o<=t?i?\"\":void 0:(n=e.charCodeAt(t))<55296||56319<n||t+1===o||(o=e.charCodeAt(t+1))<56320||57343<o?i?e.charAt(t):n:i?e.slice(t,t+2):o-56320+(n-55296<<10)+65536}}},function(e,t,n){\"use strict\";var o=n(35),i=n(31),r=n(49),a={};n(19)(a,n(15)(\"iterator\"),function(){return this}),e.exports=function(e,t,n){e.prototype=o(a,{next:i(1,n)}),r(e,t+\" Iterator\")}},function(e,t,n){\"use strict\";var o=n(155),i=n(156),r=n(43),a=n(16);e.exports=n(82)(Array,\"Array\",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,\"keys\"==t?n:\"values\"==t?e[n]:[n,e[n]])},\"values\"),r.Arguments=r.Array,o(\"keys\"),o(\"values\"),o(\"entries\")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports=n(168)},function(e,t,n){var o=n(176),i=n(118);e.exports=Object.keys||function(e){return o(e,i)}},function(e,t,n){var o=n(39).f,i=n(47),r=n(10)(\"toStringTag\");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,r)&&o(e,r,{configurable:!0,value:t})}},function(e,t,n){e.exports=n(184)},function(e,t){e.exports=\"\\t\\n\\v\\f\\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\\u2028\\u2029\\ufeff\"},function(e,t,n){e.exports=n(191)},function(e,t,n){var r=n(46),a=n(38);e.exports=function(i){return function(e,t){var n,e=String(a(e)),t=r(t),o=e.length;return t<0||o<=t?i?\"\":void 0:(n=e.charCodeAt(t))<55296||56319<n||t+1===o||(o=e.charCodeAt(t+1))<56320||57343<o?i?e.charAt(t):n:i?e.slice(t,t+2):o-56320+(n-55296<<10)+65536}}},function(e,t,n){\"use strict\";var o=n(67);n(26)({target:\"RegExp\",proto:!0,forced:o!==/./.exec},{exec:o})},function(e,t,n){e.exports=n(166)},function(e,t,n){n(167),e.exports=n(1).Reflect.get},function(e,t,n){var r=n(40),a=n(61),l=n(11),o=n(7),s=n(9),u=n(13);o(o.S,\"Reflect\",{get:function e(t,n){var o,i=arguments.length<3?t:arguments[2];return u(t)===i?t[n]:(o=r.f(t,n))?l(o,\"value\")?o.value:void 0!==o.get?o.get.call(i):void 0:s(o=a(t))?e(o,n,i):void 0}})},function(e,t,n){n(169);var o=n(1).Object;e.exports=function(e,t){return o.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var o=n(16),i=n(40).f;n(65)(\"getOwnPropertyDescriptor\",function(){return function(e,t){return i(o(e),t)}})},function(e,t,n){var o=n(25);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){n(172),e.exports=n(1).Object.keys},function(e,t,n){var o=n(29),i=n(32);n(65)(\"keys\",function(){return function(e){return i(o(e))}})},function(e,t,n){var o=n(20),i=n(84),r=n(10)(\"species\");e.exports=function(e,t){var e=o(e).constructor;return void 0===e||null==(e=o(e)[r])?t:i(e)}},function(e,t,n){var s=n(85),u=n(34),c=n(106);e.exports=function(l){return function(e,t,n){var o,i=s(e),r=u(i.length),a=c(n,r);if(l&&t!=t){for(;a<r;)if((o=i[a++])!=o)return!0}else for(;a<r;a++)if((l||a in i)&&i[a]===t)return l||a||0;return!l&&-1}}},function(e,t,n){function o(){}var i=n(20),r=n(181),a=n(118),l=n(95)(\"IE_PROTO\"),s=function(){var e=n(91)(\"iframe\"),t=a.length;for(e.style.display=\"none\",n(105).appendChild(e),e.src=\"javascript:\",(e=e.contentWindow.document).open(),e.write(\"<script>document.F=Object<\\/script>\"),e.close(),s=e.F;t--;)delete s.prototype[a[t]];return s()};e.exports=Object.create||function(e,t){var n;return null!==e?(o.prototype=i(e),n=new o,o.prototype=null,n[l]=e):n=s(),void 0===t?n:r(n,t)}},function(e,t,n){var a=n(47),l=n(85),s=n(174)(!1),u=n(95)(\"IE_PROTO\");e.exports=function(e,t){var n,o=l(e),i=0,r=[];for(n in o)n!=u&&a(o,n)&&r.push(n);for(;t.length>i;)!a(o,n=t[i++])||~s(r,n)||r.push(n);return r}},function(e,t,n){\"use strict\";var o=n(0)(n(66));n(33),n=n(87).extend({applySavedValue:function(){var e=this.getControlValue(),o=this.$(\"[data-setting]\"),i=this;_.each(e,function(e,t){var n=o.filter(function(){return t===this.dataset.setting});i.setInputValue(n,e)})},getControlValue:function(e){var t=this.elementSettingsModel.get(this.model.get(\"name\"));return jQuery.isPlainObject(t)?e?void 0===(e=t[e])?\"\":e:goomentoCommon.helpers.cloneObject(t):{}},setValue:function(e,t){var n=this.getControlValue();\"object\"===(0,o.default)(e)?_.each(e,function(e,t){n[t]=e}):n[e]=t,this.setSettingsModel(n)},updateElementModel:function(e,t){t=t.dataset.setting;this.setValue(t,e)}},{getStyleValue:function(e,t){return _.isObject(t)?t[e.toLowerCase()]:\"\"}}),e.exports=n},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){\"use strict\";function v(){return this}var y=n(89),b=n(26),w=n(30),C=n(22),k=n(94),S=n(180),x=n(159),_=n(182),E=n(10)(\"iterator\"),T=!([].keys&&\"next\"in[].keys());e.exports=function(e,t,n,o,i,r,a){S(n,t,o);function l(e){if(!T&&e in f)return f[e];switch(e){case\"keys\":case\"values\":return function(){return new n(this,e)}}return function(){return new n(this,e)}}var s,u,o=t+\" Iterator\",c=\"values\"==i,d=!1,f=e.prototype,g=f[E]||f[\"@@iterator\"]||i&&f[i],p=g||l(i),h=i?c?l(\"entries\"):p:void 0,m=\"Array\"==t&&f.entries||g;if(m&&(m=_(m.call(new e)))!==Object.prototype&&m.next&&(x(m,o,!0),y||\"function\"==typeof m[E]||C(m,E,v)),c&&g&&\"values\"!==g.name&&(d=!0,p=function(){return g.call(this)}),y&&!a||!T&&!d&&f[E]||C(f,E,p),k[t]=p,k[o]=v,i)if(s={values:c?p:l(\"values\"),keys:r?p:l(\"keys\"),entries:h},a)for(u in s)u in f||w(f,u,s[u]);else b(b.P+b.F*(T||d),t,s);return s}},function(e,t,n){\"use strict\";var o=n(175),i=n(83),r=n(159),a={};n(22)(a,n(10)(\"iterator\"),function(){return this}),e.exports=function(e,t,n){e.prototype=o(a,{next:i(1,n)}),r(e,t+\" Iterator\")}},function(e,t,n){var a=n(39),l=n(20),s=n(158);e.exports=n(23)?Object.defineProperties:function(e,t){l(e);for(var n,o=s(t),i=o.length,r=0;r<i;)a.f(e,n=o[r++],t[n]);return e}},function(e,t,n){var o=n(47),i=n(70),r=n(95)(\"IE_PROTO\"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),o(e,r)?e[r]:\"function\"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){\"use strict\";n(2)(t,\"__esModule\",{value:!0}),t.default=void 0;n=navigator.userAgent,n={webkit:-1!==n.indexOf(\"AppleWebKit\"),firefox:-1!==n.indexOf(\"Firefox\"),ie:/Trident|MSIE/.test(n),edge:-1!==n.indexOf(\"Edge\"),mac:-1!==n.indexOf(\"Macintosh\")};t.default=n},function(e,t,n){n(185),e.exports=n(1).parseInt},function(e,t,n){var o=n(7),n=n(186);o(o.G+o.F*(parseInt!=n),{parseInt:n})},function(e,t,n){var o=n(8).parseInt,i=n(187).trim,n=n(161),r=/^[-+]?0[xX]/;e.exports=8!==o(n+\"08\")||22!==o(n+\"0x16\")?function(e,t){e=i(String(e),3);return o(e,t>>>0||(r.test(e)?16:10))}:o},function(e,t,n){function o(e,t,n){var o={},i=a(function(){return!!l[e]()||\"\u200b\u0085\"!=\"\u200b\u0085\"[e]()}),t=o[e]=i?t(c):l[e];n&&(o[n]=t),r(r.P+r.F*i,\"String\",o)}var r=n(7),i=n(42),a=n(18),l=n(161),n=\"[\"+l+\"]\",s=RegExp(\"^\"+n+n+\"*\"),u=RegExp(n+n+\"*$\"),c=o.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(s,\"\")),e=2&t?e.replace(u,\"\"):e};e.exports=o},function(e,t,n){\"use strict\";n(282);function o(e){n(30)(RegExp.prototype,\"toString\",e,!0)}var i=n(20),r=n(111),a=n(23),l=/./.toString;n(21)(function(){return\"/a/b\"!=l.call({source:\"a\",flags:\"b\"})})?o(function(){var e=i(this);return\"/\".concat(e.source,\"/\",\"flags\"in e?e.flags:!a&&e instanceof RegExp?r.call(e):void 0)}):\"toString\"!=l.name&&o(function(){return l.call(this)})},function(e,t,n){\"use strict\";var o=n(26),i=n(73)(1);o(o.P+o.F*!n(110)([].map,!0),\"Array\",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){\"use strict\";n=n(87).extend({getSelect2Placeholder:function(){return this.ui.select.children('option:first[value=\"\"]').text()},getSelect2DefaultOptions:function(){return{allowClear:!0,placeholder:this.getSelect2Placeholder(),dir:goomentoCommon.config.isRTL?\"rtl\":\"ltr\"}},getSelect2Options:function(){var e=jQuery.extend(this.getSelect2DefaultOptions(),this.model.get(\"select2options\"));return e.ajax&&(e.ajax.delay=500,e.ajax.data=function(e){return e.content_id=goomento.config.document.id,e}),e},onReady:function(){this.ui.select.select2(this.getSelect2Options())},onBeforeDestroy:function(){this.ui.select.data(\"select2\")&&this.ui.select.select2(\"destroy\"),this.$el.remove()}});e.exports=n},function(e,t,n){var n=n(1),o=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},function(e,t,n){e.exports=n(211)},function(e,t,n){\"use strict\";var o=n(0)(n(44)),n=Marionette.CompositeView.extend({ui:function(){return{controlTitle:\".gmt-control-title\",controlInputWrapper:\".gmt-control-input-wrapper\"}},behaviors:function(){return goomento.hooks.applyFilters(\"controls/base/behaviors\",{},this)},getBehavior:function(e){return this._behaviors[(0,o.default)(this.behaviors()).indexOf(e)]},className:function(){var e=\"gmt-control gmt-control-\"+this.model.get(\"name\")+\" gmt-control-type-\"+this.model.get(\"type\"),t=this.model.get(\"classes\"),n=this.model.get(\"responsive\");return _.isEmpty(t)||(e+=\" \"+t),_.isEmpty(n)||(e+=\" gmt-control-responsive-\"+n.max),e},templateHelpers:function(){var e={_cid:this.model.cid};return{data:_.extend({},this.model.toJSON(),e)}},getTemplate:function(){return Marionette.TemplateCache.get(\"#tmpl-gmt-control-\"+this.model.get(\"type\")+\"-content\")},initialize:function(e){this.elementSettingsModel=e.elementSettingsModel;e=this.model.get(\"type\"),e=jQuery.extend(!0,{},goomento.config.controls[e],this.model.attributes);this.model.set(e),this.listenTo(this.elementSettingsModel,\"change\",this.toggleControlVisibility)},toggleControlVisibility:function(){var e=goomento.helpers.isActiveControl(this.model,this.elementSettingsModel.attributes);this.$el.toggleClass(\"gmt-hidden-control\",!e),goomento.getPanelView().updateScrollbar()},onRender:function(){var e=this.model.get(\"label_block\")?\"block\":\"inline\",t=this.model.get(\"show_label\"),e=\"gmt-label-\"+e;e+=\" gmt-control-separator-\"+this.model.get(\"separator\"),t||(e+=\" gmt-control-hidden-label\"),this.$el.addClass(e),this.toggleControlVisibility()}});e.exports=n},function(e,t,n){\"use strict\";e.exports=n(314)},,,function(e,t,n){var o=n(198),i=n(203);e.exports=function(e,t){var n;if(e)return\"string\"==typeof e?i(e,t):\"Map\"===(n=\"Object\"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||\"Set\"===n?o(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){e.exports=n(213)},function(e,t,n){var i=n(13);e.exports=function(e,t,n,o){try{return o?t(i(n)[0],n[1]):t(n)}catch(t){o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,t,n){var o=n(43),i=n(15)(\"iterator\"),r=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||r[i]===e)}},function(e,t,n){\"use strict\";var o=n(14),i=n(31);e.exports=function(e,t,n){t in e?o.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var o=n(215),i=n(15)(\"iterator\"),r=n(43);e.exports=n(1).getIteratorMethod=function(e){if(null!=e)return e[i]||e[\"@@iterator\"]||r[o(e)]}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var a=n(66).default,o=n(303),l=n(2),s=n(157);function u(e){var t,n;return\"function\"!=typeof o?null:(t=new o,n=new o,(u=function(e){return e?n:t})(e))}e.exports=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||\"object\"!==a(e)&&\"function\"!=typeof e)return{default:e};t=u(t);if(t&&t.has(e))return t.get(e);var n,o,i={},r=l&&s;for(n in e)\"default\"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&((o=r?s(e,n):null)&&(o.get||o.set)?l(i,n,o):i[n]=e[n]);return i.default=e,t&&t.set(e,i),i},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){e.exports=n(328)()},function(e,t,n){\"use strict\";var i,o=n(2),r=n(0),a=(o(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),o=r(n(4)),l=r(n(60)),s=r(n(5)),u=r(n(6)),c=r(n(120)),d=goomentoModules.common.views.modal.LayoutDialog,n=(r=goomentoModules.common.Component,(0,s.default)(f,r),i=(0,u.default)(f),(0,o.default)(f,[{key:\"getModalOptions\",value:function(){return{}}},{key:\"getDialog\",value:function(){var t=this;return this.dialog||(this.dialog=new d(this.getModalOptions()),this.dialog.getModal().on(\"show\",function(){t.isModalShow=!0,t.onModalShow()}),this.dialog.getModal().on(\"hide\",function(){t.isModalShow=!1;var e=t.getDialog().modalContent.currentView;e&&_.isFunction(e.onModalHide)&&e.onModalHide(t),t.onModalHide()})),this.dialog}},{key:\"setDialogContent\",value:function(e){this.getDialog().modalContent.show(e)}},{key:\"setDialogHeader\",value:function(e){this.getDialog().modalHeader.show(e)}},{key:\"hideModal\",value:function(){this.getDialog().hideModal()}},{key:\"showModal\",value:function(){this.getDialog().showModal(),this.getDialog().updateScrollbar()}},{key:\"toggleModal\",value:function(){this.isModalShow?this.hideModal():this.showModal()}},{key:\"onModalShow\",value:function(){}},{key:\"onModalHide\",value:function(){}}]),f);function f(){var e;(0,a.default)(this,f);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=i.call.apply(i,[this].concat(n)),(0,c.default)((0,l.default)(e),\"isModalShow\",!1),e}t.default=n},function(e,t,n){\"use strict\";var o=n(0);n(41),n(28);var u=o(n(66)),i=o(n(44)),r=o(n(160)),a=o(n(192)),l=o(n(183)),s=n(230),c=n(218),d=n(258),o=d.extend({tagName:\"div\",controlsCSSParser:null,allowRender:!0,toggleEditTools:!1,renderAttributes:{},className:function(){var e=\"gmt-element gmt-element-edit-mode \"+this.getElementUniqueID();return this.toggleEditTools&&(e+=\" gmt-element--toggle-edit-tools\"),e},attributes:function(){return{\"data-id\":this.getID(),\"data-element_type\":this.model.get(\"elType\")}},ui:function(){return{tools:\"> .gmt-element-overlay > .gmt-editor-element-settings\",editButton:\"> .gmt-element-overlay .gmt-editor-element-edit\",duplicateButton:\"> .gmt-element-overlay .gmt-editor-element-duplicate\",addButton:\"> .gmt-element-overlay .gmt-editor-element-add\",removeButton:\"> .gmt-element-overlay .gmt-editor-element-remove\"}},behaviors:function(){var e=goomento.hooks.applyFilters(\"elements/\"+this.options.model.get(\"elType\")+\"/contextMenuGroups\",this.getContextMenuGroups(),this),e={contextMenu:{behaviorClass:n(208),groups:e}};return goomento.hooks.applyFilters(\"elements/base/behaviors\",e,this)},getBehavior:function(e){return this._behaviors[(0,i.default)(this.behaviors()).indexOf(e)]},events:function(){return{mousedown:\"onMouseDown\",\"click @ui.editButton\":\"onEditButtonClick\",\"click @ui.duplicateButton\":\"onDuplicateButtonClick\",\"click @ui.addButton\":\"onAddButtonClick\",\"click @ui.removeButton\":\"onRemoveButtonClick\"}},getElementType:function(){return this.model.get(\"elType\")},getIDInt:function(){return(0,r.default)(this.getID(),16)},getChildType:function(){return goomento.helpers.getElementChildType(this.getElementType())},getChildView:function(e){var t=e.get(\"elType\"),t=\"section\"===t?n(259):\"column\"===t?n(373):goomento.modules.elements.views.Widget;return goomento.hooks.applyFilters(\"element/view\",t,e,this)},getTemplateType:function(){return\"js\"},getEditModel:function(){return this.model},getContextMenuGroups:function(){var e=l.default.mac?\"\u2318\":\"Ctrl\";return[{name:\"general\",actions:[{name:\"edit\",icon:\"fas fa-pencil-alt\",title:\"Edit %1\".replace(\"%1\",this.options.model.getTitle()),callback:this.options.model.trigger.bind(this.options.model,\"request:edit\")},{name:\"duplicate\",icon:\"fas fa-clone\",title:\"Duplicate\",shortcut:e+\"+D\",callback:this.duplicate.bind(this)}]},{name:\"transfer\",actions:[{name:\"copy\",title:\"Copy\",shortcut:e+\"+C\",callback:this.copy.bind(this)},{name:\"paste\",title:\"Paste\",shortcut:e+\"+V\",callback:this.paste.bind(this),isEnabled:this.isPasteEnabled.bind(this)},{name:\"pasteStyle\",title:\"Paste style\",shortcut:e+\"+\u21e7+V\",callback:this.pasteStyle.bind(this),isEnabled:function(){return!!goomentoCommon.storage.get(\"transfer\")}},{name:\"resetStyle\",title:\"Reset style\",callback:this.resetStyle.bind(this)}]},{name:\"delete\",actions:[{name:\"delete\",icon:\"fas fa-trash\",title:\"Delete\",shortcut:\"\u2326\",callback:this.removeElement.bind(this)}]}]},getEditButtons:function(){return{}},initialize:function(){d.prototype.initialize.apply(this,arguments),this.collection&&this.listenTo(this.collection,\"add remove reset\",this.onCollectionChanged,this);var e=this.getEditModel();this.listenTo(e.get(\"settings\"),\"change\",this.onSettingsChanged).listenTo(e.get(\"editSettings\"),\"change\",this.onEditSettingsChanged).listenTo(this.model,\"request:edit\",this.onEditRequest).listenTo(this.model,\"request:toggleVisibility\",this.toggleVisibility),this.initControlsCSSParser()},getHandlesOverlay:function(){var e=jQuery(\"<div>\",{class:\"gmt-element-overlay\"}),i=jQuery(\"<ul>\",{class:\"gmt-editor-element-settings gmt-editor-\".concat(this.getElementType(),\"-settings\")});return jQuery.each(this.getEditButtons(),function(e,t){var e=jQuery(\"<li>\",{class:\"gmt-editor-element-setting tooltip-target gmt-editor-element-\".concat(e),title:t.title,\"data-tooltip\":t.title}),n=jQuery(\"<i>\",{class:t.icon,\"aria-hidden\":!0}),o=jQuery(\"<span>\",{class:\"gmt-screen-only\"});o.text(t.title),e.append(n,o),i.append(e)}),e.append(i),e},attachElContent:function(e){this.$el.empty().append(this.getHandlesOverlay(),e)},startTransport:function(e){goomentoCommon.storage.set(\"transfer\",{type:e,elementsType:this.getElementType(),elements:[this.model.toJSON({copyHtmlCache:!0})]})},copy:function(){this.startTransport(\"copy\")},cut:function(){this.startTransport(\"cut\")},paste:function(){this.trigger(\"request:paste\")},isPasteEnabled:function(){var e=goomentoCommon.storage.get(\"transfer\");return!(!e||this.isCollectionFilled())&&this.getElementType()===e.elementsType},isStyleTransferControl:function(e){return void 0!==e.style_transfer?e.style_transfer:\"content\"!==e.tab||e.selectors||e.prefix_class},duplicate:function(){var e=goomentoCommon.storage.get(\"transfer\");this.copy(),this.paste(),goomentoCommon.storage.set(\"transfer\",e)},pasteStyle:function(){var r=this,a=goomentoCommon.storage.get(\"transfer\").elements[0].settings,e=r.getEditModel(),t=e.get(\"settings\"),l=t.attributes,t=t.controls,s={};jQuery.each(t,function(e,t){if(r.isStyleTransferControl(t)){var n=a[e],o=l[e];if(void 0!==n&&void 0!==o&&!(\"object\"===(0,u.default)(n)^\"object\"===(0,u.default)(o))){if(\"object\"===(0,u.default)(n)){var i=!0;if(jQuery.each(n,function(e){if(n[e]!==o[e])return i=!1}),i)return}n!==o&&goomento.getControlView(t.type).onPasteStyle(t,n)&&(s[e]=n)}}}),r.allowRender=!1,goomento.channels.data.trigger(\"element:before:paste:style\",e),e.setSetting(s),goomento.channels.data.trigger(\"element:after:paste:style\",e),r.allowRender=!0,r.renderOnChange()},resetStyle:function(){var n=this,e=n.getEditModel(),t=e.get(\"settings\").controls,o={};n.allowRender=!1,goomento.channels.data.trigger(\"element:before:reset:style\",e),jQuery.each(t,function(e,t){n.isStyleTransferControl(t)&&(o[e]=t.default)}),e.setSetting(o),goomento.channels.data.trigger(\"element:after:reset:style\",e),n.allowRender=!0,n.renderOnChange()},toggleVisibility:function(){this.model.set(\"hidden\",!this.model.get(\"hidden\")),this.toggleVisibilityClass()},toggleVisibilityClass:function(){this.$el.toggleClass(\"gmt-edit-hidden\",!!this.model.get(\"hidden\"))},addElementFromPanel:function(e){e=e||{};var t=goomento.channels.panelElements.request(\"element:selected\"),n={elType:t.model.get(\"elType\")};if(!goomento.helpers.maybeDisableWidget()){if(\"widget\"===n.elType)n.widgetType=t.model.get(\"widgetType\");else{if(\"section\"!==n.elType)return;n.isInner=!0}t=t.model.get(\"custom\");t&&jQuery.extend(n,t),e.trigger={beforeAdd:\"element:before:add\",afterAdd:\"element:after:add\"},e.onAfterAdd=function(e,t){\"section\"===t.getElementType()&&t.isInner()&&t.addChildElement()},this.addChildElement(n,e)}},addControlValidator:function(e,t){t=t.bind(this);var t=new c({customValidationMethod:t}),n=this.getEditModel().get(\"settings\").validators;n[e]||(n[e]=[]),n[e].push(t)},addRenderAttribute:function(n,e,t,o){var i=this;return\"object\"===(0,u.default)(n)?(jQuery.each(n,function(e,t){i.addRenderAttribute(e,t,null,o)}),i):\"object\"===(0,u.default)(e)?(jQuery.each(e,function(e,t){i.addRenderAttribute(n,e,t,o)}),i):(i.renderAttributes[n]||(i.renderAttributes[n]={}),i.renderAttributes[n][e]||(i.renderAttributes[n][e]=[]),(0,a.default)(t)||(t=[t]),void(i.renderAttributes[n][e]=o?t:i.renderAttributes[n][e].concat(t)))},getRenderAttributeString:function(e){var n;return this.renderAttributes[e]?(e=this.renderAttributes[e],n=[],jQuery.each(e,function(e,t){n.push(e+'=\"'+_.escape(t.join(\" \"))+'\"')}),n.join(\" \")):\"\"},isInner:function(){return!!this.model.get(\"isInner\")},initControlsCSSParser:function(){this.controlsCSSParser=new s({id:this.model.cid,settingsModel:this.getEditModel().get(\"settings\"),dynamicParsing:this.getDynamicParsingSettings()})},enqueueFonts:function(){var n=this.getEditModel(),e=n.get(\"settings\");jQuery.each(e.getFontControls(),function(e,t){t=n.getSetting(t.name);t&&goomento.helpers.enqueueFont(t)}),jQuery.each(e.getIconsControls(),function(e,t){t=n.getSetting(t.name);t&&t.library&&goomento.helpers.enqueueIconFonts(t.library)})},renderStyles:function(e){e=e||this.getEditModel().get(\"settings\"),this.controlsCSSParser.stylesheet.empty(),this.controlsCSSParser.addStyleRules(e.getStyleControls(),e.attributes,this.getEditModel().get(\"settings\").controls,[/{{ID}}/g,/{{WRAPPER}}/g],[this.getID(),\"#gmt .\"+this.getElementUniqueID()]),this.controlsCSSParser.addStyleToDocument();e=goomento.hooks.applyFilters(\"editor/style/styleText\",\"\",this);e&&this.controlsCSSParser.elements.$stylesheetElement.append(e)},renderCustomClasses:function(){var o=this,i=o.getEditModel().get(\"settings\"),e=i.getClassControls();_.each(e,function(e){var t=i.previous(e.name);e.classes_dictionary&&void 0!==e.classes_dictionary[t]&&(t=e.classes_dictionary[t]),o.$el.removeClass(e.prefix_class+t)}),_.each(e,function(e){var t=i.attributes[e.name],n=t;e.classes_dictionary&&void 0!==e.classes_dictionary[t]&&(n=e.classes_dictionary[t]),goomento.helpers.isActiveControl(e,i.attributes)&&(n||0===n)&&o.$el.addClass(e.prefix_class+n)}),o.$el.addClass(_.result(o,\"className\")),o.toggleVisibilityClass()},renderCustomElementID:function(){var e=this.getEditModel().get(\"settings\").get(\"_element_id\");this.$el.attr(\"id\",e)},renderUI:function(){this.renderStyles(),this.renderCustomClasses(),this.renderCustomElementID(),this.enqueueFonts()},runReadyTrigger:function(){var e=this;_.defer(function(){goomentoFrontend.elementsHandler.runReadyTrigger(e.el),goomentoFrontend.isEditMode()&&e.$el.find(\".gmt-element.gmt-\"+e.model.get(\"elType\")+\":not(.gmt-element-edit-mode)\").each(function(){goomentoFrontend.elementsHandler.runReadyTrigger(this)})})},getID:function(){return this.model.get(\"id\")},getElementUniqueID:function(){return\"gmt-element-\"+this.getID()},renderOnChange:function(o){if(this.allowRender){if(o instanceof goomentoModules.editor.elements.models.BaseSettings){var e=o.hasChanged(),i=!e,r=!e;if(_.each(o.changedAttributes(),function(e,t){var n=o.getControl(t);\"_column_size\"!==t?n?(\"none\"!==n.render_type&&(r=!0),-1!==[\"none\",\"ui\"].indexOf(n.render_type)||\"template\"!==n.render_type&&(o.isStyleControl(t)||o.isClassControl(t)||\"_element_id\"===t)||(i=!0)):i=r=!0:r=!0}),!r)return;if(!i)return void this.renderUI()}var e=this.getTemplateType(),t=this.getEditModel();\"js\"===e?(this.getEditModel().setHtmlCache(),this.render(),t.renderOnLeave=!0):t.renderRemoteServer()}},getDynamicParsingSettings:function(){var e=this;return{onServerRequestStart:function(){e.$el.addClass(\"gmt-loading\")},onServerRequestEnd:function(){e.render(),e.$el.removeClass(\"gmt-loading\")}}},serializeData:function(){var e=d.prototype.serializeData.apply(this,arguments);return e.settings=this.getEditModel().get(\"settings\").parseDynamicSettings(e.settings,this.getDynamicParsingSettings()),e},save:function(){$e.route(\"library/save-template\",{model:this.model})},removeElement:function(){goomento.channels.data.trigger(\"element:before:remove\",this.model);var e=this._parent;e.isManualRemoving=!0,this.model.destroy(),e.isManualRemoving=!1,goomento.channels.data.trigger(\"element:after:remove\",this.model)},onBeforeRender:function(){this.renderAttributes={}},onRender:function(){var e;this.renderUI(),this.runReadyTrigger(),this.toggleEditTools&&(e=this.ui.editButton,this.ui.tools.hoverIntent(function(){e.addClass(\"gmt-active\")},function(){e.removeClass(\"gmt-active\")},{timeout:500}))},onCollectionChanged:function(){goomento.saver.setFlagEditorChange(!0)},onEditSettingsChanged:function(e){goomento.channels.editor.trigger(\"change:editSettings\",e,this)},onSettingsChanged:function(e){goomento.saver.setFlagEditorChange(!0),this.renderOnChange(e)},onEditButtonClick:function(){this.model.trigger(\"request:edit\")},onEditRequest:function(){var e,t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};\"edit\"===goomento.channels.dataEditMode.request(\"activeMode\")&&(e=this.getEditModel(),t=goomento.getPanelView(),$e.routes.isPartOf(\"panel/editor\")&&t.getCurrentPageView().model===e||(n.scrollIntoView&&goomento.helpers.scrollToView(this.$el,200),$e.run(\"panel/editor/open\",{model:e,view:this})))},onDuplicateButtonClick:function(e){e.stopPropagation(),this.duplicate()},onRemoveButtonClick:function(e){e.stopPropagation(),this.removeElement()},onMouseDown:function(e){jQuery(e.target).closest(\".gmt-inline-editing\").length||goomentoFrontend.elements.window.document.activeElement.blur()},onDestroy:function(){this.controlsCSSParser.removeStyleFromDocument(),this.getEditModel().get(\"settings\").validators={},goomento.channels.data.trigger(\"element:destroy\",this.model)}});e.exports=o},function(e,t,n){\"use strict\";var o=n(371);e.exports=Marionette.Behavior.extend({defaults:{groups:[],eventTargets:[\"el\"]},events:function(){var n={};return this.getOption(\"eventTargets\").forEach(function(e){var t=\"contextmenu\";\"el\"!==e&&(t+=\" \"+e),n[t]=\"onContextMenu\"}),n},initialize:function(){this.listenTo(this.view.options.model,\"request:contextmenu\",this.onRequestContextMenu)},initContextMenu:function(){var e=this,t=this.getOption(\"groups\"),n=_.findWhere(t,{name:\"delete\"}),n=t.indexOf(n);-1===n&&(n=t.length),t.splice(n,0,{name:\"tools\",actions:[{name:\"navigator\",title:\"Navigator\",callback:function(){return $e.route(\"navigator\",{reOpen:!0,model:e.view.model})}}]}),this.contextMenu=new o({groups:t}),this.contextMenu.getModal().on(\"hide\",this.onContextMenuHide)},getContextMenu:function(){return this.contextMenu||this.initContextMenu(),this.contextMenu},onContextMenu:function(e){!$e.shortcuts.isControlEvent(e)&&goomento.userCan(\"save\")&&\"edit\"===goomento.channels.dataEditMode.request(\"activeMode\")&&(e.preventDefault(),e.stopPropagation(),this.getContextMenu().show(e),goomento.channels.editor.reply(\"contextMenu:targetView\",this.view))},onRequestContextMenu:function(e){var t=this.getContextMenu().getModal(),n=t.getSettings(\"iframe\"),o=_.findWhere(this.contextMenu.getSettings(\"groups\"),{name:\"tools\"});o.isVisible=!1,t.setSettings(\"iframe\",null),this.onContextMenu(e),o.isVisible=!0,t.setSettings(\"iframe\",n)},onContextMenuHide:function(){goomento.channels.editor.reply(\"contextMenu:targetView\",null)},onDestroy:function(){this.contextMenu&&this.contextMenu.destroy()}})},function(e,t,n){\"use strict\";var o=n(26),i=n(280);o(o.P+o.F*n(281)(\"includes\"),\"String\",{includes:function(e){return!!~i(this,e,\"includes\").indexOf(e,1<arguments.length?arguments[1]:void 0)}})},function(e,t,n){\"use strict\";var o=n(26),i=n(174)(!0);o(o.P,\"Array\",{includes:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(99)(\"includes\")},function(e,t,n){n(212),e.exports=n(1).Array.isArray},function(e,t,n){var o=n(7);o(o.S,\"Array\",{isArray:n(102)})},function(e,t,n){n(109),n(214),e.exports=n(1).Array.from},function(e,t,n){\"use strict\";var d=n(59),o=n(7),f=n(29),g=n(199),p=n(200),h=n(93),m=n(201),v=n(202);o(o.S+o.F*!n(216)(function(e){Array.from(e)}),\"Array\",{from:function(e){var t,n,o,i,r=f(e),e=\"function\"==typeof this?this:Array,a=arguments.length,l=1<a?arguments[1]:void 0,s=void 0!==l,u=0,c=v(r);if(s&&(l=d(l,2<a?arguments[2]:void 0,2)),null==c||e==Array&&p(c))for(n=new e(t=h(r.length));u<t;u++)m(n,u,s?l(r[u],u):r[u]);else for(i=c.call(r),n=new e;!(o=i.next()).done;u++)m(n,u,s?g(i,l,[o.value,u],!0):o.value);return n.length=u,n}})},function(e,t,n){var o=n(68),i=n(15)(\"toStringTag\"),r=\"Arguments\"==o(function(){return arguments}());e.exports=function(e){var t;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=Object(e),i))?t:r?o(e):\"Object\"==(t=o(e))&&\"function\"==typeof e.callee?\"Arguments\":t}},function(e,t,n){var r=n(15)(\"iterator\"),a=!1;try{var o=[7][r]();o.return=function(){a=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var o=[7],i=o[r]();i.next=function(){return{done:n=!0}},o[r]=function(){return i},e(o)}catch(e){}return n}},function(e,t,n){\"use strict\";var o=n(0)(n(44));e.exports=Marionette.Region.extend({storage:null,storageSizeKeys:null,constructor:function(){Marionette.Region.prototype.constructor.apply(this,arguments);var e=goomentoCommon.storage.get(this.getStorageKey());this.storage=e||this.getDefaultStorage(),this.storageSizeKeys=(0,o.default)(this.storage.size)},saveStorage:function(e,t){this.storage[e]=t,goomentoCommon.storage.set(this.getStorageKey(),this.storage)},saveSize:function(){this.saveStorage(\"size\",goomento.helpers.getElementInlineStyle(this.$el,this.storageSizeKeys))}})},function(e,t,n){\"use strict\";e.exports=goomentoModules.Module.extend({errors:[],__construct:function(e){e=e.customValidationMethod;e&&(this.validationMethod=e)},getDefaultSettings:function(){return{validationTerms:{}}},isValid:function(){var e=this.validationMethod.apply(this,arguments);return!e.length||(this.errors=e,!1)},validationMethod:function(e){var t=[];return!this.getSettings(\"validationTerms\").required||(\"\"+e).length||t.push(\"Required value is empty\"),t}})},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),s=r(n(6)),u=r(n(220)),c=r(n(221)),d=r(n(222)),n=(r=Marionette.LayoutView,(0,l.default)(f,r),o=(0,s.default)(f),(0,i.default)(f,[{key:\"el\",value:function(){return this.getModal().getElements(\"widget\")}},{key:\"regions\",value:function(){return{modalHeader:\".dialog-header\",modalContent:\".dialog-lightbox-content\",modalLoading:\".dialog-lightbox-loading\"}}},{key:\"initialize\",value:function(){this.modalHeader.show(new u.default(this.getHeaderOptions()))}},{key:\"getModal\",value:function(){return this.modal||this.initModal(),this.modal}},{key:\"initModal\",value:function(){var e={className:\"gmt-templates-modal\",closeButton:!1,draggable:!1,hide:{onOutsideClick:!1,onEscKeyPress:!1}};jQuery.extend(!0,e,this.getModalOptions()),this.modal=goomentoCommon.dialogsManager.createWidget(\"lightbox\",e),this.modal.getElements(\"message\").append(this.modal.addElement(\"content\"),this.modal.addElement(\"loading\")),e.draggable&&this.draggableModal()}},{key:\"showModal\",value:function(){this.getModal().show()}},{key:\"hideModal\",value:function(){this.getModal().hide()}},{key:\"draggableModal\",value:function(){var e=this.getModal().getElements(\"widgetContent\");e.draggable({containment:\"parent\",stop:function(){e.height(\"\")}}),e.css(\"position\",\"absolute\")}},{key:\"getModalOptions\",value:function(){return{}}},{key:\"getLogoOptions\",value:function(){return{}}},{key:\"getHeaderOptions\",value:function(){return{closeType:\"normal\"}}},{key:\"getHeaderView\",value:function(){return this.modalHeader.currentView}},{key:\"showLoadingView\",value:function(){this.modalLoading.show(new d.default),this.modalLoading.$el.show(),this.modalContent.$el.hide()}},{key:\"hideLoadingView\",value:function(){this.modalContent.$el.show(),this.modalLoading.$el.hide()}},{key:\"showLogo\",value:function(){this.getHeaderView().logoArea.show(new c.default(this.getLogoOptions()))}}]),f);function f(){return(0,a.default)(this,f),o.apply(this,arguments)}t.default=n},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),r=r(n(6)),l=(n=Marionette.LayoutView,(0,l.default)(s,n),o=(0,r.default)(s),(0,i.default)(s,[{key:\"className\",value:function(){return\"gmt-templates-modal__header\"}},{key:\"getTemplate\",value:function(){return\"#tmpl-gmt-templates-modal__header\"}},{key:\"regions\",value:function(){return{logoArea:\".gmt-templates-modal__header__logo-area\",tools:\"#gmt-template-library-header-tools\",menuArea:\".gmt-templates-modal__header__menu-area\"}}},{key:\"ui\",value:function(){return{closeModal:\".gmt-templates-modal__header__close\"}}},{key:\"events\",value:function(){return{\"click @ui.closeModal\":\"onCloseModalClick\"}}},{key:\"templateHelpers\",value:function(){return{closeType:this.getOption(\"closeType\")}}},{key:\"onCloseModalClick\",value:function(){this._parent._parent._parent.hideModal()}}]),s);function s(){return(0,a.default)(this,s),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),r=r(n(6)),l=(n=Marionette.ItemView,(0,l.default)(s,n),o=(0,r.default)(s),(0,i.default)(s,[{key:\"getTemplate\",value:function(){return\"#tmpl-gmt-templates-modal__header__logo\"}},{key:\"className\",value:function(){return\"gmt-templates-modal__header__logo\"}},{key:\"events\",value:function(){return{click:\"onClick\"}}},{key:\"templateHelpers\",value:function(){return{title:this.getOption(\"title\")}}},{key:\"onClick\",value:function(){var e=this.getOption(\"click\");e&&e()}}]),s);function s(){return(0,a.default)(this,s),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),r=r(n(6)),l=(n=Marionette.ItemView,(0,l.default)(s,n),o=(0,r.default)(s),(0,i.default)(s,[{key:\"id\",value:function(){return\"gmt-template-library-loading\"}},{key:\"getTemplate\",value:function(){return\"#tmpl-gmt-template-library-loading\"}}]),s);function s(){return(0,a.default)(this,s),o.apply(this,arguments)}t.default=l},function(e,t,n){var b=n(59),w=n(108),C=n(29),k=n(93),o=n(306);e.exports=function(d,e){var f=1==d,g=2==d,p=3==d,h=4==d,m=6==d,v=5==d||m,y=e||o;return function(e,t,n){for(var o,i,r=C(e),a=w(r),l=b(t,n,3),s=k(a.length),u=0,c=f?y(e,s):g?y(e,0):void 0;u<s;u++)if((v||u in a)&&(i=l(o=a[u],u,r),d))if(f)c[u]=i;else if(i)switch(d){case 3:return!0;case 5:return o;case 6:return u;case 2:c.push(o)}else if(h)return!1;return m?-1:p||h?h:c}}},function(e,t,n){var d=n(59),f=n(199),g=n(200),p=n(13),h=n(93),m=n(202),v={},y={};(t=e.exports=function(e,t,n,o,i){var r,a,l,s,i=i?function(){return e}:m(e),u=d(n,o,t?2:1),c=0;if(\"function\"!=typeof i)throw TypeError(e+\" is not iterable!\");if(g(i)){for(r=h(e.length);c<r;c++)if((s=t?u(p(a=e[c])[0],a[1]):u(e[c]))===v||s===y)return s}else for(l=i.call(e);!(a=l.next()).done;)if((s=f(l,u,a.value,t))===v||s===y)return s}).BREAK=v,t.RETURN=y},function(e,t,n){var o=n(9);e.exports=function(e,t){if(o(e)&&e._t===t)return e;throw TypeError(\"Incompatible receiver, \"+t+\" required!\")}},function(e,t,n){e.exports=n(227)},function(e,t,n){n(228),e.exports=n(1).Object.entries},function(e,t,n){var o=n(7),i=n(229)(!0);o(o.S,\"Object\",{entries:function(e){return i(e)}})},function(e,t,n){var s=n(12),u=n(32),c=n(16),d=n(45).f;e.exports=function(l){return function(e){for(var t,n=c(e),o=u(n),i=o.length,r=0,a=[];r<i;)t=o[r++],s&&!d.call(n,t)||a.push(l?[t,n[t]]:n[t]);return a}}},function(e,t,n){\"use strict\";var h=n(0)(n(44));n(41),n(28),n(62),n(98),n(256);var m,o=n(257);(m=goomentoModules.ViewModule.extend({stylesheet:null,getDefaultSettings:function(){return{id:0,settingsModel:null,dynamicParsing:{}}},getDefaultElements:function(){return{$stylesheetElement:jQuery(\"<style>\",{id:\"gmt-style-\"+this.getSettings(\"id\")})}},initStylesheet:function(){var e=goomentoFrontend.config.breakpoints;this.stylesheet=new o,this.stylesheet.addDevice(\"mobile\",0).addDevice(\"tablet\",e.md).addDevice(\"desktop\",e.lg)},addStyleRules:function(e,t,n,o,i){var r=this,a=r.getSettings(\"settingsModel\").parseDynamicSettings(t,r.getSettings(\"dynamicParsing\"),e);_.each(e,function(e){e.styleFields&&e.styleFields.length&&r.addRepeaterControlsStyleRules(t[e.name],e.styleFields,n,o,i),e.dynamic&&e.dynamic.active&&t.__dynamic__&&t.__dynamic__[e.name]&&r.addDynamicControlStyleRules(t.__dynamic__[e.name],e),e.selectors&&r.addControlStyleRules(e,a,n,o,i)})},addControlStyleRules:function(e,t,n,o,i){var r=this;m.addControlStyleRules(this.stylesheet,e,n,function(e){return r.getStyleControlValue(e,t)},o,i)},getStyleControlValue:function(e,t){t=t[e.name];if(e.selectors_dictionary&&(t=e.selectors_dictionary[t]||t),_.isNumber(t)||!_.isEmpty(t))return t},addRepeaterControlsStyleRules:function(n,e,o,i,r){var a=this;e.forEach(function(e,t){t=n.models[t];a.addStyleRules(e,t.attributes,o,i.concat([\"{{CURRENT_ITEM}}\"]),r.concat([\".gmt-repeater-item-\"+t.get(\"_id\")]))})},addDynamicControlStyleRules:function(e,t){var o=this;goomento.dynamicTags.parseTagsText(e,t.dynamic,function(e,t,n){t=goomento.dynamicTags.createTag(e,t,n);t&&(n=t.model).getStyleControls().length&&o.addStyleRules(n.getStyleControls(),n.attributes,n.controls,[\"{{WRAPPER}}\"],[\"#gmt-tag-\"+e])})},addStyleToDocument:function(){goomento.$previewContents.find(\"head\").append(this.elements.$stylesheetElement),this.elements.$stylesheetElement.text(this.stylesheet)},removeStyleFromDocument:function(){this.elements.$stylesheetElement.remove()},onInit:function(){goomentoModules.ViewModule.prototype.onInit.apply(this,arguments),this.initStylesheet()}})).addControlStyleRules=function(s,u,c,d,f,g){var p=d(u);void 0!==p&&_.each(u.selectors,function(e,n){var t;try{t=e.replace(/{{(?:([^.}]+)\\.)?([^}| ]*)(?: *\\|\\| *(?:([^.}]+)\\.)?([^}| ]*) *)*}}/g,function(e,t,n,o,i){var r=t&&!c[t],a=\"\";if(!(a=r?a:m.parsePropertyPlaceholder(u,p,c,d,n,t))&&0!==a){if(i){n=(a=i).match(/^(['\"])(.*)\\1$/);if(n)a=n[2];else if(!isFinite(a)){if(o&&!c[o])return\"\";a=m.parsePropertyPlaceholder(u,p,c,d,i,o)}}if(!a&&0!==a){if(r)return\"\";throw\"\"}}return a})}catch(e){return}if(!_.isEmpty(t)){var e=/^(?:\\([^)]+\\)){1,2}/,o=n.match(e),i={};if(o){o=o[0],n=n.replace(e,\"\");for(var r=/\\(([^)]+)\\)/g,a=[],l=r.exec(o);l;)a.push(l[1]),l=r.exec(o);_.each(a,function(e){var t;\"desktop\"!==e&&(t=e.replace(/\\+$/,\"\"),i[t===e?\"max\":\"min\"]=t)})}_.each(f,function(e,t){e=e.source||e,e=new RegExp(e,\"g\");n=n.replace(e,g[t])}),!(0,h.default)(i).length&&u.responsive&&\"desktop\"===(i=_.pick(goomentoCommon.helpers.cloneObject(u.responsive),[\"min\",\"max\"])).max&&delete i.max,s.addRules(n,t,i)}})},m.parsePropertyPlaceholder=function(e,t,n,o,i,r){return r&&(t=o(e=_.findWhere(n,{name:r}))),goomento.getControlView(e.type).getStyleValue(i,t,e)},e.exports=m},function(e,t,n){\"use strict\";var o=Marionette.Behavior.extend({defaults:{elChildType:\"widget\"},events:{sortstart:\"onSortStart\",sortreceive:\"onSortReceive\",sortupdate:\"onSortUpdate\",sortover:\"onSortOver\",sortout:\"onSortOut\"},initialize:function(){this.listenTo(goomento.channels.dataEditMode,\"switch\",this.onEditModeSwitched).listenTo(this.view.options.model,\"request:sort:start\",this.startSort).listenTo(this.view.options.model,\"request:sort:update\",this.updateSort).listenTo(this.view.options.model,\"request:sort:receive\",this.receiveSort)},onEditModeSwitched:function(e){\"edit\"===e?this.activate():this.deactivate()},onRender:function(){var e=this;_.defer(function(){e.onEditModeSwitched(goomento.channels.dataEditMode.request(\"activeMode\"))})},onDestroy:function(){this.deactivate()},activate:function(){var e,t;goomento.userCan(\"save\")&&!this.getChildViewContainer().data(\"sortable\")&&(t={connectWith:(e=this.getChildViewContainer()).selector,placeholder:\"gmt-sortable-placeholder gmt-\"+this.getOption(\"elChildType\")+\"-placeholder\",cursorAt:{top:20,left:25},helper:this._getSortableHelper.bind(this),cancel:\"input, textarea, button, select, option, .gmt-inline-editing, .gmt-tab-title\"},t=_.extend(t,this.view.getSortableOptions()),e.sortable(t))},_getSortableHelper:function(e,t){t=this.view.collection.get({cid:t.data(\"model-cid\")});return'<div style=\"height: 84px; width: 125px;\" class=\"gmt-sortable-helper gmt-sortable-helper-'+t.get(\"elType\")+'\"><div class=\"icon\"><i class=\"'+t.getIcon()+'\"></i></div><div class=\"gmt-element-title-wrapper\"><div class=\"title\">'+t.getTitle()+\"</div></div></div>\"},getChildViewContainer:function(){return this.view.getChildViewContainer(this.view)},deactivate:function(){var e=this.getChildViewContainer();e.data(\"sortable\")&&e.sortable(\"destroy\")},startSort:function(e,t){e.stopPropagation();e=this.view.collection.get({cid:t.item.data(\"model-cid\")});goomento.channels.data.reply(\"dragging:model\",e).reply(\"dragging:parent:view\",this.view).trigger(\"drag:start\",e).trigger(e.get(\"elType\")+\":drag:start\")},updateSort:function(e){var t=goomento.channels.data.request(\"dragging:model\"),e=e.item,n=this.view.collection,e=e.parent().children().index(e),o=this.view.children.findByModelCid(t.cid);this.view.addChildElement(t.clone(),{at:e,trigger:{beforeAdd:\"drag:before:update\",afterAdd:\"drag:after:update\"},onBeforeAdd:function(){o._isRendering=!0,n.remove(t)}}),goomento.saver.setFlagEditorChange(!0)},receiveSort:function(e,t){var n,o;e.stopPropagation(),this.view.isCollectionFilled()||(e=\"section\"===(n=goomento.channels.data.request(\"dragging:model\")).get(\"elType\")&&n.get(\"isInner\"),o=\"column\"===this.view.getElementType()&&this.view.isInner(),e&&o)?jQuery(t.sender).sortable(\"cancel\"):(e=t.item.index(),o=n.toJSON({copyHtmlCache:!0}),this.view.addChildElement(o,{at:e,trigger:{beforeAdd:\"drag:before:update\",afterAdd:\"drag:after:update\"},onAfterAdd:function(){var e=goomento.channels.data.request(\"dragging:parent:view\");e.isManualRemoving=!0,n.destroy(),e.isManualRemoving=!1}}))},onSortStart:function(e,t){var n,o;\"column\"===this.options.elChildType&&(n=t.item.data(\"sortableItem\").items,o=0,n.forEach(function(e){if(e.item[0]===t.item[0])return o=e.height,!1}),t.placeholder.height(o)),this.startSort(e,t)},onSortOver:function(e){e.stopPropagation();var t=goomento.channels.data.request(\"dragging:model\");jQuery(e.target).addClass(\"gmt-draggable-over\").attr({\"data-dragged-element\":t.get(\"elType\"),\"data-dragged-is-inner\":t.get(\"isInner\")}),this.$el.addClass(\"gmt-dragging-on-child\")},onSortOut:function(e){e.stopPropagation(),jQuery(e.target).removeClass(\"gmt-draggable-over\").removeAttr(\"data-dragged-element data-dragged-is-inner\"),this.$el.removeClass(\"gmt-dragging-on-child\")},onSortReceive:function(e,t){this.receiveSort(e,t)},onSortUpdate:function(e,t){e.stopPropagation(),this.getChildViewContainer()[0]===t.item.parent()[0]&&this.updateSort(t)},onAddChild:function(e){e.$el.attr(\"data-model-cid\",e.model.cid)}});e.exports=o},function(e,t,n){\"use strict\";n(33),n(28),n=Marionette.Behavior.extend({onRenderCollection:function(){this.handleInnerTabs(this.view)},handleInnerTabs:function(r){var e=r.children.filter(function(e){return\"tabs\"===e.model.get(\"type\")});_.each(e,function(i){i.$el.find(\".gmt-control-content\").remove();var t=i.model.get(\"name\"),e=r.children.filter(function(e){return\"tab\"===e.model.get(\"type\")&&e.model.get(\"tabs_wrapper\")===t});_.each(e,function(e,t){i._addChildView(e);var n=e.model.get(\"name\"),o=r.children.filter(function(e){return n===e.model.get(\"inner_tab\")});0===t?e.$el.addClass(\"gmt-tab-active\"):_.each(o,function(e){e.$el.addClass(\"gmt-tab-close\")})})})},onChildviewControlTabClicked:function(t){var n=t.model.get(\"name\"),e=this.view.children.filter(function(e){return\"tab\"!==e.model.get(\"type\")&&t.model.get(\"tabs_wrapper\")===e.model.get(\"tabs_wrapper\")}),o=this.view.children.filter(function(e){return\"tab\"===e.model.get(\"type\")&&t.model.get(\"tabs_wrapper\")===e.model.get(\"tabs_wrapper\")});_.each(o,function(e){e.$el.removeClass(\"gmt-tab-active\")}),t.$el.addClass(\"gmt-tab-active\"),_.each(e,function(e){e.model.get(\"inner_tab\")===n?e.$el.removeClass(\"gmt-tab-close\"):e.$el.addClass(\"gmt-tab-close\")}),goomento.getPanelView().updateScrollbar()}}),e.exports=n},function(e,t,n){\"use strict\";var s=n(0)(n(160));n(113),e.exports=function(){var i,n=Array.prototype.slice,l={actions:{},filters:{}};function o(e,t,n,o){var i,r,a;if(l[e][t])if(n)if(i=l[e][t],o)for(a=i.length;a--;)(r=i[a]).callback===n&&r.context===o&&i.splice(a,1);else for(a=i.length;a--;)i[a].callback===n&&i.splice(a,1);else l[e][t]=[]}function r(e,t,n,o,i){o={callback:n,priority:o,context:i},i=l[e][t];if(i){var r=!1;if(jQuery.each(i,function(){if(this.callback===n)return!(r=!0)}),r)return;i.push(o),i=function(e){for(var t,n,o,i=1,r=e.length;i<r;i++){for(t=e[i],n=i;(o=e[n-1])&&o.priority>t.priority;)e[n]=e[n-1],--n;e[n]=t}return e}(i)}else i=[o];l[e][t]=i}function a(e,t,n){var o,i,r=l[e][t];if(!r)return\"filters\"===e&&n[0];if(i=r.length,\"filters\"===e)for(o=0;o<i;o++)n[0]=r[o].callback.apply(r[o].context,n);else for(o=0;o<i;o++)r[o].callback.apply(r[o].context,n);return\"filters\"!==e||n[0]}return i={removeFilter:function(e,t){return\"string\"==typeof e&&o(\"filters\",e,t),i},applyFilters:function(){var e=n.call(arguments),t=e.shift();return\"string\"==typeof t?a(\"filters\",t,e):i},addFilter:function(e,t,n,o){return\"string\"==typeof e&&\"function\"==typeof t&&r(\"filters\",e,t,n=(0,s.default)(n||10,10),o),i},removeAction:function(e,t){return\"string\"==typeof e&&o(\"actions\",e,t),i},doAction:function(){var e=n.call(arguments),t=e.shift();return\"string\"==typeof t&&a(\"actions\",t,e),i},addAction:function(e,t,n,o){return\"string\"==typeof e&&\"function\"==typeof t&&r(\"actions\",e,t,n=(0,s.default)(n||10,10),o),i}}}},function(e,t,n){\"use strict\";var o=n(230);e.exports=goomentoModules.ViewModule.extend({model:null,hasChange:!1,changeCallbacks:{},addChangeCallback:function(e,t){this.changeCallbacks[e]=t},bindEvents:function(){goomento.on(\"preview:loaded\",this.onGoomentoPreviewLoaded),this.model.on(\"change\",this.onModelChange)},updateStylesheet:function(e){var t=this.getControlsCSS();e||t.stylesheet.empty(),t.addStyleRules(this.model.getStyleControls(),this.model.attributes,this.model.controls,[/{{WRAPPER}}/g],[this.getSettings(\"cssWrapperSelector\")]),t.addStyleToDocument()},initModel:function(){this.model=new goomentoModules.editor.elements.models.BaseSettings(this.getSettings(\"settings\"),{controls:this.getSettings(\"controls\")})},initControlsCSSParser:function(){var e;this.getControlsCSS=function(){return e=e||new o({id:this.getSettings(\"name\"),settingsModel:this.model})}},getDataToSave:function(e){return e},save:function(e){var t,n,o=this;o.hasChange&&(t=this.model.toJSON({remove:[\"default\"]}),n=this.getDataToSave({data:t}),NProgress.start(),goomentoCommon.ajax.addRequest(\"save_\"+this.getSettings(\"name\")+\"_settings\",{data:n,success:function(){NProgress.done(),o.setSettings(\"settings\",t),o.hasChange=!1,e&&e.apply(o,arguments)},error:function(){alert(\"An error occurred\")}}))},onInit:function(){this.initModel(),this.initControlsCSSParser(),this.debounceSave=_.debounce(this.save,3e3),goomentoModules.ViewModule.prototype.onInit.apply(this,arguments)},addPanelMenuItem:function(){var e,t,n=this.getSettings(\"panelPage.menu\");n&&(e=\"panel/\"+this.getSettings(\"name\")+\"-settings\",t={icon:n.icon,title:this.getSettings(\"panelPage.title\"),type:\"page\",pageName:this.getSettings(\"name\")+\"_settings\",callback:function(){return $e.route(\"\".concat(e,\"/settings\"))}},$e.bc.ensureTab(e,\"settings\",t.pageName),goomento.modules.layouts.panel.pages.menu.Menu.addItem(t,\"settings\",n.beforeItem))},onModelChange:function(e){var n=this;n.hasChange=!0,this.getControlsCSS().stylesheet.empty(),_.each(e.changed,function(e,t){n.changeCallbacks[t]&&n.changeCallbacks[t].call(n,e)}),n.updateStylesheet(!0),n.debounceSave()},onGoomentoPreviewLoaded:function(){this.updateStylesheet(),goomento.userCan(\"save\")||$e.route(\"page/settings/settings\")}})},,,,,function(e,t,n){\"use strict\";var f=n(12),g=n(32),p=n(69),h=n(45),m=n(29),v=n(108),i=Object.assign;e.exports=!i||n(18)(function(){var e={},t={},n=Symbol(),o=\"abcdefghijklmnopqrst\";return e[n]=7,o.split(\"\").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join(\"\")!=o})?function(e,t){for(var n=m(e),o=arguments.length,i=1,r=p.f,a=h.f;i<o;)for(var l,s=v(arguments[i++]),u=r?g(s).concat(r(s)):g(s),c=u.length,d=0;d<c;)l=u[d++],f&&!a.call(s,l)||(n[l]=s[l]);return n}:i},function(e,t,n){var i=n(19);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:i(e,o,t[o]);return e}},function(e,t){e.exports=function(e,t,n,o){if(!(e instanceof t)||void 0!==o&&o in e)throw TypeError(n+\": incorrect invocation!\");return e}},function(e,t,n){\"use strict\";var s=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(Object.assign){var e=new String(\"abc\");if(e[5]=\"de\",\"5\"!==Object.getOwnPropertyNames(e)[0]){for(var t,n={},o=0;o<10;o++)n[\"_\"+String.fromCharCode(o)]=o;if(\"0123456789\"===Object.getOwnPropertyNames(n).map(function(e){return n[e]}).join(\"\"))return t={},\"abcdefghijklmnopqrst\".split(\"\").forEach(function(e){t[e]=e}),\"abcdefghijklmnopqrst\"===Object.keys(Object.assign({},t)).join(\"\")}}}catch(e){}}()?Object.assign:function(e,t){for(var n,o=function(e){if(null==e)throw new TypeError(\"Object.assign cannot be called with null or undefined\");return Object(e)}(e),i=1;i<arguments.length;i++){for(var r in n=Object(arguments[i]))u.call(n,r)&&(o[r]=n[r]);if(s)for(var a=s(n),l=0;l<a.length;l++)c.call(n,a[l])&&(o[a[l]]=n[a[l]])}return o}},function(e,t,n){e.exports=n(316)},function(e,t,n){\"use strict\";!function e(){if(\"undefined\"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&\"function\"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(330)},function(e,t,n){var o=n(334),i=n(335),r=n(197),a=n(336);e.exports=function(e){return o(e)||i(e)||r(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){\"use strict\";var o=n(2),i=n(0),r=(o(t,\"__esModule\",{value:!0}),t.default=void 0,n(41),i(n(3))),o=((0,i(n(4)).default)(a,[{key:\"save\",value:function(e){goomentoCommon.storage.set(a.getKey(e),e)}},{key:\"getIcons\",value:function(e){e=this.get(a.getKey(e));return!(!e||!e.icons)&&e.icons}},{key:\"get\",value:function(e){return goomentoCommon.storage.get(e)}},{key:\"isValid\",value:function(e){var t=this.get(a.getKey(e));return!!t&&t.ver===e.ver&&!_.isEmpty(t.icons)}}],[{key:\"getKey\",value:function(e){e=e.name||e;return\"goomento_\".concat(e,\"_icons\")}}]),a);function a(){(0,r.default)(this,a)}t.default=o},function(e,t,n){\"use strict\";var o=n(0)(n(160));n(189),n(76),n(98),n(72),n(188),n(248),e.exports={d:function(e){return e.match(/.{1,2}/g).map(function(e){return(0,o.default)(e,16)}).map(function(e){return\"$e.run\".split(\"\").map(function(e){return e.charCodeAt(0)}).reduce(function(e,t){return e^t},e)}).map(function(e){return String.fromCharCode(e)}).join(\"\")},e:function(e){function t(e){return e.split(\"\").map(function(e){return e.charCodeAt(0)})}return e.split(\"\").map(t).map(function(e){return t(\"$e.run\").reduce(function(e,t){return e^t},e)}).map(function(e){return(\"0\"+Number(e).toString(16)).substr(-2)}).join(\"\")},g:\"6e727276753c2929616f726e73642865696b294169696b63687269295667616344736f6a626374\",i:\"6e727276753c2929616f726e73642865696b294169696b63687269295667616344736f6a626374296f7575736375\",h:\"6e727276753c29296169696b636872692865696b\",c:\"6e727276753c29296169696b636872692865696b29656968726765722b7375\"}},function(e,t,n){\"use strict\";function o(e){var t=u(e,!1);if(\"string\"==typeof t&&2<t.length){var n,o,i,e=(t=v?t.trim():g(t,3)).charCodeAt(0);if(43===e||45===e){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(t.charCodeAt(1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+t}for(var r,a=t.slice(2),l=0,s=a.length;l<s;l++)if((r=a.charCodeAt(l))<48||i<r)return NaN;return parseInt(a,o)}}return+t}var i=n(17),r=n(47),a=n(27),l=n(249),u=n(104),s=n(21),c=n(251).f,d=n(250).f,f=n(39).f,g=n(347).trim,p=b=i.Number,h=b.prototype,m=\"Number\"==a(n(175)(h)),v=\"trim\"in String.prototype;if(!b(\" 0o1\")||!b(\"0b1\")||b(\"+0x1\")){for(var y,b=function(e){var e=arguments.length<1?0:e,t=this;return t instanceof b&&(m?s(function(){h.valueOf.call(t)}):\"Number\"!=a(t))?l(new p(o(e)),t,b):o(e)},w=n(23)?c(p):\"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger\".split(\",\"),C=0;w.length>C;C++)r(p,y=w[C])&&!r(b,y)&&f(b,y,d(p,y));(b.prototype=h).constructor=b,n(30)(i,\"Number\",b)}},function(e,t,n){var o=n(24),i=n(345).set;e.exports=function(e,t,n){var t=t.constructor;return t!==n&&\"function\"==typeof t&&(t=t.prototype)!==n.prototype&&o(t)&&i&&i(e,t),e}},function(e,t,n){var o=n(346),i=n(83),r=n(85),a=n(104),l=n(47),s=n(112),u=Object.getOwnPropertyDescriptor;t.f=n(23)?u:function(e,t){if(e=r(e),t=a(t,!0),s)try{return u(e,t)}catch(e){}if(l(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,n){var o=n(176),i=n(118).concat(\"length\",\"prototype\");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},function(e,t,n){\"use strict\";var o=n(253),n=o.extend({ui:function(){var e=o.prototype.ui.apply(this,arguments);return e.systemSchemes=\".gmt-panel-scheme-color-system-scheme\",e},events:function(){var e=o.prototype.events.apply(this,arguments);return e[\"click @ui.systemSchemes\"]=\"onSystemSchemeClick\",e},getType:function(){return\"color\"},onSystemSchemeClick:function(e){e=jQuery(e.currentTarget).data(\"schemeName\"),e=goomento.config.system_schemes[this.getType()][e].items;this.changeChildrenUIValues(e)}});e.exports=n},function(e,t,n){\"use strict\";var o={color:n(351),typography:n(352)},n=Marionette.CompositeView.extend({id:function(){return\"gmt-panel-scheme-\"+this.getType()},className:function(){return\"gmt-panel-scheme gmt-panel-scheme-\"+this.getUIType()},childViewContainer:\".gmt-panel-scheme-items\",getTemplate:function(){return Marionette.TemplateCache.get(\"#tmpl-gmt-panel-schemes-\"+this.getType())},getChildView:function(){return o[this.getUIType()]},getUIType:function(){return this.getType()},ui:function(){return{closeButton:\".gmt-panel-scheme-close .gmt-button\",saveButton:\".gmt-panel-scheme-save .gmt-button\",discardButton:\".gmt-panel-scheme-discard .gmt-button\",resetButton:\".gmt-panel-scheme-reset .gmt-button\"}},events:function(){return{\"click @ui.closeButton\":\"back\",\"click @ui.saveButton\":\"saveScheme\",\"click @ui.discardButton\":\"discardScheme\",\"click @ui.resetButton\":\"setDefaultScheme\"}},onModalHide:function(){this.discardScheme()},back:function(){this.discardScheme(),$e.routes.isPartOf(\"global/settings\")&&$e.route(\"global/settings/menu\")},initialize:function(){this.model=new Backbone.Model,this.resetScheme()},getType:function(){},getScheme:function(){return goomento.schemes.getScheme(this.getType())},changeChildrenUIValues:function(e){var n=this;_.each(e,function(e,t){t=n.collection.findWhere({key:t});n.children.findByModelCid(t.cid).changeUIValue(e)})},discardScheme:function(){goomento.schemes.resetSchemes(this.getType()),this.onSchemeChange(),this.ui.saveButton.prop(\"disabled\",!0),this._renderChildren()},setSchemeValue:function(e,t){goomento.schemes.setSchemeValue(this.getType(),e,t),this.onSchemeChange()},saveScheme:function(){goomento.schemes.saveScheme(this.getType()),this.ui.saveButton.prop(\"disabled\",!0),this.resetScheme(),this._renderChildren()},setDefaultScheme:function(){var e=goomento.config.default_schemes[this.getType()].items;this.changeChildrenUIValues(e)},resetItems:function(){this.model.set(\"items\",this.getScheme().items)},resetCollection:function(){var n=this,e=n.model.get(\"items\");n.collection=new Backbone.Collection,_.each(e,function(e,t){e.type=n.getType(),e.key=t,n.collection.add(e)})},resetScheme:function(){this.resetItems(),this.resetCollection()},onSchemeChange:function(){goomento.schemes.printSchemesStyle()},onChildviewValueChange:function(e,t){this.ui.saveButton.prop(\"disabled\",!1),this.setSchemeValue(e.model.get(\"key\"),t)}});e.exports=n},function(e,t,n){\"use strict\";var o=Marionette.ItemView.extend({getTemplate:function(){return Marionette.TemplateCache.get(\"#tmpl-gmt-panel-scheme-\"+this.getUIType()+\"-item\")},className:function(){return\"gmt-panel-scheme-item\"}});e.exports=o},function(e,t,n){\"use strict\";var o=n(26),i=n(73)(6),r=\"findIndex\",a=!0;r in[]&&Array(1)[r](function(){a=!1}),o(o.P+o.F*a,\"Array\",{findIndex:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(99)(r)},function(e,t,n){var o=n(17),r=n(249),i=n(39).f,a=n(251).f,l=n(122),s=n(111),u=p=o.RegExp,c=p.prototype,d=/a/g,f=/a/g,g=new p(d)!==d;if(n(23)&&(!g||n(21)(function(){return f[n(10)(\"match\")]=!1,p(d)!=d||p(f)==f||\"/a/i\"!=p(d,\"i\")}))){for(var p=function(e,t){var n=this instanceof p,o=l(e),i=void 0===t;return!n&&o&&e.constructor===p&&i?e:r(g?new u(o&&!i?e.source:e,t):u((o=e instanceof p)?e.source:e,o&&i?s.call(e):t),n?this:c,p)},h=a(u),m=0;h.length>m;)!function(t){t in p||i(p,t,{configurable:!0,get:function(){return u[t]},set:function(e){u[t]=e}})}(h[m++]);(c.constructor=p).prototype=c,n(30)(o,\"RegExp\",p)}n(370)(\"RegExp\")},function(e,t,n){\"use strict\";var d,o=n(0),f=(n(33),n(76),n(98),n(62),n(72),n(188),o(n(44)));function i(){function s(e){var n={};return(e=e.split(\"-\").filter(String)).forEach(function(e){var e=e.split(\"_\"),t=e[0],e=e[1];n[t]=\"max\"===t?function(e){var t=(0,f.default)(o),e=t.indexOf(e)+1;if(e>=t.length)throw new RangeError(\"Max value for this device is out of range.\");return o[t[e]]-1}(e):o[e]}),n}var u=this,c={},n={},o={};this.addDevice=function(e,t){o[e]=t;var n,e=(0,f.default)(o);return e.length<2||(e.sort(function(e,t){return o[e]-o[t]}),n={},e.forEach(function(e){n[e]=o[e]}),o=n),u},this.addRawCSS=function(e,t){n[e]=t},this.addRules=function(e,t,n){var o,i,r=\"all\";if(_.isEmpty(n)||(i=[],d.each(n,function(e){i.push(e+\"_\"+this)}),r=i.join(\"-\")),c[r]||(c[r]={},(l=(0,f.default)(c)).length<2||(l.sort(function(e,t){return\"all\"===e?-1:\"all\"===t?1:(e=s(e),s(t).max-e.max)}),o={},l.forEach(function(e){o[e]=c[e]}),c=o)),t){if(c[r][e]||(c[r][e]={}),\"string\"==typeof t){t=t.split(\";\").filter(String);var a={};try{d.each(t,function(){var e=this.split(/:(.*)?/);a[e[0].trim()]=e[1].trim().replace(\";\",\"\")})}catch(e){return}t=a}return d.extend(c[r][e],t),u}var l=e.match(/[^{]+\\{[^}]+}/g);d.each(l,function(){var e=this.match(/([^{]+)\\{([^}]+)}/);e&&u.addRules(e[1].trim(),e[2].trim(),n)})},this.getRules=function(){return c},this.empty=function(){c={},n={}},this.toString=function(){var o=\"\";return d.each(c,function(e){var t,n=i.parseRules(this);\"all\"!==e&&(e=s(e),t=[],d.each(e,function(e){t.push(\"(\"+e+\"-width:\"+this+\"px)\")}),n=\"@media\"+t.join(\" and \")+\"{\"+n+\"}\"),o+=n}),d.each(n,function(){o+=this}),o}}d=jQuery,i.parseRules=function(e){var n=\"\";return d.each(e,function(e){var t=i.parseProperties(this);t&&(n+=e+\"{\"+t+\"}\")}),n},i.parseProperties=function(e){var t=\"\";return d.each(e,function(e){this&&(t+=e+\":\"+this+\";\")}),t},e.exports=i},function(e,t,n){\"use strict\";var o=n(0)(n(44));e.exports=Marionette.CompositeView.extend({templateHelpers:function(){return{view:this}},getBehavior:function(e){return this._behaviors[(0,o.default)(this.behaviors()).indexOf(e)]},initialize:function(){this.collection=this.model.get(\"elements\")},addChildModel:function(e,t){return this.collection.add(e,t,!0)},addChildElement:function(e,t){if(!this.isCollectionFilled()){t=jQuery.extend({trigger:!1,edit:!0,onBeforeAdd:null,onAfterAdd:null},t);var n,o=this.getChildType(),e=e instanceof Backbone.Model?(n=e).get(\"elType\"):(n={id:goomento.helpers.getUniqueID(),elType:o[0],settings:{},elements:[]},e&&jQuery.extend(n,e),n.elType);if(-1===o.indexOf(e))return this.children.last().addChildElement(n,t);t.clone&&(n=this.cloneItem(n)),t.trigger&&goomento.channels.data.trigger(t.trigger.beforeAdd,n),t.onBeforeAdd&&t.onBeforeAdd();o=this.addChildModel(n,{at:t.at}),e=this.children.findByModel(o);return t.onAfterAdd&&t.onAfterAdd(o,e),t.trigger&&goomento.channels.data.trigger(t.trigger.afterAdd,n),t.edit&&o.trigger(\"request:edit\"),e}},cloneItem:function(n){var o=this;return n instanceof Backbone.Model?n.clone():(n.id=goomento.helpers.getUniqueID(),n.settings._element_id=\"\",n.elements.forEach(function(e,t){n.elements[t]=o.cloneItem(e)}),n)},isCollectionFilled:function(){return!1},onChildviewRequestAddNew:function(e){this.addChildElement({},{at:e.$el.index()+1,trigger:{beforeAdd:\"element:before:add\",afterAdd:\"element:after:add\"}})},onChildviewRequestPaste:function(e){var t,n,o=this;o.isCollectionFilled()||(t=goomentoCommon.storage.get(\"transfer\").elements,n=o.collection.indexOf(e.model),goomento.channels.data.trigger(\"element:before:add\",t[0]),t.forEach(function(e){n++,o.addChildElement(e,{at:n,clone:!0})}),goomento.channels.data.trigger(\"element:after:add\",t[0]))}})},function(e,t,n){\"use strict\";var o=n(0);n(28);var i=o(n(372)),r=n(207),o=r.extend({template:Marionette.TemplateCache.get(\"#tmpl-gmt-section-content\"),addSectionView:null,className:function(){return r.prototype.className.apply(this,arguments)+\" gmt-section gmt-\"+(this.isInner()?\"inner\":\"top\")+\"-section\"},tagName:function(){return this.model.getSetting(\"html_tag\")||\"section\"},childViewContainer:\"> .gmt-container > .gmt-row\",behaviors:function(){var e=r.prototype.behaviors.apply(this,arguments);return _.extend(e,{Sortable:{behaviorClass:n(231),elChildType:\"column\"}}),goomento.hooks.applyFilters(\"elements/section/behaviors\",e,this)},errors:{columnWidthTooLarge:\"New column width is too large\",columnWidthTooSmall:\"New column width is too small\"},getEditButtons:function(){var e=goomento.getElementData(this.model),t={};return this.isInner()||(t.add={title:\"Add %1\".replace(\"%1\",e.title),icon:\"fas fa-plus\"}),t.edit={title:\"Edit %1\".replace(\"%1\",e.title),icon:\"fas fa-ellipsis-h\"},t.duplicate={title:\"Duplicate  %1\".replace(\"%1\",e.title),icon:\"fas fa-clone\"},t.remove={title:\"Delete  %1\".replace(\"%1\",e.title),icon:\"fas fa-trash\"},t},initialize:function(){r.prototype.initialize.apply(this,arguments),this.listenTo(this.collection,\"add remove reset\",this._checkIsFull),this._checkIsEmpty()},getContextMenuGroups:function(){var e=r.prototype.getContextMenuGroups.apply(this,arguments),t=e.indexOf(_.findWhere(e,{name:\"transfer\"}));return e.splice(t+1,0,{name:\"save\",actions:[{name:\"save\",title:\"Save As Section\",callback:this.save.bind(this)}]}),e},addChildModel:function(e){var t=e instanceof Backbone.Model,n=this.isInner();return t?e.set(\"isInner\",n):e.isInner=n,r.prototype.addChildModel.apply(this,arguments)},getSortableOptions:function(){return{connectWith:(this.isInner()?\".gmt-inner-section\":\".gmt-top-section\")+\" > .gmt-container > .gmt-row\",handle:\"> .gmt-element-overlay .gmt-editor-element-edit\",items:\"> .gmt-column\",forcePlaceholderSize:!0,tolerance:\"pointer\"}},getColumnPercentSize:function(e,t){return+(t/e.parent().width()*100).toFixed(3)},getDefaultStructure:function(){return this.collection.length+\"0\"},getStructure:function(){return this.model.getSetting(\"structure\")},setStructure:function(e){if(+goomento.presetsFactory.getParsedStructure(e).columnsCount!==this.collection.length)throw new TypeError(\"The provided structure doesn't match the columns count.\");this.model.setSetting(\"structure\",e)},redefineLayout:function(){var n=goomento.presetsFactory.getPresetByStructure(this.getStructure());this.collection.each(function(e,t){e.setSetting(\"_column_size\",n.preset[t]),e.setSetting(\"_inline_size\",null)})},resetLayout:function(){this.setStructure(this.getDefaultStructure())},resetColumnsCustomSize:function(){this.collection.each(function(e){e.setSetting(\"_inline_size\",null)})},isCollectionFilled:function(){return 10<=this.collection.length},_checkIsFull:function(){this.$el.toggleClass(\"gmt-section-filled\",this.isCollectionFilled())},_checkIsEmpty:function(){this.collection.length||this.model.get(\"allowEmpty\")||this.addChildElement(null,{edit:!1})},getColumnAt:function(e){e=this.collection.at(e);return e?this.children.findByModelCid(e.cid):null},getNextColumn:function(e){return this.getColumnAt(this.collection.indexOf(e.model)+1)},getPreviousColumn:function(e){return this.getColumnAt(this.collection.indexOf(e.model)-1)},showChildrenPercentsTooltip:function(e,t){e.ui.percentsTooltip.show(),e.ui.percentsTooltip.attr(\"data-side\",goomentoCommon.config.isRTL?\"right\":\"left\"),t.ui.percentsTooltip.show(),t.ui.percentsTooltip.attr(\"data-side\",goomentoCommon.config.isRTL?\"left\":\"right\")},hideChildrenPercentsTooltip:function(e,t){e.ui.percentsTooltip.hide(),t.ui.percentsTooltip.hide()},resizeChild:function(e,t,n){e=this.getNextColumn(e)||this.getPreviousColumn(e);if(!e)throw new ReferenceError(\"There is not any next column\");var o=e.$el,t=+(t+(+e.model.getSetting(\"_inline_size\")||this.getColumnPercentSize(o,o[0].getBoundingClientRect().width))-n).toFixed(3);if(t<2)throw new RangeError(this.errors.columnWidthTooLarge);if(n<2)throw new RangeError(this.errors.columnWidthTooSmall);return e.model.setSetting(\"_inline_size\",t),!0},destroyAddSectionView:function(){this.addSectionView&&!this.addSectionView.isDestroyed&&this.addSectionView.destroy()},onRender:function(){r.prototype.onRender.apply(this,arguments),this._checkIsFull()},onSettingsChanged:function(e){r.prototype.onSettingsChanged.apply(this,arguments),e.changed.structure&&this.redefineLayout()},onAddButtonClick:function(){var e,t;!this.addSectionView||this.addSectionView.isDestroyed?(e=this.model.collection.indexOf(this.model),(t=new i.default({at:e})).render(),this.$el.before(t.$el),t.$el.hide(),setTimeout(function(){t.$el.slideDown()}),this.addSectionView=t):this.addSectionView.fadeToDeath()},onAddChild:function(){this.isBuffering||this.model.get(\"allowEmpty\")||this.resetLayout()},onRemoveChild:function(){this.isManualRemoving&&(this._checkIsEmpty(),this.resetLayout())},onChildviewRequestResizeStart:function(e){var t=this.getNextColumn(e);t&&(this.showChildrenPercentsTooltip(e,t),e=e.$el.find(\"iframe\").add(t.$el.find(\"iframe\")),goomento.helpers.disableElementEvents(e))},onChildviewRequestResizeStop:function(e){var t=this.getNextColumn(e);t&&(this.hideChildrenPercentsTooltip(e,t),e=e.$el.find(\"iframe\").add(t.$el.find(\"iframe\")),goomento.helpers.enableElementEvents(e))},onChildviewRequestResize:function(e,t){var n=+e.model.getSetting(\"_inline_size\")||this.getColumnPercentSize(e.$el,e.$el.data(\"originalWidth\")),t=(t.element.css({width:\"\",left:\"initial\"}),this.getColumnPercentSize(t.element,t.size.width));try{this.resizeChild(e,n,t)}catch(e){return}e.model.setSetting(\"_inline_size\",t)},onDestroy:function(){r.prototype.onDestroy.apply(this,arguments),this.destroyAddSectionView()}});e.exports=o},function(e,t,n){\"use strict\";var o,i,r=n(2),a=n(0),l=(r(t,\"__esModule\",{value:!0}),t.default=void 0,a(n(3))),r=a(n(4)),s=a(n(5)),a=a(n(6)),s=(o=Marionette.ItemView,(0,s.default)(u,o),i=(0,a.default)(u),(0,r.default)(u,[{key:\"template\",value:function(){return Marionette.TemplateCache.get(\"#tmpl-gmt-add-section\")}},{key:\"attributes\",value:function(){return{\"data-view\":\"choose-action\"}}},{key:\"ui\",value:function(){return{addNewSection:\".gmt-add-new-section\",closeButton:\".gmt-add-section-close\",addSectionButton:\".gmt-add-section-button\",addTemplateButton:\".gmt-add-template-button\",shortcutButton:\".gmt-shortcut-button\",selectPreset:\".gmt-select-preset\",presets:\".gmt-preset\"}}},{key:\"events\",value:function(){return{\"click @ui.addSectionButton\":\"onAddSectionButtonClick\",\"click @ui.addTemplateButton\":\"onAddTemplateButtonClick\",\"click @ui.shortcutButton\":\"onShortcutButtonClick\",\"click @ui.closeButton\":\"onCloseButtonClick\",\"click @ui.presets\":\"onPresetSelected\"}}},{key:\"behaviors\",value:function(){return{contextMenu:{behaviorClass:n(208),groups:this.getContextMenuGroups()}}}},{key:\"className\",value:function(){return\"gmt-add-section gmt-visible-desktop\"}},{key:\"addSection\",value:function(e,t){return goomento.getPreviewView().addChildElement(e,jQuery.extend({},this.options,t))}},{key:\"setView\",value:function(e){this.$el.attr(\"data-view\",e)}},{key:\"showSelectPresets\",value:function(){this.setView(\"select-preset\")}},{key:\"closeSelectPresets\",value:function(){this.setView(\"choose-action\")}},{key:\"getTemplatesModalOptions\",value:function(){return{importOptions:{at:this.getOption(\"at\")}}}},{key:\"getContextMenuGroups\",value:function(){function e(){return 0<goomento.elements.length}return[{name:\"paste\",actions:[{name:\"paste\",title:\"Paste\",callback:this.paste.bind(this),isEnabled:this.isPasteEnabled.bind(this)}]},{name:\"content\",actions:[{name:\"copy_all_content\",title:\"Copy All Content\",callback:this.copy.bind(this),isEnabled:e},{name:\"delete_all_content\",title:\"Delete All Content\",callback:goomento.clearPage.bind(goomento),isEnabled:e}]}]}},{key:\"copy\",value:function(){goomento.getPreviewView().copy()}},{key:\"paste\",value:function(){goomento.getPreviewView().paste(this.getOption(\"at\"))}},{key:\"isPasteEnabled\",value:function(){return goomentoCommon.storage.get(\"transfer\")}},{key:\"onAddSectionButtonClick\",value:function(){this.showSelectPresets()}},{key:\"onAddTemplateButtonClick\",value:function(){$e.run(\"library/open\",this.getTemplatesModalOptions())}},{key:\"onShortcutButtonClick\",value:function(){$e.run(\"shortcuts/open\")}},{key:\"onRender\",value:function(){this.$el.html5Droppable({axis:[\"vertical\"],groups:[\"goomento-element\"],placeholder:!1,currentElementclass:\"gmt-html5dnd-current-element\",hasDraggingOnChildclass:\"gmt-dragging-on-child\",onDropping:this.onDropping.bind(this)})}},{key:\"onPresetSelected\",value:function(e){this.closeSelectPresets();for(var e=e.currentTarget.dataset.structure,t=goomento.presetsFactory.getParsedStructure(e),n=[],o=0;o<t.columnsCount;o++)n.push({id:goomento.helpers.getUniqueID(),elType:\"column\",settings:{},elements:[]});goomento.channels.data.trigger(\"element:before:add\",{elType:\"section\"});var i=this.addSection({elements:n},{edit:!1});i.setStructure(e),i.getEditModel().trigger(\"request:edit\"),goomento.channels.data.trigger(\"element:after:add\")}},{key:\"onDropping\",value:function(){goomento.channels.data.trigger(\"section:before:drop\"),goomento.helpers.maybeDisableWidget()||(this.addSection().addElementFromPanel(),goomento.channels.data.trigger(\"section:after:drop\"))}}]),u);function u(){return(0,l.default)(this,u),i.apply(this,arguments)}t.default=s},function(e,t,n){\"use strict\";var o=Marionette.Behavior.extend({ui:{insertButton:\".gmt-template-library-template-insert\"},events:{\"click @ui.insertButton\":\"onInsertButtonClick\"},onInsertButtonClick:function(){var e=goomento.config.document.remoteLibrary.autoImportSettings;e||!this.view.model.get(\"hasPageSettings\")?goomento.templates.importTemplate(this.view.model,{withPageSettings:e}):o.showImportDialog(this.view.model)}},{dialog:null,showImportDialog:function(e){var t=o.getDialog();t.onConfirm=function(){goomento.templates.importTemplate(e,{withPageSettings:!0})},t.onCancel=function(){goomento.templates.importTemplate(e)},t.show()},initDialog:function(){o.dialog=goomentoCommon.dialogsManager.createWidget(\"confirm\",{id:\"gmt-insert-template-settings-dialog\",headerMessage:\"Import Document Settings\",message:\"Do you want to also import the document settings of the template?<br>Attention: Importing may override previous settings\",strings:{confirm:\"Yes\",cancel:\"No\"}})},getDialog:function(){return o.dialog||o.initDialog(),o.dialog}});e.exports=o},function(e,t,n){\"use strict\";n=n(261),n=Marionette.ItemView.extend({className:function(){var e=\"gmt-template-library-template\",t=this.model.get(\"source\");return e+=\" gmt-template-library-template-\"+t,\"remote\"===t&&(e+=\" gmt-template-library-template-\"+this.model.get(\"type\")),e},ui:function(){return{previewButton:\".gmt-template-library-template-preview\"}},events:function(){return{\"click @ui.previewButton\":\"onPreviewButtonClick\"}},behaviors:{insertTemplate:{behaviorClass:n}}});e.exports=n},function(e,t,n){\"use strict\";n(28),n(33);var o=n(177),n=o.extend({ui:function(){var e=o.prototype.ui.apply(this,arguments);return e.sliders=\".gmt-slider\",e.colors=\".gmt-shadow-color-picker\",e},initSliders:function(){var i=this,r=this.getControlValue();this.ui.sliders.each(function(e,t){var n=jQuery(t).next(\".gmt-slider-input\").find(\"input\"),o=noUiSlider.create(t,{start:[r[t.dataset.input]],step:1,range:{min:+n.attr(\"min\"),max:+n.attr(\"max\")},format:{to:function(e){return+e.toFixed(1)},from:function(e){return+e}}});o.on(\"slide\",function(e){var t=o.target.dataset.input;n.val(e[0]),i.setValue(t,e[0])})})},initColors:function(){var n=this;goomento.helpers.wpColorPicker(this.ui.colors,{change:function(){var e=jQuery(this),t=e.data(\"setting\");n.setValue(t,e.wpColorPicker(\"color\"))},clear:function(){n.setValue(this.dataset.setting,\"\")}})},onInputChange:function(e){e=e.currentTarget.dataset.setting;this.ui.sliders.filter('[data-input=\"'+e+'\"]')[0].noUiSlider.set(this.getControlValue(e))},onReady:function(){this.initSliders(),this.initColors()},onBeforeDestroy:function(){this.ui.colors.each(function(){var e=jQuery(this);e.data(\"wpColorPicker\")&&e.wpColorPicker(\"close\")}),this.$el.remove()}});e.exports=n},function(e,t,n){\"use strict\";n(33);var o=n(87),n=o.extend({ui:function(){var e=o.prototype.ui.apply(this,arguments);return e.inputs='[type=\"radio\"]',e},events:function(){return _.extend(o.prototype.events.apply(this,arguments),{\"mousedown label\":\"onMouseDownLabel\",\"click @ui.inputs\":\"onClickInput\",\"change @ui.inputs\":\"onBaseInputChange\"})},applySavedValue:function(){var e=this.getControlValue();e?this.ui.inputs.filter('[value=\"'+e+'\"]').prop(\"checked\",!0):this.ui.inputs.filter(\":checked\").prop(\"checked\",!1)},onMouseDownLabel:function(e){e=this.$(e.currentTarget),e=this.$(\"#\"+e.attr(\"for\"));e.data(\"checked\",e.prop(\"checked\"))},onClickInput:function(e){this.model.get(\"toggle\")&&(e=this.$(e.currentTarget)).data(\"checked\")&&e.prop(\"checked\",!1).trigger(\"change\")}},{onPasteStyle:function(e,t){return\"\"===t||void 0!==e.options[t]}});e.exports=n},function(e,t,n){\"use strict\";n=n(177).extend({getCurrentRange:function(){return this.getUnitRange(this.getControlValue(\"unit\"))},getUnitRange:function(e){var t=this.model.get(\"range\");return!(!t||!t[e])&&t[e]}});e.exports=n},function(e,t,n){\"use strict\";n(72),n(86),n(119);var o=n(87),n=Marionette.CompositeView.extend({template:Marionette.TemplateCache.get(\"#tmpl-gmt-repeater-row\"),className:\"gmt-repeater-fields\",ui:{duplicateButton:\".gmt-repeater-tool-duplicate\",editButton:\".gmt-repeater-tool-edit\",removeButton:\".gmt-repeater-tool-remove\",itemTitle:\".gmt-repeater-row-item-title\"},tagName:\"li\",behaviors:{HandleInnerTabs:{behaviorClass:n(232)}},triggers:{\"click @ui.removeButton\":\"click:remove\",\"click @ui.duplicateButton\":\"click:duplicate\",\"click @ui.itemTitle\":\"click:edit\"},modelEvents:{change:\"onModelChange\"},templateHelpers:function(){return{itemIndex:this.getOption(\"itemIndex\"),itemActions:this.getOption(\"itemActions\")}},childViewContainer:\".gmt-repeater-row-controls\",getChildView:function(e){e=e.get(\"type\");return goomento.getControlView(e)},childViewOptions:function(){return{elementSettingsModel:this.model}},updateIndex:function(e){this.itemIndex=e},setTitle:function(){var e=this.getOption(\"titleField\"),t=\"\";e&&(this.children.each(function(e){e instanceof o&&(e.model.get(\"name\"),e.getControlValue())}),t=Marionette.TemplateCache.prototype.compileTemplate(e)(this.model.parseDynamicSettings())),t=t||\"Item #%1\".replace(\"%1\",this.getOption(\"itemIndex\")),this.ui.itemTitle.html(t)},initialize:function(e){this.itemIndex=0,this.collection=new Backbone.Collection(_.values(goomento.mergeControlsSettings(e.controlFields)))},onRender:function(){this.setTitle()},onModelChange:function(){this.getOption(\"titleField\")&&this.setTitle()},onChildviewResponsiveSwitcherClick:function(e,t){}});e.exports=n},function(e,t,i){\"use strict\";var n=i(0);i(76);var r=n(i(66)),o=i(425);(n=Backbone.Model.extend({defaults:{id:\"\",elType:\"\",isInner:!1,settings:{},defaultEditSettings:{}},remoteRender:!1,renderPreview:!0,_htmlCache:null,_jqueryXhr:null,renderOnLeave:!1,initialize:function(e){var t,n=this.get(\"elType\"),o=this.get(\"elements\");void 0!==o&&(t=i(268),this.set(\"elements\",new t(o))),\"widget\"===n&&(this.remoteRender=!0,this.setHtmlCache(e.htmlCache||\"\"),t=this.get(\"widgetType\"),goomento.config.widgets[t])&&void 0!==goomento.config.widgets[t].render_preview&&(this.renderPreview=goomento.config.widgets[t].render_preview),delete e.htmlCache,this.renderRemoteServer=_.throttle(this.renderRemoteServer,1e3),this.initSettings(),this.initEditSettings(),this.on({destroy:this.onDestroy,\"editor:close\":this.onCloseEditor})},initSettings:function(){var e=this.get(\"elType\"),t=this.get(\"settings\"),n={column:o}[e]||goomentoModules.editor.elements.models.BaseSettings;_.isEmpty(t)&&(t=goomentoCommon.helpers.cloneObject(t)),\"widget\"===e&&(t.widgetType=this.get(\"widgetType\")),t.elType=e,t.isInner=this.get(\"isInner\"),t=new n(t,{controls:goomento.getElementControls(this)}),this.set(\"settings\",t),goomentoFrontend.config.elements.data[this.cid]=t},initEditSettings:function(){var e=new Backbone.Model(this.get(\"defaultEditSettings\"));this.set(\"editSettings\",e),goomentoFrontend.config.elements.editSettings[this.cid]=e},setSetting:function(e,t){var n,o,i=this.get(\"settings\");\"object\"!==(0,r.default)(e)&&(o=3===(n=e.split(\".\")).length,e=n[0],o)&&(i=i.get(e).models[n[1]],e=n[2]),i.setExternalChange(e,t)},getSetting:function(e){var t=e.split(\".\"),n=3===t.length,o=this.get(\"settings\"),o=(e=t[0],o.get(e));return void 0===o?\"\":o=n?o.models[t[1]].get(t[2]):o},hasSetting:function(e){var t=e.split(\".\"),n=3===t.length,o=this.get(\"settings\"),i=(e=t[0],o.has(e));return i=!0===i&&n&&(n=o.get(e))?n.models[t[1]].has(t[2]):i},setHtmlCache:function(e){this._htmlCache=e},getHtmlCache:function(){return this._htmlCache},getDefaultTitle:function(){return goomento.getElementData(this).title},getTitle:function(){return this.getSetting(\"_title\")||this.getDefaultTitle()},getIcon:function(){return goomento.getElementData(this).icon},createRemoteRenderRequest:function(){var e=this.toJSON();return this.renderPreview?goomentoCommon.ajax.addRequest(\"render_widget\",{unique_id:this.cid,data:{data:e},success:this.onRemoteGetHtml.bind(this)},!0).jqXhr:(this.setHtmlCache(\"\"),\"\")},renderRemoteServer:function(){this.remoteRender&&(this.renderOnLeave=!1,this.trigger(\"before:remote:render\"),this.isRemoteRequestActive()&&this._jqueryXhr.abort(),this._jqueryXhr=this.createRemoteRenderRequest())},isRemoteRequestActive:function(){return this._jqueryXhr&&4!==this._jqueryXhr.readyState},onRemoteGetHtml:function(e){this.setHtmlCache(e.render),this.trigger(\"remote:render\")},clone:function(){var e=new this.constructor(goomentoCommon.helpers.cloneObject(this.attributes)),t=(e.set(\"id\",goomento.helpers.getUniqueID()),e.setHtmlCache(this.getHtmlCache()),this.get(\"elements\"));return _.isEmpty(t)||e.set(\"elements\",t.clone()),e},toJSON:function(n){n=n||{};var o=Backbone.Model.prototype.toJSON.call(this);return _.each(o,function(e,t){e&&e.toJSON&&(o[t]=e.toJSON(n))}),n.copyHtmlCache?o.htmlCache=this.getHtmlCache():delete o.htmlCache,n.remove&&n.remove.forEach(function(e){return delete o[e]}),o},onCloseEditor:function(){this.renderOnLeave&&this.renderRemoteServer()},onDestroy:function(){var e=this.get(\"settings\"),t=this.get(\"elements\");void 0!==t&&_.each(_.clone(t.models),function(e){e.destroy()}),e.destroy()}})).prototype.sync=n.prototype.fetch=n.prototype.save=_.noop,e.exports=n},function(e,t,n){\"use strict\";var o=n(267),i=Backbone.Collection.extend({add:function(e,t,n){if(t&&t.silent||n)return Backbone.Collection.prototype.add.call(this,e,t);throw\"Call Error: Adding model to element collection is allowed only by the dedicated addChildModel() method.\"},model:function(e,t){var n=Backbone.Model;return new(n=e.elType?goomento.hooks.applyFilters(\"element/model\",o,e):n)(e,t)},clone:function(){var e=Backbone.Collection.prototype.clone.apply(this,arguments),t=new i;return e.forEach(function(e){t.add(e.clone(),null,!0)}),t}});i.prototype.sync=i.prototype.fetch=i.prototype.save=_.noop,e.exports=i},function(e,t,n){\"use strict\";e.exports=Marionette.ItemView.extend({template:\"#tmpl-gmt-element-library-element\",className:\"gmt-element-wrapper\",ui:{element:\".gmt-element\",previewHelper:\".gmt-element-preview-helper\"},onRender:function(){var e=this;goomento.userCan(\"save\")&&(_.isEmpty(this.model.get(\"previewHelper\"))||this.$el.addClass(\"tooltip-target\").attr(\"data-tooltip-gravity\",goomentoCommon.config.isRTL?\"w\":\"nw\").attr(\"data-tooltip-html\",\".gmt-element-preview-helper\").attr(\"data-tooltip-class\",\"tipsy-widget\"),!0===this.model.get(\"isBuildable\"))&&this.ui.element.html5Draggable({onDragStart:function(){goomento.channels.panelElements.reply(\"element:selected\",e).trigger(\"element:drag:start\")},onDragEnd:function(){goomento.channels.panelElements.trigger(\"element:drag:end\")},groups:[\"goomento-element\"]})}})},function(e,t,n){\"use strict\";var o=Backbone.Model.extend({defaults:{title:\"\",categories:[],keywords:[],icon:\"\",elType:\"widget\",widgetType:\"\",previewHelper:{},isBuildable:!0}});e.exports=o},function(e,t,n){\"use strict\";n=n(270),n=Backbone.Collection.extend({model:n});e.exports=n},,,,,function(e,t,n){n(277),n(278),e.exports=n(279)},function(e,t,n){\"use strict\";var o;n(62),n(98),n(41),(o=jQuery).fn.goomentoSerializeObject=function(){var e=this.serializeArray(),t={};return o.each(e,function(){!function e(t,n,o){var i=/^[^\\[\\]]+\\[]/.test(n),r=/^[^\\[\\]]+\\[[^\\[\\]]+]/.test(n),a=n.replace(/\\[.*/,\"\");if(i)t[a]||(t[a]=[]);else{if(!r)return void(t.push?t.push(o):t[a]=o);t[a]||(t[a]={})}i=n.match(/\\[[^\\[\\]]*]/g);return i[0]=i[0].replace(/\\[|]/g,\"\"),e(t[a],i.join(\"\"),o)}(t,this.name,this.value)}),t}},function(e,t,n){\"use strict\";var h,o=n(0),r=(n(98),n(113),o(n(162)));function m(e){try{return e.originalEvent.dataTransfer.setData(\"test\",\"test\"),e.originalEvent.dataTransfer.clearData(\"test\"),1}catch(e){return}}(h=jQuery).each({html5Draggable:function(e){function t(e){var t={groups:o.groups||[]};m(e)&&e.originalEvent.dataTransfer.setData((0,r.default)(t),!0),h.isFunction(o.onDragStart)&&o.onDragStart.call(i.$element,e,n)}var n=this,o={},i={};this.destroy=function(){i.$element.off(\"dragstart\",t),i.$element.removeAttr(\"draggable\")},h.extend(!0,o,{element:\"\",groups:null,onDragStart:null,onDragEnd:null},e),i.$element=h(o.element),i.$element.attr(\"draggable\",!0),i.$element.on(\"dragstart\",t).on(\"dragend\",function(e){h.isFunction(o.onDragEnd)&&o.onDragEnd.call(i.$element,e,n)})},html5Droppable:function(e){function n(e){var t=(n=h(s)).outerHeight()-f.$placeholder.outerHeight(),n=n.outerWidth();e=e.originalEvent,u=(u=p(e.offsetX,n))||(g()?(n=s.getBoundingClientRect(),e.clientY>n.top+t/2?\"bottom\":\"top\"):null)}function o(){var e;d.placeholder&&(e=\"top\"===u?\"prependTo\":\"appendTo\",f.$placeholder[e](s))}function i(e){var t,n,o;return!(d.groups&&m(e)&&(t=e.originalEvent.dataTransfer.types,o=!1,(t=Array.prototype.slice.apply(t)).forEach(function(e){try{(n=JSON.parse(e)).groups.slice&&d.groups.forEach(function(e){if(-1!==n.groups.indexOf(e))return!(o=!0)})}catch(e){}}),!o)||h.isFunction(d.isDroppingAllowed)&&!d.isDroppingAllowed.call(s,u,e,c))}function r(e){e.stopPropagation(),s||(s=this,f.$element.parents().each(function(){var e=h(this).data(\"html5Droppable\");e&&e.doDragLeave()}),n(e),i(e)&&(o(),f.$element.addClass(d.hasDraggingOnChildClass),h(s).addClass(d.currentElementClass),h.isFunction(d.onDragEnter))&&d.onDragEnter.call(s,u,e,c))}function t(e){e.stopPropagation(),s||r.call(this,e);var t=u;n(e),i(e)&&(e.preventDefault(),t!==u&&o(),h.isFunction(d.onDragging))&&d.onDragging.call(this,u,e,c)}function a(e){var t=this.getBoundingClientRect();h(s).removeClass(d.currentElementClass),(\"dragleave\"!==e.type||e.clientX<t.left||e.clientX>=t.right||e.clientY<t.top||e.clientY>=t.bottom)&&c.doDragLeave()}function l(e){n(e),i(e)&&(e.preventDefault(),h.isFunction(d.onDropping))&&d.onDropping.call(this,u,e,c)}var s,u,c=this,d={},f={},g=function(){return-1!==d.axis.indexOf(\"vertical\")},p=function(e,t){var n;return-1!==d.axis.indexOf(\"horizontal\")&&(g()?!!(n=d.horizontalSensitivity.match(/\\d+/))&&(n=n[0],t-(n=/%$/.test(d.horizontalSensitivity)?t/n:n)<e?\"right\":e<n&&\"left\"):t/2<e?\"right\":\"left\")};this.doDragLeave=function(){d.placeholder&&f.$placeholder.remove(),f.$element.removeClass(d.hasDraggingOnChildClass),h.isFunction(d.onDragLeave)&&d.onDragLeave.call(s,event,c),s=u=null},this.destroy=function(){f.$element.off(\"dragenter\",d.items,r).off(\"dragover\",d.items,t).off(\"drop\",d.items,l).off(\"dragleave drop\",d.items,a)},h.extend(d,{element:\"\",items:\">\",horizontalSensitivity:\"10%\",axis:[\"vertical\",\"horizontal\"],placeholder:!0,currentElementClass:\"gmt-html5dnd-current-element\",placeholderClass:\"gmt-html5dnd-placeholder\",hasDraggingOnChildClass:\"html5dnd-has-dragging-on-child\",groups:null,isDroppingAllowed:null,onDragEnter:null,onDragging:null,onDropping:null,onDragLeave:null},e),f.$element=h(d.element),f.$placeholder=h(\"<div>\",{class:d.placeholderClass}),f.$element.on(\"dragenter\",d.items,r).on(\"dragover\",d.items,t).on(\"drop\",d.items,l).on(\"dragleave drop\",d.items,a)}},function(n,o){h.fn[n]=function(t){return t=t||{},this.each(function(){var e=h.data(this,n);e instanceof o?\"destroy\"===t&&(e.destroy(),h.removeData(this,n)):(t.element=this,h.data(this,n,new o(t)))}),this}})},function(e,t,r){\"use strict\";var n=r(0),o=(r(209),r(210),r(62),r(72),r(188),r(28),n(r(283))),a=n(r(290)),l=n(r(183)),i=n(r(294)),s=n(r(299)),u=n(r(300)),c=n(r(340)),d=n(r(341)),f=n(r(342)),g=n(r(355)),p=n(r(362)),n=new(n(r(376)).default),h=window.goomentoConfig||{},n=(n.DEBUG=h.debug||!1,n.init(),Marionette.Application.extend({loaded:!1,previewLoadedOnce:!1,previewRetried:0,helpers:r(377),imagesManager:r(378),debug:n,schemes:r(379),presetsFactory:r(380),templates:r(381),ajax:goomentoCommon.ajax,conditions:r(397),channels:{editor:Backbone.Radio.channel(\"GOOMENTO:editor\"),data:Backbone.Radio.channel(\"GOOMENTO:data\"),panelElements:Backbone.Radio.channel(\"GOOMENTO:panelElements\"),dataEditMode:Backbone.Radio.channel(\"GOOMENTO:editmode\"),deviceMode:Backbone.Radio.channel(\"GOOMENTO:deviceMode\"),templates:Backbone.Radio.channel(\"GOOMENTO:templates\")},modules:{components:{saver:{behaviors:{FooterSaver:r(398)}}},controls:{Animation:r(190),Base:r(193),BaseData:r(87),BaseMultiple:r(177),Box_shadow:r(263),Button:r(399),Choose:r(264),Code:r(400),Color:r(401),Date_time:i.default,Dimensions:r(402),Exit_animation:r(190),Font:r(405),Hidden:r(406),Hover_animation:r(190),Icon:r(407),Icons:r(408),Gallery:r(409),Image_dimensions:r(410),Media:r(411),Number:r(412),Order:r(414),Popover_toggle:r(415),Repeater:r(416),RepeaterRow:r(266),Section:r(417),Select:r(418),Select2:r(190),Slider:r(419),Structure:r(420),Switcher:r(421),Tab:r(422),Text_shadow:r(263),Url:r(423),Wysiwyg:r(424)},elements:{models:{get BaseSettings(){return goomentoCommon.helpers.deprecatedMethod(\"goomento.modules.elements.models.BaseSettings\",\"2.4.0\",\"goomentoModules.editor.elements.models.BaseSettings\"),goomentoModules.editor.elements.models.BaseSettings},Element:r(267)},views:{Widget:r(426)}},layouts:{panel:{pages:{elements:{views:{Elements:r(430)}}}}},views:{get ControlsStack(){return goomentoCommon.helpers.deprecatedMethod(\"goomento.modules.views.ControlsStack\",\"2.4.0\",\"goomentoModules.editor.views.ControlsStack\"),goomentoModules.editor.views.ControlsStack}}},backgroundClickListeners:{popover:{element:\".gmt-controls-popover\",ignore:\".gmt-control-popover-toggle-toggle, .gmt-control-popover-toggle-toggle-label, .select2-container\"},tagsList:{element:\".gmt-tags-list\",ignore:\".gmt-control-dynamic-switcher\"},panelFooterSubMenus:{element:\".gmt-panel-footer-tool.gmt-toggle-state\",ignore:\".gmt-panel-footer-tool.gmt-toggle-state, #gmt-panel-saver-button-publish-label\",callback:function(e){e.removeClass(\"gmt-open\")}}},userCan:function(e){return!!(h.user.roles||[])[e]},_defaultDeviceMode:\"desktop\",addControlView:function(e,t){this.modules.controls[goomentoCommon.helpers.upperCaseWords(e)]=t},checkEnvCompatibility:function(){return l.default.firefox||l.default.webkit},checkBrowser:function(){function e(){window.screen.width<755&&t.show()}var t=goomentoCommon.dialogsManager.createWidget(\"alert\",{id:\"gmt-template-library-error-dialog\",message:\"Browser size too small for editing experiment. Please open this page on Desktop.\",headerMessage:\"Your browser isn't compatible\"});e(),window.addEventListener(\"resize\",e)},getElementData:function(e){var t,n=e.get(\"elType\");return\"widget\"===n?(t=e.get(\"widgetType\"),!!this.config.widgets[t]&&(this.config.widgets[t].commonMerged||(jQuery.extend(this.config.widgets[t].controls,this.config.widgets.common.controls),this.config.widgets[t].commonMerged=!0),this.config.widgets[t])):!!this.config.elements[n]&&(t=goomentoCommon.helpers.cloneObject(this.config.elements[n]),\"section\"===n&&e.get(\"isInner\")&&(t.title=\"Inner section\"),t)},getElementControls:function(e){var n,o,t=this.getElementData(e);return!!t&&(n=e.get(\"isInner\"),o={},_.each(t.controls,function(e,t){n&&e.hide_in_inner||!n&&e.hide_in_top||(o[t]=e)}),o)},mergeControlsSettings:function(n){var o=this;return _.each(n,function(e,t){n[t]=jQuery.extend(!0,{},o.config.controls[e.type],e)}),n},getControlView:function(e){var t=goomentoCommon.helpers.upperCaseWords(e),t=this.modules.controls[t];return t||(e=-1!==this.config.controls[e].features.indexOf(\"ui\"),t=this.modules.controls[e?\"Base\":\"BaseData\"]),t},getPanelView:function(){return this.panel.currentView},getControlPanelView:function(){return this.controlPanel.currentView},getPreviewView:function(){return this.sections.currentView},initComponents:function(){var e=r(233),t=r(431),n=r(433),o=r(439),i=r(440);r(441),this.hooks=new e,this.saver=new o,this.menu=new f.default,this.revisions=new g.default,this.history=new p.default,this.settings=new n,this.dynamicTags=new t,this.templates.init(),this.initDialogsManager(),this.notifications=new i,$e.components.register(new c.default({manager:this})),this.hotkeysScreen=new a.default,this.iconManager=new u.default,this.noticeBar=new s.default,this.env=l.default,new d.default},initDialogsManager:function(){this.dialogsManager=goomentoCommon.dialogsManager},initElements:function(){var e=r(268),t=this.config.data;this.elements&&(t=this.elements.toJSON()),this.elements=new e(t),this.elementsModel=new Backbone.Model({elements:this.elements})},initPreview:function(){var e=jQuery;this.$previewWrapper=e(\"#gmt-preview\"),this.$previewResponsiveWrapper=e(\"#gmt-preview-responsive-wrapper\"),this.$preview||(this.$preview=e(\"<iframe>\",{id:\"gmt-preview-iframe\",src:this.config.document.urls.preview,allowfullscreen:1}),this.$previewResponsiveWrapper.append(this.$preview)),this.$preview.on(\"load\",this.onPreviewLoaded.bind(this))},initFrontend:function(){var e=this.$preview[0].contentWindow;window.goomentoFrontend=e.goomentoFrontend,e.goomento=this,goomentoFrontend.init(),this.trigger(\"frontend:init\")},initClearPageDialog:function(){var e,t=this;t.getClearPageDialog=function(){return e=e||goomentoCommon.dialogsManager.createWidget(\"confirm\",{id:\"gmt-clear-page-dialog\",headerMessage:\"Delete all content\",message:\"Attention: We are going to DELETE ALL CONTENT from this page. Are you sure you want to do that?\",position:{my:\"center center\",at:\"center center\"},strings:{confirm:\"Delete\",cancel:\"Cancel\"},onConfirm:function(){t.elements.reset()}})}},getCurrentElement:function(){var e,t;return-1!==[\"BODY\",\"IFRAME\"].indexOf(document.activeElement.tagName)&&\"BODY\"===goomentoFrontend.elements.window.document.activeElement.tagName&&((e=goomento.channels.editor.request(\"contextMenu:targetView\"))||(t=goomento.getPanelView(),$e.routes.isPartOf(\"panel/editor\")&&(e=t.getCurrentPageView().getOption(\"editedElementView\"))),e||goomento.getPreviewView())},initPanel:function(){this.addRegions({panel:r(442)}),$e.route(\"panel/elements/categories\"),this.trigger(\"panel:init\")},initControls:function(){this.addRegions({controllerPanel:r(455)}),this.trigger(\"controls:init\")},initNavigator:function(){this.addRegions({navigator:{el:\"#gmt-navigator\",regionClass:o.default}}),this.trigger(\"navigator:init\")},setAjax:function(){goomentoCommon.ajax.addRequestConstant(\"content_id\",this.config.document.id),goomentoCommon.ajax.on(\"request:unhandledError\",function(e){goomento.notifications.showToast({message:goomento.createAjaxErrorMessage(e)})})},createAjaxErrorMessage:function(e){var t;return 4===e.readyState?(t=\"Server Error\",200!==e.status&&(t+=\" (\"+e.status+\" \"+e.statusText+\")\")):t=0===e.readyState?\"Connection Lost\":\"Unknown Error\",t+\".\"},preventClicksInsideEditor:function(){this.$previewContents.on(\"submit\",function(e){e.preventDefault()}),this.$previewContents.on(\"click\",function(e){var t=jQuery(e.target),n=goomento.channels.dataEditMode.request(\"activeMode\"),o=!!t.closest(\"#gmt, .pen-menu\").length,i=this.contains(t[0]);o&&\"edit\"===n||!i||(t.closest(\"a:not(.gmt-clickable)\").length&&e.preventDefault(),o)||$e.route(\"panel/elements/categories\")})},addBackgroundClickArea:function(e){e.addEventListener(\"click\",this.onBackgroundClick.bind(this),!0)},addBackgroundClickListener:function(e,t){this.backgroundClickListeners[e]=t},removeBackgroundClickListener:function(e){delete this.backgroundClickListeners[e]},showFatalErrorDialog:function(e){e=jQuery.extend(!0,{id:\"gmt-fatal-error-dialog\",headerMessage:\"\",message:\"\",position:{my:\"center center\",at:\"center center\"},strings:{confirm:\"Refresh\",cancel:\"Go Back\"},onConfirm:null,onCancel:function(){parent.history.go(-1)},hide:{onBackgroundClick:!1,onButtonClick:!1}},e),goomentoCommon.dialogsManager.createWidget(\"confirm\",e).show()},openLibraryOnStart:function(){\"#library\"===location.hash&&($e.run(\"library/open\"),location.hash=\"\")},enterPreviewMode:function(e){var t=goomentoFrontend.elements.$body;(t=e?t.add(goomentoCommon.elements.$body):t).removeClass(\"gmt-editor-active\").addClass(\"gmt-editor-preview\"),this.$previewGoomentoEl.removeClass(\"gmt-edit-area-active\").addClass(\"gmt-edit-area-preview\")},exitPreviewMode:function(){goomentoFrontend.elements.$body.add(goomentoCommon.elements.$body).removeClass(\"gmt-editor-preview\").addClass(\"gmt-editor-active\"),this.$previewGoomentoEl.removeClass(\"gmt-edit-area-preview\").addClass(\"gmt-edit-area-active\")},changeEditMode:function(e){var t=goomento.channels.dataEditMode,n=t.request(\"activeMode\");t.reply(\"activeMode\",e),e!==n&&t.trigger(\"switch\",e)},reloadPreview:function(e){jQuery(\"#gmt-preview-loading\").show(),e=e||goomento.settings.page.model.get(\"layout\");var t=this.$preview[0],n=new URL(t.src);n.pathname=n.pathname.includes(\"layout\")?n.pathname.replace(/layout\\/[^\\/]+/,\"layout/\"+e):n.pathname+e,t.contentWindow.location.href=n.toString()},clearPage:function(){this.getClearPageDialog().show()},changeDeviceMode:function(e){var t=this.channels.deviceMode.request(\"currentMode\");t!==e&&(goomentoCommon.elements.$body.removeClass(\"gmt-device-\"+t).addClass(\"gmt-device-\"+e),this.channels.deviceMode.reply(\"previousMode\",t).reply(\"currentMode\",e).trigger(\"change\"))},enqueueTypographyFonts:function(){var t=this,e=this.schemes.getScheme(\"typography\");t.helpers.resetEnqueuedFontsCache(),_.each(e.items,function(e){t.helpers.enqueueFont(e.value.font_family)})},requestWidgetsConfig:function(){var n=this,o={};jQuery.each(this.config.widgets,function(e,t){t.controls&&(o[e]=!0)}),goomentoCommon.ajax.addRequest(\"get_widgets_config\",{data:{exclude:o},success:function(e){jQuery.each(e,function(e,t){e=n.config.widgets[e];e.controls=t.controls,e.tabs_controls=t.tabs_controls}),n.loaded&&n.schemes.printSchemesStyle(),goomentoCommon.elements.$body.addClass(\"gmt-controls-ready\")}})},onStart:function(){NProgress.start(),NProgress.inc(.2),this.config=window.goomentoConfig,Backbone.Radio.DEBUG=this.config.debug,Backbone.Radio.tuneIn(\"GOOMENTO\"),this.initComponents(),this.checkEnvCompatibility()||this.onEnvNotCompatible(),this.setAjax(),this.requestWidgetsConfig(),this.channels.dataEditMode.reply(\"activeMode\",\"edit\"),this.listenTo(this.channels.dataEditMode,\"switch\",this.onEditModeSwitched),this.initClearPageDialog(),this.addBackgroundClickArea(document),goomentoCommon.elements.$window.trigger(\"goomento:init\"),this.initPreview(),this.checkBrowser()},onPreviewLoaded:function(){NProgress.done();var e=this.$preview[0].contentWindow;(window.previewWindow=e).goomentoFrontend?(this.$previewContents=this.$preview.contents(),this.$previewGoomentoEl=this.$previewContents.find(\"#gmt\"),this.$previewGoomentoEl.length?(this.initFrontend(),this.initElements(),e=new Marionette.Region({el:this.$previewGoomentoEl[0]}),this.schemes.init(),this.schemes.printSchemesStyle(),this.preventClicksInsideEditor(),this.addBackgroundClickArea(goomentoFrontend.elements.window.document),this.previewLoadedOnce?$e.route(\"panel/elements/categories\"):this.onFirstPreviewLoaded(),this.addRegions({sections:e}),e=r(458),this.sections.show(new e({model:this.elementsModel})),this.$previewContents.children().addClass(\"gmt-html\"),(e=goomentoFrontend.elements.$body).addClass(\"gmt-editor-active\"),goomento.userCan(\"save\")||e.addClass(\"gmt-editor-content-only\"),this.changeDeviceMode(this._defaultDeviceMode),jQuery(\"#gmt-loading, #gmt-preview-loading\").fadeOut(600),_.defer(function(){goomentoFrontend.elements.window.jQuery.holdReady(!1)}),this.enqueueTypographyFonts(),this.onEditModeSwitched(),$e.shortcuts.bindListener(goomentoFrontend.elements.$window),this.trigger(\"preview:loaded\",!this.loaded),this.loaded=!0,goomento.navigator.refreshView()):this.onPreviewLoadingError()):this.onPreviewLoadingError(!0)},onFirstPreviewLoaded:function(){this.initControls(),this.initPanel(),this.openLibraryOnStart(),this.initNavigator(),this.previewLoadedOnce=!0},onEditModeSwitched:function(){var e=this.channels.dataEditMode.request(\"activeMode\");\"edit\"===e?this.exitPreviewMode():this.enterPreviewMode(\"preview\"===e)},onEnvNotCompatible:function(){this.showFatalErrorDialog({headerMessage:\"Your browser isn't compatible\",message:\"Your browser isn't compatible with all of Goomento's editing features. We recommend you switch to another browser like Chrome or Firefox.\",strings:{confirm:\"Proceed Anyway\"},hide:{onButtonClick:!0},onConfirm:function(){this.hide()}})},onPreviewLoadingError:function(){var e,t=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];3!==this.previewRetried?(this.previewRetried+=1,setTimeout(function(){t.onPreviewLoaded()},2e3)):(e={},e=n?{className:\"gmt-preview-loading-error\",headerMessage:\"\",message:'<div id=\"gmt-preview-debug-link-text\">Looks like there was some issue while displaying preview page.</a></div>',strings:{confirm:\"Preview Page\"},onConfirm:function(){window.open(this.config.document.urls.preview,\"_blank\").focus()}.bind(this)}:{className:\"gmt-preview-loading-error\",headerMessage:\"\",message:'<div id=\"gmt-preview-debug-link-text\">Go back or Refresh this page if issue is persistent</a></div>',onConfirm:function(){window.location.reload()}},this.showFatalErrorDialog(e))},onBackgroundClick:function(t){jQuery.each(this.backgroundClickListeners,function(){var e=jQuery(t.target);e[0].control&&(e=e.add(e[0].control)),this.ignore&&e.closest(this.ignore).length||(e=e.closest(this.element),e=jQuery(this.element).not(e),this.callback?this.callback(e):e.hide())})},compileTemplate:function(e,t){return Marionette.TemplateCache.prototype.compileTemplate(e)(t)}}));e.exports=n},function(e,t,n){var o=n(122),i=n(38);e.exports=function(e,t,n){if(o(t))throw TypeError(\"String#\"+n+\" doesn't accept regex!\");return String(i(e))}},function(e,t,n){var o=n(10)(\"match\");e.exports=function(t){var n=/./;try{\"/./\"[t](n)}catch(e){try{return n[o]=!1,!\"/./\"[t](n)}catch(t){}}return!0}},function(e,t,n){n(23)&&\"g\"!=/./g.flags&&n(39).f(RegExp.prototype,\"flags\",{configurable:!0,get:n(111)})},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(60)),s=r(n(5)),u=r(n(6)),c=r(n(284)),d=r(n(285)),n=(r=n(217),(0,s.default)(f,r),o=(0,u.default)(f),(0,i.default)(f,[{key:\"getStorageKey\",value:function(){return\"navigator\"}},{key:\"getDefaultStorage\",value:function(){return{visible:!1,docked:!0,size:{width:\"300px\",height:\"\",top:\"\",bottom:\"\",right:\"\",left:\"\"}}}},{key:\"getLayout\",value:function(){return this.currentView}},{key:\"getDraggableOptions\",value:function(){return{iframeFix:!0,handle:\"#gmt-navigator__header\",drag:this.onDrag.bind(this),stop:this.onDragStop.bind(this)}}},{key:\"getResizableOptions\",value:function(){var e=this;return{handles:\"all\",containment:\"document\",minWidth:150,maxWidth:500,minHeight:240,start:function(){goomento.$previewWrapper.addClass(\"ui-resizable-resizing\")},stop:function(){goomento.$previewWrapper.removeClass(\"ui-resizable-resizing\"),e.isDocked?(e.storage.size.width=goomento.helpers.getElementInlineStyle(e.$el,[\"width\"]).width,goomentoCommon.storage.set(\"navigator\",e.storage)):e.saveSize()}}}},{key:\"beforeFirstOpen\",value:function(){this.show(new d.default),this.$el.draggable(this.getDraggableOptions()),this.$el.resizable(this.getResizableOptions())}},{key:\"refreshView\",value:function(){this.currentView&&(this.currentView.elements.empty(),this.currentView.onShow())}},{key:\"open\",value:function(e){\"edit\"===goomento.channels.dataEditMode.request(\"activeMode\")&&(this.opened||(this.beforeFirstOpen(),this.opened=!0),this.$el.show(),this.storage.docked?(this.dock(),this.setDockedSize()):this.setSize(),e&&e.trigger(\"request:edit\"),this.saveStorage(\"visible\",!0),this.ensurePosition(),goomentoCommon.elements.$window.on(\"resize\",this.ensurePosition))}},{key:\"close\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.isLastShown=null,t&&this.isOpen()&&(this.isLastShown=!0),this.$el.hide(),this.isDocked&&this.undock(!0),e||this.saveStorage(\"visible\",!1),goomentoCommon.elements.$window.off(\"resize\",this.ensurePosition)}},{key:\"isOpen\",value:function(){return this.$el.is(\":visible\")}},{key:\"dock\",value:function(){goomentoCommon.elements.$body.addClass(\"gmt-navigator-docked\");var n=goomentoCommon.config.isRTL?\"left\":\"right\",e=this.getResizableOptions();this.$el.css({height:\"\",top:\"\",bottom:\"\",left:\"\",right:\"\"}),goomento.$previewWrapper.css(n,this.storage.size.width),this.$el.resizable(\"destroy\"),e.handles=goomentoCommon.config.isRTL?\"e\":\"w\",e.resize=function(e,t){goomento.$previewWrapper.css(n,t.size.width)},this.$el.resizable(e),this.isDocked=!0,this.saveStorage(\"docked\",!0)}},{key:\"undock\",value:function(e){goomentoCommon.elements.$body.removeClass(\"gmt-navigator-docked\"),goomento.$previewWrapper.css(goomentoCommon.config.isRTL?\"left\":\"right\",\"\"),this.setSize(),this.$el.resizable(\"destroy\"),this.$el.resizable(this.getResizableOptions()),this.isDocked=!1,e||this.saveStorage(\"docked\",!1)}},{key:\"setSize\",value:function(){this.storage.size&&this.$el.css(this.storage.size)}},{key:\"setDockedSize\",value:function(){this.$el.css(\"width\",this.storage.size.width)}},{key:\"ensurePosition\",value:function(){var e;this.isDocked||((e=this.$el.offset()).left>innerWidth&&this.$el.css({left:\"\",right:\"\"}),e.top>innerHeight&&this.$el.css({top:\"\",bottom:\"\"}))}},{key:\"onDrag\",value:function(e,t){if(this.isDocked)if(t.position.left===t.originalPosition.left){if(t.position.top!==t.originalPosition.top)return!1}else this.undock();else{t.position.top<0&&(t.position.top=0);var n=t.position.left<0,o=t.position.left+this.el.offsetWidth>innerWidth;goomentoCommon.config.isRTL?o&&(t.position.left=innerWidth-this.el.offsetWidth):n&&(t.position.left=0),goomentoCommon.elements.$body.toggleClass(\"gmt-navigator--dock-hint\",goomentoCommon.config.isRTL?n:o)}}},{key:\"onDragStop\",value:function(e,t){var n;this.isDocked||(this.saveSize(),n=t.position.left+this.el.offsetWidth,(t.position.left<0||n>innerWidth)&&this.dock(),goomentoCommon.elements.$body.removeClass(\"gmt-navigator--dock-hint\"))}},{key:\"onElementDragStart\",value:function(){this.isDocked||setTimeout(this.close.bind(this,null,!0),50)}},{key:\"onElementDragEnd\",value:function(){this.isDocked||this.restore()}},{key:\"restore\",value:function(){!0!==this.isLastShown||this.isOpen()||this.open()}},{key:\"onEditModeSwitched\",value:function(e){\"edit\"===e&&this.storage.visible?this.open():this.close(!0)}}]),f);function f(e){var t;return(0,a.default)(this,f),t=o.call(this,e),$e.components.register(new c.default({manager:(0,l.default)(t)})),t.isDocked=!1,t.opened=!1,t.isLastShown=null,t.ensurePosition=t.ensurePosition.bind((0,l.default)(t)),t.listenTo(goomento.channels.dataEditMode,\"switch\",t.onEditModeSwitched).listenTo(goomento.channels.panelElements,\"element:drag:start\",t.onElementDragStart).listenTo(goomento.channels.panelElements,\"element:drag:end\",t.onElementDragEnd),goomento.channels.data.on(\"element:after:add\",t.onElementDragEnd.bind((0,l.default)(t))).on(\"element:drag:end\",t.onElementDragEnd.bind((0,l.default)(t))).on(\"drag:after:update\",t.onElementDragEnd.bind((0,l.default)(t))).on(\"section:after:drop\",t.onElementDragEnd.bind((0,l.default)(t))),goomento.on(\"navigator:init\",function(){t.storage.visible&&$e.route(\"navigator\")}),t}t.default=n},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(50)),s=r(n(25)),u=r(n(5)),r=r(n(6)),u=(n=goomentoModules.common.Component,(0,u.default)(c,n),o=(0,r.default)(c),(0,i.default)(c,[{key:\"getNamespace\",value:function(){return\"navigator\"}},{key:\"defaultRoutes\",value:function(){return{\"\":function(){}}}},{key:\"defaultCommands\",value:function(){var e=this;return{open:function(){return $e.route(e.getNamespace())},close:function(){return e.close()},toggle:function(){e.isOpen?e.close():$e.route(e.getNamespace())}}}},{key:\"defaultShortcuts\",value:function(){return{toggle:{keys:\"ctrl+i\",dependency:function(){return\"edit\"===goomento.channels.dataEditMode.request(\"activeMode\")}}}}},{key:\"open\",value:function(e){e=e.model;return this.manager.open(void 0!==e&&e),jQuery(\"#gmt-panel-control-navigator\").addClass(\"active\"),!0}},{key:\"close\",value:function(){return!!(0,l.default)((0,s.default)(c.prototype),\"close\",this).call(this)&&(this.manager.close(),jQuery(\"#gmt-panel-control-navigator\").removeClass(\"active\"),!0)}}]),c);function c(){return(0,a.default)(this,c),o.apply(this,arguments)}t.default=u},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),s=r(n(6)),u=r(n(286)),n=(r=Marionette.LayoutView,(0,l.default)(c,r),o=(0,s.default)(c),(0,i.default)(c,[{key:\"getTemplate\",value:function(){return\"#tmpl-gmt-navigator\"}},{key:\"id\",value:function(){return\"gmt-navigator__inner\"}},{key:\"ui\",value:function(){return{toggleAll:\"#gmt-navigator__toggle-all\",close:\"#gmt-navigator__close\"}}},{key:\"events\",value:function(){return{\"click @ui.toggleAll\":\"toggleAll\",\"click @ui.close\":\"onCloseClick\"}}},{key:\"regions\",value:function(){return{elements:\"#gmt-navigator__elements\"}}},{key:\"toggleAll\",value:function(){var e=\"expand\"===this.ui.toggleAll.data(\"gmt-action\"),t=[\"far fa-minus-square\",\"far fa-plus-square\"];this.ui.toggleAll.data(\"gmt-action\",e?\"collapse\":\"expand\").removeClass(t[+e]).addClass(t[+!e]),this.elements.currentView.recursiveChildInvoke(\"toggleList\",e)}},{key:\"activateElementsMouseInteraction\",value:function(){this.elements.currentView.recursiveChildInvoke(\"activateMouseInteraction\")}},{key:\"deactivateElementsMouseInteraction\",value:function(){this.elements.currentView.recursiveChildInvoke(\"deactivateMouseInteraction\")}},{key:\"onShow\",value:function(){this.elements.show(new u.default({model:goomento.elementsModel}))}},{key:\"onCloseClick\",value:function(){$e.components.get(\"navigator\").close()}}]),c);function c(){return(0,a.default)(this,c),o.apply(this,arguments)}t.default=n},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(44))),s=(n(72),n(86),n(119),n(33),n(209),n(210),r(n(287))),l=r(n(3)),i=r(n(4)),u=r(n(5)),c=r(n(6)),d=r(n(288)),f=r(n(289)),n=(r=Marionette.CompositeView,(0,u.default)(g,r),o=(0,c.default)(g),(0,i.default)(g,[{key:\"getTemplate\",value:function(){return\"#tmpl-gmt-navigator__elements\"}},{key:\"ui\",value:function(){return{item:\"> .gmt-navigator__item\",title:\"> .gmt-navigator__item .gmt-navigator__element__title__text\",toggle:\"> .gmt-navigator__item > .gmt-navigator__element__toggle\",toggleList:\"> .gmt-navigator__item > .gmt-navigator__element__list-toggle\",indicator:\"> .gmt-navigator__item > .gmt-navigator__element__indicators > .gmt-navigator__element__indicator\",elements:\"> .gmt-navigator__elements\"}}},{key:\"events\",value:function(){return{contextmenu:\"onContextMenu\",\"click @ui.item\":\"onItemClick\",\"click @ui.toggle\":\"onToggleClick\",\"click @ui.toggleList\":\"onToggleListClick\",\"click @ui.indicator\":\"onIndicatorClick\",\"dblclick @ui.title\":\"onTitleDoubleClick\",\"keydown @ui.title\":\"onTitleKeyDown\",\"paste @ui.title\":\"onTitlePaste\",\"sortstart @ui.elements\":\"onSortStart\",\"sortover @ui.elements\":\"onSortOver\",\"sortout @ui.elements\":\"onSortOut\",\"sortstop @ui.elements\":\"onSortStop\",\"sortupdate @ui.elements\":\"onSortUpdate\",\"sortreceive @ui.elements\":\"onSortReceive\"}}},{key:\"getEmptyView\",value:function(){return this.isRoot()?f.default:this.hasChildren()?d.default:null}},{key:\"childViewOptions\",value:function(){return{indent:this.getIndent()+10}}},{key:\"className\",value:function(){var e=this.model.get(\"elType\"),t=\"gmt-navigator__element\";return e&&(t+=\" gmt-navigator__element-\"+e),this.hasChildren()&&(t+=\" gmt-navigator__element--has-children\"),t}},{key:\"attributes\",value:function(){return{\"data-model-cid\":this.model.cid}}},{key:\"templateHelpers\",value:function(){var e={};return this.isRoot()||(e.title=this.model.getTitle(),e.icon=\"section\"===this.model.get(\"elType\")?\"\":this.model.getIcon()),e}},{key:\"initialize\",value:function(){this.collection=this.model.get(\"elements\"),this.childViewContainer=\".gmt-navigator__elements\",this.listenTo(this.model,\"request:edit\",this.onEditRequest).listenTo(this.model,\"change\",this.onModelChange).listenTo(this.model.get(\"settings\"),\"change\",this.onModelSettingsChange)}},{key:\"getIndent\",value:function(){return this.getOption(\"indent\")||0}},{key:\"isRoot\",value:function(){return!this.model.get(\"elType\")}},{key:\"hasChildren\",value:function(){return\"widget\"!==this.model.get(\"elType\")}},{key:\"toggleList\",value:function(e,t){this.hasChildren()&&!this.isRoot()&&this.ui.item.hasClass(\"gmt-active\")!==e&&(this.ui.item.toggleClass(\"gmt-active\",e),this.ui.elements[void 0!==e?\"slide\"+(e?\"Down\":\"Up\"):\"slideToggle\"](300,t))}},{key:\"toggleHiddenClass\",value:function(){this.$el.toggleClass(\"gmt-navigator__element--hidden\",!!this.model.get(\"hidden\"))}},{key:\"recursiveChildInvoke\",value:function(e){for(var t=arguments,n=this,o=arguments.length,i=new Array(1<o?o-1:0),r=1;r<o;r++)i[r-1]=arguments[r];this[e].apply(this,i),this.children.each(function(e){e instanceof n.constructor&&e.recursiveChildInvoke.apply(e,t)})}},{key:\"recursiveParentInvoke\",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this._parent instanceof this.constructor&&(this._parent[e].apply(this._parent,n),this._parent.recursiveParentInvoke.apply(this._parent,arguments))}},{key:\"recursiveChildAgreement\",value:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(!this[e].apply(this,n))return!1;var i,r=!0,a=(0,s.default)(_.values(this.children._views));try{for(a.s();!(i=a.n()).done;){var l=i.value;if(l instanceof this.constructor&&!l.recursiveChildAgreement.apply(l,arguments)){r=!1;break}}}catch(e){a.e(e)}finally{a.f()}return r}},{key:\"activateMouseInteraction\",value:function(){this.$el.on({mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)})}},{key:\"deactivateMouseInteraction\",value:function(){this.$el.off(\"mouseenter mouseleave\")}},{key:\"dragShouldBeIgnored\",value:function(e){var t=goomento.helpers.getElementChildType(this.model.get(\"elType\"));return\"section\"===e.get(\"elType\")&&!e.get(\"isInner\")||!t||-1===t.indexOf(e.get(\"elType\"))}},{key:\"addEditingClass\",value:function(){this.ui.item.addClass(\"gmt-editing\")}},{key:\"removeEditingClass\",value:function(){this.ui.item.removeClass(\"gmt-editing\")}},{key:\"enterTitleEditing\",value:function(){this.ui.title.attr(\"contenteditable\",!0).focus(),document.execCommand(\"selectAll\"),goomento.addBackgroundClickListener(\"navigator\",{ignore:this.ui.title,callback:this.exitTitleEditing.bind(this)})}},{key:\"exitTitleEditing\",value:function(){this.ui.title.attr(\"contenteditable\",!1);var e=this.model.get(\"settings\"),t=e.get(\"_title\"),n=this.ui.title.text().trim();t||e.unset(\"_title\",{silent:!0}),e.set(\"_title\",n),goomento.removeBackgroundClickListener(\"navigator\")}},{key:\"activateSortable\",value:function(){goomento.userCan(\"save\")&&this.ui.elements.sortable({items:\"> .gmt-navigator__element\",placeholder:\"ui-sortable-placeholder\",axis:\"y\",forcePlaceholderSize:!0,connectWith:\".gmt-navigator__element-\"+this.model.get(\"elType\")+\" \"+this.ui.elements.selector,cancel:'[contenteditable=\"true\"]'})}},{key:\"onRender\",value:function(){this.activateSortable(),this.isRoot()||(this.ui.item.css(\"padding-\"+(goomentoCommon.config.isRTL?\"right\":\"left\"),this.getIndent()),this.toggleHiddenClass())}},{key:\"onModelChange\",value:function(){void 0!==this.model.changed.hidden&&this.toggleHiddenClass()}},{key:\"onModelSettingsChange\",value:function(n){var o=this;void 0!==n.changed._title&&this.ui.title.text(this.model.getTitle()),jQuery.each(goomento.navigator.indicators,function(e,t){if((0,a.default)(n.changed).filter(function(e){return t.settingKeys.includes(e)}).length)return o.renderIndicators(),!1})}},{key:\"onItemClick\",value:function(){this.model.trigger(\"request:edit\",{scrollIntoView:!0})}},{key:\"onToggleClick\",value:function(e){e.stopPropagation(),this.model.trigger(\"request:toggleVisibility\")}},{key:\"onTitleDoubleClick\",value:function(){this.enterTitleEditing()}},{key:\"onTitleKeyDown\",value:function(e){13===e.which&&(e.preventDefault(),this.exitTitleEditing())}},{key:\"onTitlePaste\",value:function(e){e.preventDefault(),document.execCommand(\"insertHTML\",!1,e.originalEvent.clipboardData.getData(\"text/plain\"))}},{key:\"onToggleListClick\",value:function(e){e.stopPropagation(),this.toggleList()}},{key:\"onSortStart\",value:function(e,t){this.model.trigger(\"request:sort:start\",e,t),jQuery(t.item).children(\".gmt-navigator__item\").trigger(\"click\"),goomento.navigator.getLayout().activateElementsMouseInteraction()}},{key:\"onSortStop\",value:function(){goomento.navigator.getLayout().deactivateElementsMouseInteraction()}},{key:\"onSortOver\",value:function(e){e.stopPropagation(),this.$el.addClass(\"gmt-dragging-on-child\")}},{key:\"onSortOut\",value:function(e){e.stopPropagation(),this.$el.removeClass(\"gmt-dragging-on-child\")}},{key:\"onSortUpdate\",value:function(e,t){e.stopPropagation(),this.ui.elements.is(t.item.parent())&&this.model.trigger(\"request:sort:update\",t)}},{key:\"onSortReceive\",value:function(e,t){this.model.trigger(\"request:sort:receive\",e,t)}},{key:\"onMouseEnter\",value:function(e){var t=this;e.stopPropagation(),this.recursiveChildAgreement(\"dragShouldBeIgnored\",goomento.channels.data.request(\"dragging:model\"))||(this.autoExpandTimeout=setTimeout(function(){t.toggleList(!0,function(){t.ui.elements.sortable(\"refreshPositions\")})},500))}},{key:\"onMouseLeave\",value:function(e){e.stopPropagation(),clearTimeout(this.autoExpandTimeout)}},{key:\"onContextMenu\",value:function(e){this.model.trigger(\"request:contextmenu\",e)}},{key:\"onEditRequest\",value:function(){this.recursiveParentInvoke(\"toggleList\",!0),goomento.navigator.getLayout().elements.currentView.recursiveChildInvoke(\"removeEditingClass\"),this.addEditingClass(),goomento.helpers.scrollToView(this.$el,400,goomento.navigator.getLayout().elements.$el)}},{key:\"onIndicatorClick\",value:function(e){var n=e.currentTarget.dataset.section;setTimeout(function(){var e=goomento.getPanelView().currentPageView,t=e.getControlModel(n).get(\"tab\");e.activateSection(n),e.activateTab(t),e.render()})}}]),g);function g(){return(0,l.default)(this,g),o.apply(this,arguments)}t.default=n},function(e,t,n){var l=n(100),s=n(103),u=n(192),c=n(197);e.exports=function(e,t){var n,o,i,r,a=void 0!==l&&e[s]||e[\"@@iterator\"];if(a)return i=!(o=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){i=!0,n=e},f:function(){try{o||null==a.return||a.return()}finally{if(i)throw n}}};if(u(e)||(a=c(e))||t&&e&&\"number\"==typeof e.length)return a&&(e=a),r=0,{s:t=function(){},n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:t};throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),r=r(n(6)),l=(n=Marionette.ItemView,(0,l.default)(s,n),o=(0,r.default)(s),(0,i.default)(s,[{key:\"getTemplate\",value:function(){return\"#tmpl-gmt-navigator__elements--empty\"}},{key:\"className\",value:function(){return\"gmt-empty-view\"}},{key:\"onRender\",value:function(){this.$el.css(\"padding-\"+(goomentoCommon.config.isRTL?\"right\":\"left\"),this.getOption(\"indent\"))}}]),s);function s(){return(0,a.default)(this,s),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),r=r(n(6)),l=(n=Marionette.ItemView,(0,l.default)(s,n),o=(0,r.default)(s),(0,i.default)(s,[{key:\"getTemplate\",value:function(){return\"#tmpl-gmt-navigator__root--empty\"}},{key:\"className\",value:function(){return\"gmt-nerd-box\"}}]),s);function s(){return(0,a.default)(this,s),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),s=r(n(6)),u=r(n(291)),n=(r=goomentoModules.Module,(0,l.default)(c,r),o=(0,s.default)(c),(0,i.default)(c,[{key:\"onInit\",value:function(){$e.components.register(new u.default({manager:this}))}}]),c);function c(){return(0,a.default)(this,c),o.apply(this,arguments)}t.default=n},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),s=r(n(6)),u=r(n(292)),n=(r=goomentoModules.common.ComponentModal,(0,l.default)(c,r),o=(0,s.default)(c),(0,i.default)(c,[{key:\"getNamespace\",value:function(){return\"shortcuts\"}},{key:\"getModalLayout\",value:function(){return u.default}},{key:\"defaultShortcuts\",value:function(){return{\"\":{keys:\"ctrl+?\"}}}}]),c);function c(){return(0,a.default)(this,c),o.apply(this,arguments)}t.default=n},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(50)),s=r(n(25)),u=r(n(5)),c=r(n(6)),d=r(n(293)),n=(r=goomentoModules.common.views.modal.Layout,(0,u.default)(f,r),o=(0,c.default)(f),(0,i.default)(f,[{key:\"getModalOptions\",value:function(){return{id:\"gmt-hotkeys__modal\"}}},{key:\"getLogoOptions\",value:function(){return{title:\"Keyboard Shortcuts\"}}},{key:\"initialize\",value:function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];(e=(0,l.default)((0,s.default)(f.prototype),\"initialize\",this)).call.apply(e,[this].concat(n)),this.showLogo(),this.showContentView()}},{key:\"showContentView\",value:function(){this.modalContent.show(new d.default)}}]),f);function f(){return(0,a.default)(this,f),o.apply(this,arguments)}t.default=n},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),s=r(n(6)),u=r(n(183)),n=(r=Marionette.LayoutView,(0,l.default)(c,r),o=(0,s.default)(c),(0,i.default)(c,[{key:\"id\",value:function(){return\"gmt-hotkeys\"}},{key:\"templateHelpers\",value:function(){return{environment:u.default}}},{key:\"getTemplate\",value:function(){return\"#tmpl-gmt-hotkeys\"}}]),c);function c(){return(0,a.default)(this,c),o.apply(this,arguments)}t.default=n},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),r=r(n(6)),l=(n=n(87),(0,l.default)(s,n),o=(0,r.default)(s),(0,i.default)(s,[{key:\"onReady\",value:function(){var e=_.extend({enableTime:!0,minuteIncrement:1},this.model.get(\"picker_options\"));this.ui.input.flatpickr(e)}},{key:\"onBeforeDestroy\",value:function(){this.ui.input.flatpickr().destroy()}}]),s);function s(){return(0,a.default)(this,s),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";var o=n(0)(n(44)),i=(n(28),n(41),n(296));e.exports=Marionette.Behavior.extend({tagView:null,listenerAttached:!1,ui:{tagArea:\".gmt-control-tag-area\",dynamicSwitcher:\".gmt-control-dynamic-switcher\"},events:{\"click @ui.dynamicSwitcher\":\"onDynamicSwitcherClick\"},initialize:function(){this.listenerAttached||(this.listenTo(this.view.options.elementSettingsModel,\"change:external:__dynamic__\",this.onAfterExternalChange),this.listenerAttached=!0)},renderTools:function(){var e,t;this.getOption(\"dynamicSettings\").default||(e=jQuery(Marionette.Renderer.render(\"#tmpl-gmt-control-dynamic-switcher\")),this.ui.controlInputWrapper.prepend(e),this.view.model.get(\"label_block\")&&(t=e.next(\".gmt-control-responsive-switchers\")).length&&t.after(e),this.ui.dynamicSwitcher=this.$el.find(\".gmt-control-dynamic-switcher\"))},toggleDynamicClass:function(){this.$el.toggleClass(\"gmt-control-dynamic-value\",this.isDynamicMode())},isDynamicMode:function(){var e=this.view.elementSettingsModel.get(\"__dynamic__\");return!(!e||!e[this.view.model.get(\"name\")])},createTagsList:function(){var n=_.groupBy(this.getOption(\"tags\"),\"group\"),e=goomento.dynamicTags.getConfig(\"groups\"),t=this.ui.tagsList=jQuery(\"<div>\",{class:\"gmt-tags-list\"}),o=jQuery(\"<div>\",{class:\"gmt-tags-list__inner\"});t.append(o),jQuery.each(e,function(e){var t,e=n[e];e&&(t=jQuery(\"<div>\",{class:\"gmt-tags-list__group-title\"}).text(this.title),o.append(t),e.forEach(function(e){var t=jQuery(\"<div>\",{class:\"gmt-tags-list__item\"});t.text(e.title).attr(\"data-tag-name\",e.name),o.append(t)}))}),o.on(\"click\",\".gmt-tags-list__item\",this.onTagsListItemClick.bind(this)),goomentoCommon.elements.$body.append(t)},getTagsList:function(){return this.ui.tagsList||this.createTagsList(),this.ui.tagsList},toggleTagsList:function(){var e,t=this.getTagsList();t.is(\":visible\")?t.hide():(e=goomentoCommon.config.isRTL?\"left\":\"right\",t.show().position({my:\"\".concat(e,\" top\"),at:\"\".concat(e,\" bottom+5\"),of:this.ui.dynamicSwitcher}))},setTagView:function(e,t,n){this.tagView&&this.tagView.destroy();e=this.tagView=new i({id:e,name:t,settings:n,controlName:this.view.model.get(\"name\"),dynamicSettings:this.getOption(\"dynamicSettings\")});e.render(),this.ui.tagArea.after(e.el),this.listenTo(e.model,\"change\",this.onTagViewModelChange.bind(this)).listenTo(e,\"remove\",this.onTagViewRemove.bind(this))},setDefaultTagView:function(){var e=goomento.dynamicTags.tagTextToTagData(this.getDynamicValue());this.setTagView(e.id,e.name,e.settings)},tagViewToTagText:function(){var e=this.tagView;return goomento.dynamicTags.tagDataToTagText(e.getOption(\"id\"),e.getOption(\"name\"),e.model)},getDynamicValue:function(){return this.view.elementSettingsModel.get(\"__dynamic__\")[this.view.model.get(\"name\")]},getDynamicControlSettings:function(){return{control:{name:\"__dynamic__\",label:this.view.model.get(\"label\")}}},setDynamicValue:function(e){var t=this.view.model.get(\"name\"),n=this.view.elementSettingsModel.get(\"__dynamic__\")||{};(n=goomentoCommon.helpers.cloneObject(n))[t]=e,this.view.elementSettingsModel.set(\"__dynamic__\",n,this.getDynamicControlSettings(t)),this.toggleDynamicClass()},destroyTagView:function(){this.tagView&&(this.tagView.destroy(),this.tagView=null)},onRender:function(){this.$el.addClass(\"gmt-control-dynamic\"),this.renderTools(),this.toggleDynamicClass(),this.isDynamicMode()&&this.setDefaultTagView()},onDynamicSwitcherClick:function(){this.toggleTagsList()},onTagsListItemClick:function(e){e=jQuery(e.currentTarget);this.setTagView(goomento.helpers.getUniqueID(),e.data(\"tagName\"),{}),this.setDynamicValue(this.tagViewToTagText()),this.toggleTagsList(),this.tagView.getTagConfig().settings_required&&this.tagView.showSettingsPopup()},onTagViewModelChange:function(){this.setDynamicValue(this.tagViewToTagText())},onTagViewRemove:function(){var e=this.view.model.get(\"name\"),t=this.view.elementSettingsModel.get(\"__dynamic__\");delete(t=goomentoCommon.helpers.cloneObject(t))[e],(0,o.default)(t).length?this.view.elementSettingsModel.set(\"__dynamic__\",t,this.getDynamicControlSettings(e)):this.view.elementSettingsModel.unset(\"__dynamic__\",this.getDynamicControlSettings(e)),this.toggleDynamicClass()},onAfterExternalChange:function(){this.destroyTagView(),this.isDynamicMode()&&this.setDefaultTagView(),this.toggleDynamicClass()},onDestroy:function(){this.destroyTagView()}})},function(e,t,n){\"use strict\";n(72),n(86),n(119),n(41);var o=n(297);e.exports=Marionette.ItemView.extend({className:\"gmt-dynamic-cover gmt-input-style\",tagControlsStack:null,templateHelpers:function(){var e={};return this.model&&(e.controls=this.model.options.controls),e},ui:{remove:\".gmt-dynamic-cover__remove\"},events:function(){var e={\"click @ui.remove\":\"onRemoveClick\"};return this.hasSettings()&&(e.click=\"onClick\"),e},getTemplate:function(){var e=this.getTagConfig(),t=Marionette.TemplateCache.get(\"#tmpl-gmt-control-dynamic-cover\"),t=Marionette.Renderer.render(t,{hasSettings:this.hasSettings(),isRemovable:!this.getOption(\"dynamicSettings\").default,title:e.title,content:e.panel_template});return Marionette.TemplateCache.prototype.compileTemplate(t.trim())},getTagConfig:function(){return goomento.dynamicTags.getConfig(\"tags.\"+this.getOption(\"name\"))},initSettingsPopup:function(){var e={className:\"gmt-tag-settings-popup\",position:{my:\"left top+5\",at:\"left bottom\",of:this.$el,autoRefresh:!0}},t=goomentoCommon.dialogsManager.createWidget(\"buttons\",e);this.getSettingsPopup=function(){return t}},hasSettings:function(){return!!_.values(this.getTagConfig().controls).length},showSettingsPopup:function(){this.tagControlsStack||this.initTagControlsStack();var e=this.getSettingsPopup();e.isVisible()||e.show()},initTagControlsStack:function(){this.tagControlsStack=new o({model:this.model,controls:this.model.controls,name:this.options.name,controlName:this.options.controlName,el:this.getSettingsPopup().getElements(\"message\")[0]}),this.tagControlsStack.render()},initModel:function(){this.model=new goomentoModules.editor.elements.models.BaseSettings(this.getOption(\"settings\"),{controls:this.getTagConfig().controls})},initialize:function(){this.hasSettings()&&(this.initModel(),this.initSettingsPopup(),this.listenTo(this.model,\"change\",this.render))},onClick:function(){this.showSettingsPopup()},onRemoveClick:function(e){e.stopPropagation(),this.destroy(),this.trigger(\"remove\")},onDestroy:function(){this.hasSettings()&&this.getSettingsPopup().destroy()}})},function(e,t,n){\"use strict\";n=n(298);e.exports=goomentoModules.editor.views.ControlsStack.extend({activeTab:\"content\",template:_.noop,emptyView:n,isEmpty:function(){return this.collection.length<2},getNamespaceArray:function(){var e=goomento.getPanelView().getCurrentPageView(),t=e.getNamespaceArray();return t.push(e.activeSection),t.push(this.getOption(\"controlName\")),t.push(this.getOption(\"name\")),t},onRenderTemplate:function(){this.activateFirstSection()}})},function(e,t,n){\"use strict\";e.exports=Marionette.ItemView.extend({className:\"gmt-tag-controls-stack-empty\",template:\"#tmpl-gmt-tag-controls-stack-empty\"})},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),r=r(n(6)),l=(n=goomentoModules.ViewModule,(0,l.default)(s,n),o=(0,r.default)(s),(0,i.default)(s,[{key:\"getDefaultSettings\",value:function(){return{selectors:{notice:\"#gmt-notice-bar\",close:\"#gmt-notice-bar__close\"}}}},{key:\"getDefaultElements\",value:function(){var e=this.getSettings();return{$notice:jQuery(e.selectors.notice),$close:jQuery(e.selectors.close)}}},{key:\"bindEvents\",value:function(){this.elements.$close.on(\"click\",this.onCloseClick.bind(this))}},{key:\"onCloseClick\",value:function(){this.elements.$notice.slideUp(),goomentoCommon.ajax.addRequest(\"notice_bar_dismiss\")}}]),s);function s(){return(0,a.default)(this,s),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),s=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(44))),a=(n(41),n(33),n(62),r(n(3))),i=r(n(4)),l=r(n(5)),u=r(n(6)),c=r(n(301)),d=n(302),f=r(n(339)),g=r(n(246)),p=n(244),n=(r=goomentoModules.Module,(0,l.default)(h,r),o=(0,u.default)(h),(0,i.default)(h,[{key:\"onInit\",value:function(){this.library=new f.default,this.store=new g.default,this.cache={}}},{key:\"getLayout\",value:function(){var e,t=this;return this.layout||(this.layout=new c.default,(e=this.layout.getModal()).addButton({name:\"insert_icon\",text:\"Insert\",classes:\"gmt-button gmt-button-success\",callback:function(){t.updateControlValue(),t.unMountIconManager()}}),e.on(\"show\",this.onPickerShow.bind(this)).on(\"hide\",this.unMountIconManager)),this.layout}},{key:\"getDefaultSettings\",value:function(){return{selectedIcon:{}}}},{key:\"unMountIconManager\",value:function(){var e=document.querySelector(\"#gmt-icons-manager-modal .dialog-content\");(0,p.unmountComponentAtNode)(e)}},{key:\"loadIconLibraries\",value:function(){this.cache.loaded||(goomento.config.icons.libraries.forEach(function(e){\"all\"!==e.name&&goomento.iconManager.library.initIconType(e)}),this.cache.loaded=!0)}},{key:\"onPickerShow\",value:function(){var t,n,e=this.getSettings(\"controlView\"),o={GoPro:!0},i={recommended:e.model.get(\"recommended\")||!1},r=e.getControlValue(),a=goomento.config.icons.libraries,l=(r.library&&r.value||(r={value:\"\",library:\"\"}),i.selected=r,this.setSettings(\"selectedIcon\",r),i.recommended?(t=!1,a.forEach(function(e){\"recommended\"===e.name&&(t=!0)}),t||a.unshift({name:\"recommended\",label:\"Recommended\",icons:i.recommended,labelIcon:\"far fa-star\",native:!0})):a=a.filter(function(e){return\"recommended\"!==e.name}),a.forEach(function(e,t){-1===[\"all\",\"recommended\"].indexOf(e.name)&&goomento.iconManager.library.initIconType(e,function(e){a[t]=e}),o[e.name]=!0}),i.loaded=o,i.icons=a,r.library||a[0].name);return\"svg\"===r.library&&(l=a[0].name),(0,s.default)(a).some(function(e){return e===l})||(l=a[0].name),i.recommended&&\"\"!==r.library&&\"\"!==r.value&&i.recommended.hasOwnProperty(r.library)&&(e=a.filter(function(e){return r.library===e.name}),n=r.value.replace(e[0].displayPrefix+\" \"+e[0].prefix,\"\"),i.recommended[r.library].some(function(e){return-1<e.indexOf(n)}))&&(l=a[0].name),i.customIconsURL=goomento.config.customIconsURL,i.activeTab=l,(0,d.renderIconManager)(i)}},{key:\"updateControlValue\",value:function(){var e=this.getSettings();e.controlView.setValue(e.selectedIcon),e.controlView.applySavedValue()}},{key:\"show\",value:function(e){this.setSettings(\"controlView\",e.view),this.getLayout().showModal(e)}}]),h);function h(){return(0,a.default)(this,h),o.apply(this,arguments)}t.default=n},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(50)),s=r(n(25)),u=r(n(5)),c=r(n(6)),n=(r=r(n(219)).default,(0,u.default)(d,r),o=(0,c.default)(d),(0,i.default)(d,[{key:\"getModalOptions\",value:function(){return{id:\"gmt-icons-manager-modal\"}}},{key:\"getLogoOptions\",value:function(){return{title:\"Icon Library\"}}},{key:\"initialize\",value:function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];(e=(0,l.default)((0,s.default)(d.prototype),\"initialize\",this)).call.apply(e,[this].concat(n)),this.showLogo()}}]),d);function d(){return(0,a.default)(this,d),o.apply(this,arguments)}t.default=n},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=n(204),l=(i(t,\"__esModule\",{value:!0}),t.renderIconManager=t.default=void 0,a(n(194))),s=(n(41),n(33),n(189),r(n(315))),u=r(n(318)),c=r(n(3)),i=r(n(4)),d=r(n(60)),a=r(n(5)),f=r(n(6)),g=r(n(120)),p=r(n(205)),h=n(244),m=r(n(333)),v=(r=l.Component,(0,a.default)(y,r),o=(0,f.default)(y),(0,i.default)(y,[{key:\"updateLoaded\",value:function(e){var t=this.state.loaded;t[e]=!0,this.setState({loaded:t})}},{key:\"isNativeTab\",value:function(e){return(\"all\"===e.name||\"recommended\"===e.name||\"fa-\"===e.name.substr(0,3))&&e.native}},{key:\"getUploadCustomButton\",value:function(){var e=this,t=function(){\"GoPro\"!==e.state.activeTab&&e.setState({activeTab:\"GoPro\"})};return this.props.customIconsURL&&(t=function(){window.open(e.props.customIconsURL,\"_blank\")}),l.default.createElement(\"div\",{id:\"gmt-icons-manager__upload\"},l.default.createElement(\"div\",{id:\"gmt-icons-manager__upload__title\"},\"My Libraries\"),l.default.createElement(\"button\",{id:\"gmt-icons-manager__upload__button\",className:\"gmt-button gmt-button-default\",onClick:t},\"Upload\"))}},{key:\"getSearchHTML\",value:function(){return l.default.createElement(\"div\",{id:\"gmt-icons-manager__search\"},l.default.createElement(\"input\",{placeholder:\"Filter by name...\",onInput:this.handleSearch}),l.default.createElement(\"i\",{className:\"fas fa-search\"}))}}]),y),n=v;function y(){var r;(0,c.default)(this,y);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=o.call.apply(o,[this].concat(t)),(0,g.default)((0,d.default)(r),\"scrollViewRef\",(0,l.createRef)()),(0,g.default)((0,d.default)(r),\"state\",{activeTab:r.props.activeTab,selected:{library:\"\",value:\"\"},iconTabs:goomento.config.icons.libraries,loaded:r.props.loaded,filter:\"\"}),(0,g.default)((0,d.default)(r),\"cache\",{}),(0,g.default)((0,d.default)(r),\"loadAllTabs\",function(){var n=r.state.loaded;r.props.icons.forEach(function(t){n[t.name]||-1<[\"all\",\"recommended\"].indexOf(t.name)||goomento.iconManager.library.initIconType((0,u.default)({},t),function(e){r.cache[e.name]=e,n[t.name]=!0})}),n.all=!0,n.recommended=!0,r.setState({loaded:n})}),(0,g.default)((0,d.default)(r),\"getActiveTab\",function(){var t=r.state.activeTab,e=r.state.loaded,n=r.props.icons;return t||r.props.activeTab&&(t=r.props.activeTab),!!e[t]&&(n=(0,u.default)({},n.filter(function(e){return e.name===t})[0]),e[t]?(0,u.default)({},n):\"all\"!==n.name||e.all?(goomento.iconManager.library.initIconType((0,u.default)({},n),function(e){r.cache[e.name]=e,r.updateLoaded(e.name)}),!1):r.loadAllTabs())}),(0,g.default)((0,d.default)(r),\"getIconTabsLinks\",function(){var o=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return r.props.icons.map(function(e){var t,n;return o^r.isNativeTab(e)?\"\":(n=\"gmt-icons-manager__tab-link\",(t=e.name===r.state.activeTab)&&(n+=\" gmt-active\"),l.default.createElement(\"div\",{className:n,key:e.name,onClick:function(){t||r.setState({activeTab:e.name})}},l.default.createElement(\"i\",{className:e.labelIcon}),e.label))})}),(0,g.default)((0,d.default)(r),\"getActiveTabIcons\",function(t){var e;return t.name?r.getActiveTabIcons(t.name):r.cache[t]?r.cache[t].icons:\"recommended\"===t?r.state.iconTabs[0].icons:\"all\"===t?r.getAllIcons():r.state.loaded[t]?goomento.iconManager.store.getIcons(t):(e=r.props.icons.filter(function(e){return t===e.name}),goomento.iconManager.library.initIconType((0,u.default)({},e[0]),function(e){r.cache[e.name]=e,r.updateLoaded(e.name)}))}),(0,g.default)((0,d.default)(r),\"getAllIcons\",function(){var t;return r.cache.all?r.cache.all.icons:(t={},r.props.icons.forEach(function(e){\"all\"!==e.name&&\"recommended\"!==e.name&&(t[e.name]=r.getActiveTabIcons(e.name))}),r.cache.all={icons:t},t)}),(0,g.default)((0,d.default)(r),\"handleSearch\",function(e){e=e.target.value;if(e&&\"\"!==e){if(e=e.toLocaleLowerCase(),r.state.filter===e)return}else e=\"\";r.setState({filter:e})}),(0,g.default)((0,d.default)(r),\"setSelected\",function(e){goomento.iconManager.setSettings(\"selectedIcon\",e),r.setState({selected:e})}),(0,g.default)((0,d.default)(r),\"getSelected\",function(){var e=r.state.selected;return e=\"\"===e.value&&r.props.selected&&r.props.selected.value?{value:r.props.selected.value,library:r.props.selected.library}:e}),(0,g.default)((0,d.default)(r),\"render\",function(){var e=r.getActiveTab(),t=e.name||e,n=r.props.showSearch,n=void 0===n||n,o=r.state.filter,i=r.getSelected();if(\"GoPro\"!==e){if(!t||!r.state.loaded[t])return\"Loading\";e&&(e.icons=r.getActiveTabIcons(e))}return l.default.createElement(l.Fragment,null,l.default.createElement(\"div\",{id:\"gmt-icons-manager__sidebar\",className:\"gmt-templates-modal__sidebar\"},l.default.createElement(\"div\",{id:\"gmt-icons-manager__tab-links\"},r.getIconTabsLinks(),r.getIconTabsLinks(!1))),l.default.createElement(\"div\",{id:\"gmt-icons-manager__main\",className:\"gmt-templates-modal__content\"},l.default.createElement(l.Fragment,null,n?r.getSearchHTML():\"\",l.default.createElement(\"div\",{id:\"gmt-icons-manager__tab__wrapper\",ref:r.scrollViewRef},l.default.createElement(\"div\",{id:\"gmt-icons-manager__tab__title\"},e.label),l.default.createElement(\"div\",{id:\"gmt-icons-manager__tab__content_wrapper\"},l.default.createElement(\"input\",{type:\"hidden\",name:\"icon_value\",id:\"icon_value\",value:i.value}),l.default.createElement(\"input\",{type:\"hidden\",name:\"icon_type\",id:\"icon_type\",value:i.library}),r.state.loaded[e.name]?l.default.createElement(m.default,(0,s.default)({setSelected:r.setSelected,selected:i,filter:o,key:e.name,parentRef:r.scrollViewRef},e)):\"Loading\")))))}),r}t.default=n,t.renderIconManager=function(e){var t=document.querySelector(\"#gmt-icons-manager-modal .dialog-content\");return(0,h.render)(l.default.createElement(v,(0,s.default)({},e,{containerElement:t})),t)},v.propTypes={activeTab:p.default.any,customIconsURL:p.default.string,icons:p.default.any,loaded:p.default.any,modalView:p.default.any,recommended:p.default.oneOfType([p.default.bool,p.default.object]),selected:p.default.any,showSearch:p.default.bool}},function(e,t,n){e.exports=n(304)},function(e,t,n){n(116),n(117),n(305),n(310),n(312),e.exports=n(1).WeakMap},function(e,t,n){\"use strict\";function o(e){return function(){return e(this,0<arguments.length?arguments[0]:void 0)}}var r,i=n(8),a=n(223)(0),l=n(74),s=n(101),u=n(239),c=n(308),d=n(9),f=n(225),g=n(225),i=!i.ActiveXObject&&\"ActiveXObject\"in i,p=s.getWeak,h=Object.isExtensible,m=c.ufstore,v={get:function(e){var t;if(d(e))return!0===(t=p(e))?m(f(this,\"WeakMap\")).get(e):t?t[this._i]:void 0},set:function(e,t){return c.def(f(this,\"WeakMap\"),e,t)}},y=e.exports=n(309)(\"WeakMap\",o,v,c,!0,!0);g&&i&&(u((r=c.getConstructor(o,\"WeakMap\")).prototype,v),s.NEED=!0,a([\"delete\",\"has\",\"get\",\"set\"],function(o){var e=y.prototype,i=e[o];l(e,o,function(e,t){var n;return d(e)&&!h(e)?(this._f||(this._f=new r),n=this._f[o](e,t),\"set\"==o?this:n):i.call(this,e,t)})}))},function(e,t,n){var o=n(307);e.exports=function(e,t){return new(o(e))(t)}},function(e,t,n){var o=n(9),i=n(102),r=n(15)(\"species\");e.exports=function(e){var t;return void 0===(t=i(e)&&(\"function\"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),o(t))&&null===(t=t[r])?void 0:t)?Array:t}},function(e,t,n){\"use strict\";function a(e){return e._l||(e._l=new o)}function o(){this.a=[]}function i(e,t){return h(e.a,function(e){return e[0]===t})}var l=n(240),s=n(101).getWeak,r=n(13),u=n(9),c=n(241),d=n(224),f=n(223),g=n(11),p=n(225),h=f(5),m=f(6),v=0;o.prototype={get:function(e){e=i(this,e);if(e)return e[1]},has:function(e){return!!i(this,e)},set:function(e,t){var n=i(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(t){var e=m(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(e,n,o,i){var r=e(function(e,t){c(e,r,n,\"_i\"),e._t=n,e._i=v++,e._l=void 0,null!=t&&d(t,o,e[i],e)});return l(r.prototype,{delete:function(e){var t;return!!u(e)&&(!0===(t=s(e))?a(p(this,n)).delete(e):t&&g(t,this._i)&&delete t[this._i])},has:function(e){var t;return!!u(e)&&(!0===(t=s(e))?a(p(this,n)).has(e):t&&g(t,this._i))}}),r},def:function(e,t,n){var o=s(r(t),!0);return!0===o?a(e).set(t,n):o[e._i]=n,e},ufstore:a}},function(e,t,n){\"use strict\";var d=n(8),f=n(7),g=n(101),p=n(18),h=n(19),m=n(240),v=n(224),y=n(241),b=n(9),w=n(49),C=n(14).f,k=n(223)(0),S=n(12);e.exports=function(n,e,t,o,i,r){var a=d[n],l=a,s=i?\"set\":\"add\",u=l&&l.prototype,c={};return S&&\"function\"==typeof l&&(r||u.forEach&&!p(function(){(new l).entries().next()}))?(l=e(function(e,t){y(e,l,n,\"_c\"),e._c=new a,null!=t&&v(t,i,e[s],e)}),k(\"add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON\".split(\",\"),function(n){var o=\"add\"==n||\"set\"==n;n in u&&(!r||\"clear\"!=n)&&h(l.prototype,n,function(e,t){return y(this,l,n),o||!r||b(e)?(e=this._c[n](0===e?0:e,t),o?this:e):\"get\"==n&&void 0})}),r||C(l.prototype,\"size\",{get:function(){return this._c.size}})):(l=o.getConstructor(e,n,i,s),m(l.prototype,t),g.NEED=!0),w(l,n),c[n]=l,f(f.G+f.W+f.F,c),r||o.setStrong(l,n,i),l}},function(e,t,n){n(311)(\"WeakMap\")},function(e,t,n){\"use strict\";var o=n(7);e.exports=function(e){o(o.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(313)(\"WeakMap\")},function(e,t,n){\"use strict\";var o=n(7),a=n(48),l=n(59),s=n(224);e.exports=function(e){o(o.S,e,{from:function(e){var t,n,o,i,r=arguments[1];return a(this),(t=void 0!==r)&&a(r),null==e?new this:(n=[],t?(o=0,i=l(r,arguments[2],2),s(e,!1,function(e){n.push(i(e,o++))})):s(e,!1,n.push,n),new this(n))}})}},function(F,e,t){\"use strict\";var c=t(242),t=\"function\"==typeof Symbol&&Symbol.for,d=t?Symbol.for(\"react.element\"):60103,u=t?Symbol.for(\"react.portal\"):60106,n=t?Symbol.for(\"react.fragment\"):60107,o=t?Symbol.for(\"react.strict_mode\"):60108,i=t?Symbol.for(\"react.profiler\"):60114,r=t?Symbol.for(\"react.provider\"):60109,a=t?Symbol.for(\"react.context\"):60110,l=t?Symbol.for(\"react.forward_ref\"):60112,s=t?Symbol.for(\"react.suspense\"):60113,f=t?Symbol.for(\"react.memo\"):60115,g=t?Symbol.for(\"react.lazy\"):60116,p=\"function\"==typeof Symbol&&Symbol.iterator;function h(e){for(var t=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+e,n=1;n<arguments.length;n++)t+=\"&args[]=\"+encodeURIComponent(arguments[n]);return\"Minified React error #\"+e+\"; visit \"+t+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if(\"object\"!=typeof e&&\"function\"!=typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,\"setState\")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,\"forceUpdate\")},b.prototype=y.prototype;var t=w.prototype=new b,C=(t.constructor=w,c(t,y.prototype),t.isPureReactComponent=!0,{current:null}),k=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var o,i={},r=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(r=\"\"+t.key),t)k.call(t,o)&&!S.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];i.children=s}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:d,type:e,key:r,ref:a,props:i,_owner:C.current}}function _(e){return\"object\"==typeof e&&null!==e&&e.$$typeof===d}var E=/\\/+/g,T=[];function M(e,t,n,o){var i;return T.length?((i=T.pop()).result=e,i.keyPrefix=t,i.func=n,i.context=o,i.count=0,i):{result:e,keyPrefix:t,func:n,context:o,count:0}}function P(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,T.length<10&&T.push(e)}function I(e,t,n){return null==e?0:function e(t,n,o,i){var r=typeof t,a=!1;if(null===(t=\"undefined\"!==r&&\"boolean\"!==r?t:null))a=!0;else switch(r){case\"string\":case\"number\":a=!0;break;case\"object\":switch(t.$$typeof){case d:case u:a=!0}}if(a)return o(i,t,\"\"===n?\".\"+R(t,0):n),1;if(a=0,n=\"\"===n?\".\":n+\":\",Array.isArray(t))for(var l=0;l<t.length;l++){var s=n+R(r=t[l],l);a+=e(r,s,o,i)}else if(\"function\"==typeof(s=null!==t&&\"object\"==typeof t&&\"function\"==typeof(s=p&&t[p]||t[\"@@iterator\"])?s:null))for(t=s.call(t),l=0;!(r=t.next()).done;)a+=e(r=r.value,s=n+R(r,l++),o,i);else if(\"object\"===r)throw o=\"\"+t,Error(h(31,\"[object Object]\"===o?\"object with keys {\"+Object.keys(t).join(\", \")+\"}\":o,\"\"));return a}(e,\"\",t,n)}function R(e,t){return\"object\"==typeof e&&null!==e&&null!=e.key?(e=e.key,n={\"=\":\"=0\",\":\":\"=2\"},\"$\"+(\"\"+e).replace(/[=:]/g,function(e){return n[e]})):t.toString(36);var n}function D(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var o=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?O(e,o,n,function(e){return e}):null!=e&&(_(e)&&(t=i+(!(i=e).key||t&&t.key===e.key?\"\":(\"\"+e.key).replace(E,\"$&/\")+\"/\")+n,e={$$typeof:d,type:i.type,key:t,ref:i.ref,props:i.props,_owner:i._owner}),o.push(e))}function O(e,t,n,o,i){var r=\"\";I(e,L,t=M(t,r=null!=n?(\"\"+n).replace(E,\"$&/\")+\"/\":r,o,i)),P(t)}var V={current:null};function A(){var e=V.current;if(null===e)throw Error(h(321));return e}t={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:C,IsSomeRendererActing:{current:!1},assign:c};e.Children={map:function(e,t,n){return null==e||O(e,e=[],null,t,n),e},forEach:function(e,t,n){if(null==e)return e;I(e,D,t=M(null,null,t,n)),P(t)},count:function(e){return I(e,function(){return null},null)},toArray:function(e){var t=[];return O(e,t,null,function(e){return e}),t},only:function(e){if(_(e))return e;throw Error(h(143))}},e.Component=y,e.Fragment=n,e.Profiler=i,e.PureComponent=w,e.StrictMode=o,e.Suspense=s,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t,e.cloneElement=function(e,t,n){if(null==e)throw Error(h(267,e));var o=c({},e.props),i=e.key,r=e.ref,a=e._owner;if(null!=t)for(l in void 0!==t.ref&&(r=t.ref,a=C.current),void 0!==t.key&&(i=\"\"+t.key),e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)k.call(t,l)&&!S.hasOwnProperty(l)&&(o[l]=(void 0===t[l]&&void 0!==s?s:t)[l]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var s=Array(l),u=0;u<l;u++)s[u]=arguments[u+2];o.children=s}return{$$typeof:d,type:e.type,key:i,ref:r,props:o,_owner:a}},e.createContext=function(e,t){return(e={$$typeof:a,_calculateChangedBits:t=void 0===t?null:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:r,_context:e},e.Consumer=e},e.createElement=x,e.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:l,render:e}},e.isValidElement=_,e.lazy=function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},e.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},e.useCallback=function(e,t){return A().useCallback(e,t)},e.useContext=function(e,t){return A().useContext(e,t)},e.useDebugValue=function(){},e.useEffect=function(e,t){return A().useEffect(e,t)},e.useImperativeHandle=function(e,t,n){return A().useImperativeHandle(e,t,n)},e.useLayoutEffect=function(e,t){return A().useLayoutEffect(e,t)},e.useMemo=function(e,t){return A().useMemo(e,t)},e.useReducer=function(e,t,n){return A().useReducer(e,t,n)},e.useRef=function(e){return A().useRef(e)},e.useState=function(e){return A().useState(e)},e.version=\"16.14.0\"},function(e,t,n){var o=n(243);function i(){return e.exports=i=o||function(e){for(var t=1;t<arguments.length;t++){var n,o=arguments[t];for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,i.apply(this,arguments)}e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){n(317),e.exports=n(1).Object.assign},function(e,t,n){var o=n(7);o(o.S+o.F,\"Object\",{assign:n(239)})},function(e,t,n){var i=n(44),r=n(319),a=n(157),o=n(321),l=n(325),s=n(2),u=n(120);function c(t,e){var n,o=i(t);return r&&(n=r(t),e&&(n=n.filter(function(e){return a(t,e).enumerable})),o.push.apply(o,n)),o}e.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach(function(e){u(t,e,n[e])}):o?l(t,o(n)):c(Object(n)).forEach(function(e){s(t,e,a(n,e))})}return t},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){e.exports=n(320)},function(e,t,n){n(115),e.exports=n(1).Object.getOwnPropertySymbols},function(e,t,n){e.exports=n(322)},function(e,t,n){n(323),e.exports=n(1).Object.getOwnPropertyDescriptors},function(e,t,n){var o=n(7),s=n(324),u=n(16),c=n(40),d=n(201);o(o.S,\"Object\",{getOwnPropertyDescriptors:function(e){for(var t,n,o=u(e),i=c.f,r=s(o),a={},l=0;r.length>l;)void 0!==(n=i(o,t=r[l++]))&&d(a,t,n);return a}})},function(e,t,n){var o=n(75),i=n(69),r=n(13),n=n(8).Reflect;e.exports=n&&n.ownKeys||function(e){var t=o.f(r(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){e.exports=n(326)},function(e,t,n){n(327);var o=n(1).Object;e.exports=function(e,t){return o.defineProperties(e,t)}},function(e,t,n){var o=n(7);o(o.S+o.F*!n(12),\"Object\",{defineProperties:n(114)})},function(e,t,n){\"use strict\";var a=n(329);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,r){if(r!==a)throw(r=new Error(\"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types\")).name=\"Invariant Violation\",r}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n}},function(e,t,n){\"use strict\";e.exports=\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\"},function(A,e,t){\"use strict\";var F=t(194),v=t(242),i=t(331);function L(e){for(var t=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+e,n=1;n<arguments.length;n++)t+=\"&args[]=\"+encodeURIComponent(arguments[n]);return\"Minified React error #\"+e+\"; visit \"+t+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}if(!F)throw Error(L(227));var $=!1,N=null,j=!1,z=null,B={onError:function(e){$=!0,N=e}};function q(e,t,n,o,i,r,a,l,s){$=!1,N=null,function(e,t,n,o,i,r,a,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}.apply(B,arguments)}var W=null,U=null,H=null;function Q(e,t,n){var o=e.type||\"unknown-event\";e.currentTarget=H(n),function(){if(q.apply(this,arguments),$){if(!$)throw Error(L(198));var e=N;$=!1,N=null,j||(j=!0,z=e)}}(o,t,void 0,e),e.currentTarget=null}var G=null,K={};function J(){if(G)for(var e in K){var t=K[e],n=G.indexOf(e);if(!(-1<n))throw Error(L(96,e));if(!X[n]){if(!t.extractEvents)throw Error(L(97,e));for(var o in n=(X[n]=t).eventTypes){var i=void 0,r=n[o],a=t,l=o;if(Z.hasOwnProperty(l))throw Error(L(99,l));var s=(Z[l]=r).phasedRegistrationNames;if(s){for(i in s)s.hasOwnProperty(i)&&Y(s[i],a,l);i=!0}else i=!!r.registrationName&&(Y(r.registrationName,a,l),!0);if(!i)throw Error(L(98,o,e))}}}}function Y(e,t,n){if(ee[e])throw Error(L(100,e));ee[e]=t,te[e]=t.eventTypes[n].dependencies}var X=[],Z={},ee={},te={};function ne(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var o=e[t];if(!K.hasOwnProperty(t)||K[t]!==o){if(K[t])throw Error(L(102,t));K[t]=o,n=!0}}n&&J()}var oe=!(\"undefined\"==typeof window||void 0===window.document||void 0===window.document.createElement),ie=null,re=null,ae=null;function le(e){if(e=U(e)){if(\"function\"!=typeof ie)throw Error(L(280));var t=e.stateNode;t&&(t=W(t),ie(e.stateNode,e.type,t))}}function se(e){re?ae?ae.push(e):ae=[e]:re=e}function ue(){if(re){var e=re,t=ae;if(ae=re=null,le(e),t)for(e=0;e<t.length;e++)le(t[e])}}function ce(e,t){return e(t)}function de(e,t,n,o,i){return e(t,n,o,i)}function fe(){}var ge=ce,pe=!1,he=!1;function me(){null===re&&null===ae||(fe(),ue())}function ve(e,t,n){if(he)return e(t,n);he=!0;try{ge(e,t,n)}finally{he=!1,me()}}var ye=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,be=Object.prototype.hasOwnProperty,we={},Ce={};function n(e,t,n,o,i,r){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r}var a={},ke=(\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(e){a[e]=new n(e,0,!1,e,null,!1)}),[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(e){var t=e[0];a[t]=new n(t,1,!1,e[1],null,!1)}),[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(e){a[e]=new n(e,2,!1,e.toLowerCase(),null,!1)}),[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(e){a[e]=new n(e,2,!1,e,null,!1)}),\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(e){a[e]=new n(e,3,!1,e.toLowerCase(),null,!1)}),[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(e){a[e]=new n(e,3,!0,e,null,!1)}),[\"capture\",\"download\"].forEach(function(e){a[e]=new n(e,4,!1,e,null,!1)}),[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(e){a[e]=new n(e,6,!1,e,null,!1)}),[\"rowSpan\",\"start\"].forEach(function(e){a[e]=new n(e,5,!1,e.toLowerCase(),null,!1)}),/[\\-:]([a-z])/g);function Se(e){return e[1].toUpperCase()}\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(e){var t=e.replace(ke,Se);a[t]=new n(t,1,!1,e,null,!1)}),\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(e){var t=e.replace(ke,Se);a[t]=new n(t,1,!1,e,\"http://www.w3.org/1999/xlink\",!1)}),[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(e){var t=e.replace(ke,Se);a[t]=new n(t,1,!1,e,\"http://www.w3.org/XML/1998/namespace\",!1)}),[\"tabIndex\",\"crossOrigin\"].forEach(function(e){a[e]=new n(e,1,!1,e.toLowerCase(),null,!1)}),a.xlinkHref=new n(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0),[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(e){a[e]=new n(e,1,!1,e.toLowerCase(),null,!0)});t=F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function xe(e,o,t,n){var i,r=a.hasOwnProperty(o)?a[o]:null;(null!==r?0!==r.type:n||!(2<o.length)||\"o\"!==o[0]&&\"O\"!==o[0]||\"n\"!==o[1]&&\"N\"!==o[1])&&(function(e,t,n){if(null==e||function(e,t,n,o){if(null===n||0!==n.type)switch(typeof t){case\"function\":case\"symbol\":return 1;case\"boolean\":return!o&&(null!==n?!n.acceptsBooleans:\"data-\"!==(e=e.toLowerCase().slice(0,5))&&\"aria-\"!==e);default:return}}(o,e,t,n))return 1;if(!n&&null!==t)switch(t.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||e<1}}(t,r,n)&&(t=null),n||null===r?(i=o,(be.call(Ce,i)||!be.call(we,i)&&(ye.test(i)?Ce[i]=!0:(we[i]=!0,0)))&&(null===t?e.removeAttribute(o):e.setAttribute(o,\"\"+t))):r.mustUseProperty?e[r.propertyName]=null===t?3!==r.type&&\"\":t:(o=r.attributeName,n=r.attributeNamespace,null===t?e.removeAttribute(o):(t=3===(r=r.type)||4===r&&!0===t?\"\":\"\"+t,n?e.setAttributeNS(n,o,t):e.setAttribute(o,t))))}t.hasOwnProperty(\"ReactCurrentDispatcher\")||(t.ReactCurrentDispatcher={current:null}),t.hasOwnProperty(\"ReactCurrentBatchConfig\")||(t.ReactCurrentBatchConfig={suspense:null});var _e=/^(.*)[\\\\\\/]/,o=\"function\"==typeof Symbol&&Symbol.for,Ee=o?Symbol.for(\"react.element\"):60103,Te=o?Symbol.for(\"react.portal\"):60106,Me=o?Symbol.for(\"react.fragment\"):60107,Pe=o?Symbol.for(\"react.strict_mode\"):60108,Ie=o?Symbol.for(\"react.profiler\"):60114,Re=o?Symbol.for(\"react.provider\"):60109,De=o?Symbol.for(\"react.context\"):60110,Oe=o?Symbol.for(\"react.concurrent_mode\"):60111,Ve=o?Symbol.for(\"react.forward_ref\"):60112,Ae=o?Symbol.for(\"react.suspense\"):60113,Fe=o?Symbol.for(\"react.suspense_list\"):60120,Le=o?Symbol.for(\"react.memo\"):60115,$e=o?Symbol.for(\"react.lazy\"):60116,Ne=o?Symbol.for(\"react.block\"):60121,je=\"function\"==typeof Symbol&&Symbol.iterator;function ze(e){return null!==e&&\"object\"==typeof e&&\"function\"==typeof(e=je&&e[je]||e[\"@@iterator\"])?e:null}function Be(e){if(null!=e){if(\"function\"==typeof e)return e.displayName||e.name||null;if(\"string\"==typeof e)return e;switch(e){case Me:return\"Fragment\";case Te:return\"Portal\";case Ie:return\"Profiler\";case Pe:return\"StrictMode\";case Ae:return\"Suspense\";case Fe:return\"SuspenseList\"}if(\"object\"==typeof e)switch(e.$$typeof){case De:return\"Context.Consumer\";case Re:return\"Context.Provider\";case Ve:var t=(t=e.render).displayName||t.name||\"\";return e.displayName||(\"\"!==t?\"ForwardRef(\"+t+\")\":\"ForwardRef\");case Le:return Be(e.type);case Ne:return Be(e.render);case $e:if(e=1===e._status?e._result:null)return Be(e)}}return null}function qe(e){var t=\"\";do{switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n=\"\";break;default:var o=e._debugOwner,i=e._debugSource,r=Be(e.type),n=null;o&&(n=Be(o.type)),o=r,r=\"\",i?r=\" (at \"+i.fileName.replace(_e,\"\")+\":\"+i.lineNumber+\")\":n&&(r=\" (created by \"+n+\")\"),n=\"\\n    in \"+(o||\"Unknown\")+r}}while(t+=n,e=e.return);return t}function We(e){switch(typeof e){case\"boolean\":case\"number\":case\"object\":case\"string\":case\"undefined\":return e;default:return\"\"}}function Ue(e){var t=e.type;return(e=e.nodeName)&&\"input\"===e.toLowerCase()&&(\"checkbox\"===t||\"radio\"===t)}function He(e){e._valueTracker||(e._valueTracker=function(e){var t,n,o=Ue(e)?\"checked\":\"value\",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,o),r=\"\"+e[o];if(!e.hasOwnProperty(o)&&void 0!==i&&\"function\"==typeof i.get&&\"function\"==typeof i.set)return t=i.get,n=i.set,Object.defineProperty(e,o,{configurable:!0,get:function(){return t.call(this)},set:function(e){r=\"\"+e,n.call(this,e)}}),Object.defineProperty(e,o,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(e){r=\"\"+e},stopTracking:function(){e._valueTracker=null,delete e[o]}}}(e))}function Qe(e){var t,n,o;if(e)return(t=e._valueTracker)?(n=t.getValue(),o=\"\",(e=o=e?Ue(e)?e.checked?\"true\":\"false\":e.value:o)!==n&&(t.setValue(e),1)):1}function Ge(e,t){var n=t.checked;return v({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Ke(e,t){var n=null==t.defaultValue?\"\":t.defaultValue,o=null!=t.checked?t.checked:t.defaultChecked,n=We(null!=t.value?t.value:n);e._wrapperState={initialChecked:o,initialValue:n,controlled:\"checkbox\"===t.type||\"radio\"===t.type?null!=t.checked:null!=t.value}}function Je(e,t){null!=(t=t.checked)&&xe(e,\"checked\",t,!1)}function Ye(e,t){Je(e,t);var n=We(t.value),o=t.type;if(null!=n)\"number\"===o?(0===n&&\"\"===e.value||e.value!=n)&&(e.value=\"\"+n):e.value!==\"\"+n&&(e.value=\"\"+n);else if(\"submit\"===o||\"reset\"===o)return e.removeAttribute(\"value\");t.hasOwnProperty(\"value\")?Ze(e,t.type,n):t.hasOwnProperty(\"defaultValue\")&&Ze(e,t.type,We(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Xe(e,t,n){if(t.hasOwnProperty(\"value\")||t.hasOwnProperty(\"defaultValue\")){var o=t.type;if(!(\"submit\"!==o&&\"reset\"!==o||void 0!==t.value&&null!==t.value))return;t=\"\"+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}\"\"!==(n=e.name)&&(e.name=\"\"),e.defaultChecked=!!e._wrapperState.initialChecked,\"\"!==n&&(e.name=n)}function Ze(e,t,n){\"number\"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=\"\"+e._wrapperState.initialValue:e.defaultValue!==\"\"+n&&(e.defaultValue=\"\"+n))}function et(e,t){return e=v({children:void 0},t),n=t.children,o=\"\",F.Children.forEach(n,function(e){null!=e&&(o+=e)}),(t=o)&&(e.children=t),e;var n,o}function tt(e,t,n,o){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[\"$\"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(\"$\"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&o&&(e[n].defaultSelected=!0)}else{for(n=\"\"+We(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,o&&(e[i].defaultSelected=!0);null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function nt(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(L(91));return v({},t,{value:void 0,defaultValue:void 0,children:\"\"+e._wrapperState.initialValue})}function ot(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(L(92));if(Array.isArray(n)){if(!(n.length<=1))throw Error(L(93));n=n[0]}t=n}n=t=null==t?\"\":t}e._wrapperState={initialValue:We(n)}}function it(e,t){var n=We(t.value),o=We(t.defaultValue);null!=n&&((n=\"\"+n)!==e.value&&(e.value=n),null==t.defaultValue)&&e.defaultValue!==n&&(e.defaultValue=n),null!=o&&(e.defaultValue=\"\"+o)}function rt(e){var t=e.textContent;t===e._wrapperState.initialValue&&\"\"!==t&&null!==t&&(e.value=t)}function at(e){switch(e){case\"svg\":return\"http://www.w3.org/2000/svg\";case\"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function lt(e,t){return null==e||\"http://www.w3.org/1999/xhtml\"===e?at(t):\"http://www.w3.org/2000/svg\"===e&&\"foreignObject\"===t?\"http://www.w3.org/1999/xhtml\":e}ut=function(e,t){if(\"http://www.w3.org/2000/svg\"!==e.namespaceURI||\"innerHTML\"in e)e.innerHTML=t;else{for((st=st||document.createElement(\"div\")).innerHTML=\"<svg>\"+t.valueOf().toString()+\"</svg>\",t=st.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}};var st,ut,ct=\"undefined\"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,o){MSApp.execUnsafeLocalFunction(function(){return ut(e,t)})}:ut;function dt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return n.nodeValue=t}e.textContent=t}function ft(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[\"Webkit\"+e]=\"webkit\"+t,n[\"Moz\"+e]=\"moz\"+t,n}var gt={animationend:ft(\"Animation\",\"AnimationEnd\"),animationiteration:ft(\"Animation\",\"AnimationIteration\"),animationstart:ft(\"Animation\",\"AnimationStart\"),transitionend:ft(\"Transition\",\"TransitionEnd\")},pt={},ht={};function mt(e){if(pt[e])return pt[e];if(gt[e]){var t,n=gt[e];for(t in n)if(n.hasOwnProperty(t)&&t in ht)return pt[e]=n[t]}return e}oe&&(ht=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete gt.animationend.animation,delete gt.animationiteration.animation,delete gt.animationstart.animation),\"TransitionEvent\"in window||delete gt.transitionend.transition);var vt=mt(\"animationend\"),yt=mt(\"animationiteration\"),bt=mt(\"animationstart\"),wt=mt(\"transitionend\"),Ct=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),kt=new(\"function\"==typeof WeakMap?WeakMap:Map);function St(e){var t=kt.get(e);return void 0===t&&(t=new Map,kt.set(e,t)),t}function xt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else for(e=t;0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return;);return 3===t.tag?n:null}function _t(e){if(13===e.tag){var t=e.memoizedState;if(null!==(t=null===t&&null!==(e=e.alternate)?e.memoizedState:t))return t.dehydrated}return null}function Et(e){if(xt(e)!==e)throw Error(L(188))}function Tt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=xt(e)))throw Error(L(188));return t!==e?null:e}for(var n=e,o=t;;){var i=n.return;if(null===i)break;var r=i.alternate;if(null===r){if(null===(o=i.return))break;n=o}else{if(i.child===r.child){for(r=i.child;r;){if(r===n)return Et(i),e;if(r===o)return Et(i),t;r=r.sibling}throw Error(L(188))}if(n.return!==o.return)n=i,o=r;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,o=r;break}if(l===o){a=!0,o=i,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,o=i;break}if(l===o){a=!0,o=r,n=i;break}l=l.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==o)throw Error(L(190))}}if(3!==n.tag)throw Error(L(188));return n.stateNode.current===n?e:t}(e))for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t=(t.child.return=t).child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Mt(e,t){if(null==t)throw Error(L(30));return null==e?t:Array.isArray(e)?(Array.isArray(t)?e.push.apply(e,t):e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function Pt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var It=null;function Rt(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var o=0;o<t.length&&!e.isPropagationStopped();o++)Q(e,t[o],n[o]);else t&&Q(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function Dt(e){if(e=It=null!==e?Mt(It,e):It,It=null,e){if(Pt(e,Rt),It)throw Error(L(95));if(j)throw e=z,j=!1,z=null,e}}function Ot(e){return 3===(e=(e=e.target||e.srcElement||window).correspondingUseElement?e.correspondingUseElement:e).nodeType?e.parentNode:e}function Vt(e){var t;return!!oe&&((t=(e=\"on\"+e)in document)||((t=document.createElement(\"div\")).setAttribute(e,\"return;\"),t=\"function\"==typeof t[e]),t)}var At=[];function Ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,At.length<10&&At.push(e)}function Lt(e,t,n,o){var i;return At.length?((i=At.pop()).topLevelType=e,i.eventSystemFlags=o,i.nativeEvent=t,i.targetInst=n,i):{topLevelType:e,eventSystemFlags:o,nativeEvent:t,targetInst:n,ancestors:[]}}function $t(e){var t=o=e.targetInst;do{if(!t){e.ancestors.push(t);break}var n=t;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}}while(n&&(5!==(o=t.tag)&&6!==o||e.ancestors.push(t),t=Un(n)));for(t=0;t<e.ancestors.length;t++){var o=e.ancestors[t],i=Ot(e.nativeEvent),n=e.topLevelType,r=e.nativeEvent,a=e.eventSystemFlags;0===t&&(a|=64);for(var l=null,s=0;s<X.length;s++){var u=X[s];(u=u&&u.extractEvents(n,o,r,i,a))&&(l=Mt(l,u))}Dt(l)}}function Nt(e,t,n){if(!n.has(e)){switch(e){case\"scroll\":mn(t,\"scroll\",!0);break;case\"focus\":case\"blur\":mn(t,\"focus\",!0),mn(t,\"blur\",!0),n.set(\"blur\",null),n.set(\"focus\",null);break;case\"cancel\":case\"close\":Vt(e)&&mn(t,e,!0);break;case\"invalid\":case\"submit\":case\"reset\":break;default:-1===Ct.indexOf(e)&&c(e,t)}n.set(e,null)}}var jt,zt,Bt,qt=!1,r=[],Wt=null,Ut=null,Ht=null,Qt=new Map,Gt=new Map,Kt=[],Jt=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit\".split(\" \"),Yt=\"focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture\".split(\" \");function Xt(e,t,n,o,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:o}}function Zt(e,t){switch(e){case\"focus\":case\"blur\":Wt=null;break;case\"dragenter\":case\"dragleave\":Ut=null;break;case\"mouseover\":case\"mouseout\":Ht=null;break;case\"pointerover\":case\"pointerout\":Qt.delete(t.pointerId);break;case\"gotpointercapture\":case\"lostpointercapture\":Gt.delete(t.pointerId)}}function en(e,t,n,o,i,r){return null===e||e.nativeEvent!==r?(e=Xt(t,n,o,i,r),null!==t&&null!==(t=Hn(t))&&zt(t)):e.eventSystemFlags|=o,e}function tn(e){var t,n;if(null===e.blockedOn)return null===(t=yn(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent))||(null!==(n=Hn(t))&&zt(n),e.blockedOn=t,0)}function nn(e,t,n){tn(e)&&n.delete(t)}function on(){for(qt=!1;0<r.length;){var e=r[0];if(null!==e.blockedOn){null!==(e=Hn(e.blockedOn))&&jt(e);break}var t=yn(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:r.shift()}null!==Wt&&tn(Wt)&&(Wt=null),null!==Ut&&tn(Ut)&&(Ut=null),null!==Ht&&tn(Ht)&&(Ht=null),Qt.forEach(nn),Gt.forEach(nn)}function rn(e,t){e.blockedOn===t&&(e.blockedOn=null,qt||(qt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,on)))}function an(t){function e(e){return rn(e,t)}if(0<r.length){rn(r[0],t);for(var n=1;n<r.length;n++){var o=r[n];o.blockedOn===t&&(o.blockedOn=null)}}for(null!==Wt&&rn(Wt,t),null!==Ut&&rn(Ut,t),null!==Ht&&rn(Ht,t),Qt.forEach(e),Gt.forEach(e),n=0;n<Kt.length;n++)(o=Kt[n]).blockedOn===t&&(o.blockedOn=null);for(;0<Kt.length&&null===(n=Kt[0]).blockedOn;)(function(e){var t=Un(e.target);if(null!==t){var n=xt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=_t(n)))return e.blockedOn=t,i.unstable_runWithPriority(e.priority,function(){Bt(n)})}else if(3===t&&n.stateNode.hydrate)return e.blockedOn=3===n.tag?n.stateNode.containerInfo:null}e.blockedOn=null})(n),null===n.blockedOn&&Kt.shift()}var ln={},sn=new Map,un=new Map,o=[\"abort\",\"abort\",vt,\"animationEnd\",yt,\"animationIteration\",bt,\"animationStart\",\"canplay\",\"canPlay\",\"canplaythrough\",\"canPlayThrough\",\"durationchange\",\"durationChange\",\"emptied\",\"emptied\",\"encrypted\",\"encrypted\",\"ended\",\"ended\",\"error\",\"error\",\"gotpointercapture\",\"gotPointerCapture\",\"load\",\"load\",\"loadeddata\",\"loadedData\",\"loadedmetadata\",\"loadedMetadata\",\"loadstart\",\"loadStart\",\"lostpointercapture\",\"lostPointerCapture\",\"playing\",\"playing\",\"progress\",\"progress\",\"seeking\",\"seeking\",\"stalled\",\"stalled\",\"suspend\",\"suspend\",\"timeupdate\",\"timeUpdate\",wt,\"transitionEnd\",\"waiting\",\"waiting\"];function cn(e,t){for(var n=0;n<e.length;n+=2){var o=e[n],i=e[n+1],r={phasedRegistrationNames:{bubbled:r=\"on\"+(i[0].toUpperCase()+i.slice(1)),captured:r+\"Capture\"},dependencies:[o],eventPriority:t};un.set(o,t),sn.set(o,r),ln[i]=r}}cn(\"blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange\".split(\" \"),0),cn(\"drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel\".split(\" \"),1),cn(o,2);for(var dn=\"change selectionchange textInput compositionstart compositionend compositionupdate\".split(\" \"),fn=0;fn<dn.length;fn++)un.set(dn[fn],0);var gn=i.unstable_UserBlockingPriority,pn=i.unstable_runWithPriority,hn=!0;function c(e,t){mn(t,e,!1)}function mn(e,t,n){var o=un.get(t);switch(void 0===o?2:o){case 0:o=function(e,t,n,o){pe||fe();var i=vn,r=pe;pe=!0;try{de(i,e,t,n,o)}finally{(pe=r)||me()}}.bind(null,t,1,e);break;case 1:o=function(e,t,n,o){pn(gn,vn.bind(null,e,t,n,o))}.bind(null,t,1,e);break;default:o=vn.bind(null,t,1,e)}n?e.addEventListener(t,o,!0):e.addEventListener(t,o,!1)}function vn(e,t,n,o){if(hn)if(0<r.length&&-1<Jt.indexOf(e))e=Xt(null,e,t,n,o),r.push(e);else{var i=yn(e,t,n,o);if(null===i)Zt(e,o);else if(-1<Jt.indexOf(e))e=Xt(i,e,t,n,o),r.push(e);else if(!function(e,t,n,o,i){switch(t){case\"focus\":return Wt=en(Wt,e,t,n,o,i),1;case\"dragenter\":return Ut=en(Ut,e,t,n,o,i),1;case\"mouseover\":return Ht=en(Ht,e,t,n,o,i),1;case\"pointerover\":var r=i.pointerId;return Qt.set(r,en(Qt.get(r)||null,e,t,n,o,i)),1;case\"gotpointercapture\":return r=i.pointerId,Gt.set(r,en(Gt.get(r)||null,e,t,n,o,i)),1}}(i,e,t,n,o)){Zt(e,o),e=Lt(e,o,null,t);try{ve($t,e)}finally{Ft(e)}}}}function yn(e,t,n,o){if(null!==(n=Un(n=Ot(o)))){var i=xt(n);if(null===i)n=null;else{var r=i.tag;if(13===r){if(null!==(n=_t(i)))return n;n=null}else if(3===r){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=Lt(e,o,n,t);try{ve($t,e)}finally{Ft(e)}return null}var bn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wn=[\"Webkit\",\"ms\",\"Moz\",\"O\"];function Cn(e,t,n){return null==t||\"boolean\"==typeof t||\"\"===t?\"\":n||\"number\"!=typeof t||0===t||bn.hasOwnProperty(e)&&bn[e]?(\"\"+t).trim():t+\"px\"}function kn(e,t){for(var n in e=e.style,t){var o,i;t.hasOwnProperty(n)&&(o=0===n.indexOf(\"--\"),i=Cn(n,t[n],o),\"float\"===n&&(n=\"cssFloat\"),o?e.setProperty(n,i):e[n]=i)}}Object.keys(bn).forEach(function(t){wn.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bn[e]=bn[t]})});var Sn=v({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xn(e,t){if(t){if(Sn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(L(137,e,\"\"));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(L(60));if(\"object\"!=typeof t.dangerouslySetInnerHTML||!(\"__html\"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(null!=t.style&&\"object\"!=typeof t.style)throw Error(L(62,\"\"))}}function _n(e,t){if(-1===e.indexOf(\"-\"))return\"string\"==typeof t.is;switch(e){case\"annotation-xml\":case\"color-profile\":case\"font-face\":case\"font-face-src\":case\"font-face-uri\":case\"font-face-format\":case\"font-face-name\":case\"missing-glyph\":return!1;default:return!0}}var En=\"http://www.w3.org/1999/xhtml\";function Tn(e,t){var n=St(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=te[t];for(var o=0;o<t.length;o++)Nt(t[o],e,n)}function Mn(){}function Pn(t){if(void 0===(t=t||(\"undefined\"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function In(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rn(e,t){var n,o=In(e);for(e=0;o;){if(3===o.nodeType){if(n=e+o.textContent.length,e<=t&&t<=n)return{node:o,offset:t-e};e=n}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=In(o)}}function Dn(){for(var e=window,t=Pn();t instanceof e.HTMLIFrameElement;){try{var n=\"string\"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Pn((e=t.contentWindow).document)}return t}function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(\"input\"===t&&(\"text\"===e.type||\"search\"===e.type||\"tel\"===e.type||\"url\"===e.type||\"password\"===e.type)||\"textarea\"===t||\"true\"===e.contentEditable)}var Vn=null,An=null;function Fn(e,t){switch(e){case\"button\":case\"input\":case\"select\":case\"textarea\":return!!t.autoFocus}return!1}function Ln(e,t){return\"textarea\"===e||\"option\"===e||\"noscript\"===e||\"string\"==typeof t.children||\"number\"==typeof t.children||\"object\"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $n=\"function\"==typeof setTimeout?setTimeout:void 0,Nn=\"function\"==typeof clearTimeout?clearTimeout:void 0;function jn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function zn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if(\"$\"===n||\"$!\"===n||\"$?\"===n){if(0===t)return e;t--}else\"/$\"===n&&t++}e=e.previousSibling}return null}var o=Math.random().toString(36).slice(2),Bn=\"__reactInternalInstance$\"+o,qn=\"__reactEventHandlers$\"+o,Wn=\"__reactContainere$\"+o;function Un(e){var t=e[Bn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Wn]||n[Bn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=zn(e);null!==e;){if(n=e[Bn])return n;e=zn(e)}return t}n=(e=n).parentNode}return null}function Hn(e){return!(e=e[Bn]||e[Wn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Qn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(L(33))}function Gn(e){return e[qn]||null}function Kn(e){for(;(e=e.return)&&5!==e.tag;);return e||null}function Jn(e,t){var n=e.stateNode;if(!n)return null;var o=W(n);if(!o)return null;switch(n=o[t],t){case\"onClick\":case\"onClickCapture\":case\"onDoubleClick\":case\"onDoubleClickCapture\":case\"onMouseDown\":case\"onMouseDownCapture\":case\"onMouseMove\":case\"onMouseMoveCapture\":case\"onMouseUp\":case\"onMouseUpCapture\":case\"onMouseEnter\":e=!(o=(o=!o.disabled)||!(\"button\"===(e=e.type)||\"input\"===e||\"select\"===e||\"textarea\"===e));break;default:e=!1}if(e)return null;if(n&&\"function\"!=typeof n)throw Error(L(231,t,typeof n));return n}function Yn(e,t,n){(t=Jn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=Mt(n._dispatchListeners,t),n._dispatchInstances=Mt(n._dispatchInstances,e))}function Xn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Kn(t);for(t=n.length;0<t--;)Yn(n[t],\"captured\",e);for(t=0;t<n.length;t++)Yn(n[t],\"bubbled\",e)}}function Zn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Jn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=Mt(n._dispatchListeners,t),n._dispatchInstances=Mt(n._dispatchInstances,e))}function eo(e){e&&e.dispatchConfig.registrationName&&Zn(e._targetInst,null,e)}function to(e){Pt(e,Xn)}var no=null,oo=null,io=null;function ro(){if(io)return io;for(var e=oo,t=e.length,n=(\"value\"in no?no.value:no.textContent),o=n.length,i=0;i<t&&e[i]===n[i];i++);for(var r=t-i,a=1;a<=r&&e[t-a]===n[o-a];a++);return io=n.slice(i,1<a?1-a:void 0)}function ao(){return!0}function lo(){return!1}function l(e,t,n,o){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):\"target\"===i?this.target=o:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ao:lo,this.isPropagationStopped=lo,this}function so(e,t,n,o){var i;return this.eventPool.length?(i=this.eventPool.pop(),this.call(i,e,t,n,o),i):new this(e,t,n,o)}function uo(e){if(!(e instanceof this))throw Error(L(279));e.destructor(),this.eventPool.length<10&&this.eventPool.push(e)}function co(e){e.eventPool=[],e.getPooled=so,e.release=uo}v(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():\"unknown\"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ao)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():\"unknown\"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ao)},persist:function(){this.isPersistent=ao},isPersistent:lo,destructor:function(){for(var e in this.constructor.Interface)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=lo,this._dispatchInstances=this._dispatchListeners=null}}),l.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},l.extend=function(e){function t(){}function n(){return o.apply(this,arguments)}var o=this,i=(t.prototype=o.prototype,new t);return v(i,n.prototype),((n.prototype=i).constructor=n).Interface=v({},o.Interface,e),n.extend=o.extend,co(n),n},co(l);var fo=l.extend({data:null}),go=l.extend({data:null}),po=[9,13,27,32],ho=oe&&\"CompositionEvent\"in window,o=null,mo=(oe&&\"documentMode\"in document&&(o=document.documentMode),oe&&\"TextEvent\"in window&&!o),vo=oe&&(!ho||o&&8<o&&o<=11),yo=String.fromCharCode(32),bo={beforeInput:{phasedRegistrationNames:{bubbled:\"onBeforeInput\",captured:\"onBeforeInputCapture\"},dependencies:[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]},compositionEnd:{phasedRegistrationNames:{bubbled:\"onCompositionEnd\",captured:\"onCompositionEndCapture\"},dependencies:\"blur compositionend keydown keypress keyup mousedown\".split(\" \")},compositionStart:{phasedRegistrationNames:{bubbled:\"onCompositionStart\",captured:\"onCompositionStartCapture\"},dependencies:\"blur compositionstart keydown keypress keyup mousedown\".split(\" \")},compositionUpdate:{phasedRegistrationNames:{bubbled:\"onCompositionUpdate\",captured:\"onCompositionUpdateCapture\"},dependencies:\"blur compositionupdate keydown keypress keyup mousedown\".split(\" \")}},wo=!1;function Co(e,t){switch(e){case\"keyup\":return-1!==po.indexOf(t.keyCode);case\"keydown\":return 229!==t.keyCode;case\"keypress\":case\"mousedown\":case\"blur\":return 1;default:return}}function ko(e){return\"object\"==typeof(e=e.detail)&&\"data\"in e?e.data:null}var So=!1,o={eventTypes:bo,extractEvents:function(n,e,t,o){var i;if(ho)e:{switch(n){case\"compositionstart\":var r=bo.compositionStart;break e;case\"compositionend\":r=bo.compositionEnd;break e;case\"compositionupdate\":r=bo.compositionUpdate;break e}r=void 0}else So?Co(n,t)&&(r=bo.compositionEnd):\"keydown\"===n&&229===t.keyCode&&(r=bo.compositionStart);return i=r?(vo&&\"ko\"!==t.locale&&(So||r!==bo.compositionStart?r===bo.compositionEnd&&So&&(i=ro()):(oo=\"value\"in(no=o)?no.value:no.textContent,So=!0)),r=fo.getPooled(r,e,t,o),!i&&null===(i=ko(t))||(r.data=i),to(r),r):null,(n=mo?function(e,t){switch(n){case\"compositionend\":return ko(t);case\"keypress\":return 32!==t.which?null:(wo=!0,yo);case\"textInput\":return(e=t.data)===yo&&wo?null:e;default:return null}}(0,t):function(e,t){if(So)return\"compositionend\"===e||!ho&&Co(e,t)?(e=ro(),io=oo=no=null,So=!1,e):null;switch(e){case\"paste\":return null;case\"keypress\":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case\"compositionend\":return vo&&\"ko\"!==t.locale?null:t.data;default:return null}}(n,t))?((e=go.getPooled(bo.beforeInput,e,t,o)).data=n,to(e)):e=null,null===i?e:null===e?i:[i,e]}},xo={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return\"input\"===t?xo[e.type]:\"textarea\"===t}var Eo={change:{phasedRegistrationNames:{bubbled:\"onChange\",captured:\"onChangeCapture\"},dependencies:\"blur change click focus input keydown keyup selectionchange\".split(\" \")}};function To(e,t,n){return(e=l.getPooled(Eo.change,e,t,n)).type=\"change\",se(n),to(e),e}var Mo=null,Po=null;function Io(e){Dt(e)}function Ro(e){if(Qe(Qn(e)))return e}function Do(e,t){if(\"change\"===e)return t}var Oo=!1;function Vo(){Mo&&(Mo.detachEvent(\"onpropertychange\",Ao),Po=Mo=null)}function Ao(e){if(\"value\"===e.propertyName&&Ro(Po))if(e=To(Po,e,Ot(e)),pe)Dt(e);else{pe=!0;try{ce(Io,e)}finally{pe=!1,me()}}}function Fo(e,t,n){\"focus\"===e?(Vo(),Po=n,(Mo=t).attachEvent(\"onpropertychange\",Ao)):\"blur\"===e&&Vo()}function Lo(e){if(\"selectionchange\"===e||\"keyup\"===e||\"keydown\"===e)return Ro(Po)}function $o(e,t){if(\"click\"===e)return Ro(t)}function No(e,t){if(\"input\"===e||\"change\"===e)return Ro(t)}oe&&(Oo=Vt(\"input\")&&(!document.documentMode||9<document.documentMode));var jo={eventTypes:Eo,_isInputEventSupported:Oo,extractEvents:function(e,t,n,o){var i,r,a=t?Qn(t):window,l=a.nodeName&&a.nodeName.toLowerCase();if(\"select\"===l||\"input\"===l&&\"file\"===a.type?i=Do:_o(a)?Oo?i=No:(i=Lo,r=Fo):!(l=a.nodeName)||\"input\"!==l.toLowerCase()||\"checkbox\"!==a.type&&\"radio\"!==a.type||(i=$o),i=i&&i(e,t))return To(i,n,o);r&&r(e,a,t),\"blur\"===e&&(e=a._wrapperState)&&e.controlled&&\"number\"===a.type&&Ze(a,\"number\",a.value)}},zo=l.extend({view:null,detail:null}),Bo={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function qo(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Bo[e])&&!!t[e]}function Wo(){return qo}var Uo=0,Ho=0,Qo=!1,Go=!1,Ko=zo.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Wo,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){var t;return\"movementX\"in e?e.movementX:(t=Uo,Uo=e.screenX,Qo?\"mousemove\"===e.type?e.screenX-t:0:(Qo=!0,0))},movementY:function(e){var t;return\"movementY\"in e?e.movementY:(t=Ho,Ho=e.screenY,Go?\"mousemove\"===e.type?e.screenY-t:0:(Go=!0,0))}}),Jo=Ko.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Yo={mouseEnter:{registrationName:\"onMouseEnter\",dependencies:[\"mouseout\",\"mouseover\"]},mouseLeave:{registrationName:\"onMouseLeave\",dependencies:[\"mouseout\",\"mouseover\"]},pointerEnter:{registrationName:\"onPointerEnter\",dependencies:[\"pointerout\",\"pointerover\"]},pointerLeave:{registrationName:\"onPointerLeave\",dependencies:[\"pointerout\",\"pointerover\"]}},Xo={eventTypes:Yo,extractEvents:function(e,t,n,o,i){var r,a,l,s,u=\"mouseover\"===e||\"pointerover\"===e,c=\"mouseout\"===e||\"pointerout\"===e;if(u&&0==(32&i)&&(n.relatedTarget||n.fromElement)||!c&&!u)return null;if(u=o.window===o?o:(u=o.ownerDocument)?u.defaultView||u.parentWindow:window,c?(c=t,null!==(t=(t=n.relatedTarget||n.toElement)?Un(t):null)&&(t!==xt(t)||5!==t.tag&&6!==t.tag)&&(t=null)):c=null,c===t)return null;if(\"mouseout\"===e||\"mouseover\"===e?(r=Ko,a=Yo.mouseLeave,l=Yo.mouseEnter,s=\"mouse\"):\"pointerout\"!==e&&\"pointerover\"!==e||(r=Jo,a=Yo.pointerLeave,l=Yo.pointerEnter,s=\"pointer\"),e=null==c?u:Qn(c),u=null==t?u:Qn(t),(a=r.getPooled(a,c,n,o)).type=s+\"leave\",a.target=e,a.relatedTarget=u,(n=r.getPooled(l,t,n,o)).type=s+\"enter\",n.target=u,n.relatedTarget=e,s=t,(o=c)&&s)e:{for(l=s,c=0,e=r=o;e;e=Kn(e))c++;for(e=0,t=l;t;t=Kn(t))e++;for(;0<c-e;)r=Kn(r),c--;for(;0<e-c;)l=Kn(l),e--;for(;c--;){if(r===l||r===l.alternate)break e;r=Kn(r),l=Kn(l)}r=null}else r=null;for(l=r,r=[];o&&o!==l&&(null===(c=o.alternate)||c!==l);)r.push(o),o=Kn(o);for(o=[];s&&s!==l&&(null===(c=s.alternate)||c!==l);)o.push(s),s=Kn(s);for(s=0;s<r.length;s++)Zn(r[s],\"bubbled\",a);for(s=o.length;0<s--;)Zn(o[s],\"captured\",n);return 0==(64&i)?[a]:[a,n]}},Zo=\"function\"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ei=Object.prototype.hasOwnProperty;function ti(e,t){if(Zo(e,t))return 1;if(\"object\"==typeof e&&null!==e&&\"object\"==typeof t&&null!==t){var n=Object.keys(e),o=Object.keys(t);if(n.length===o.length){for(o=0;o<n.length;o++)if(!ei.call(t,n[o])||!Zo(e[n[o]],t[n[o]]))return;return 1}}}var ni=oe&&\"documentMode\"in document&&document.documentMode<=11,oi={select:{phasedRegistrationNames:{bubbled:\"onSelect\",captured:\"onSelectCapture\"},dependencies:\"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange\".split(\" \")}},ii=null,ri=null,ai=null,li=!1;function si(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return li||null==ii||ii!==Pn(n)||(n=\"selectionStart\"in(n=ii)&&On(n)?{start:n.selectionStart,end:n.selectionEnd}:{anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ai&&ti(ai,n))?null:(ai=n,(e=l.getPooled(oi.select,ri,e,t)).type=\"select\",e.target=ii,to(e),e)}var ui={eventTypes:oi,extractEvents:function(e,t,n,o,i,r){if(!(r=!(i=r||(o.window===o?o.document:9===o.nodeType?o:o.ownerDocument)))){e:{i=St(i),r=te.onSelect;for(var a=0;a<r.length;a++)if(!i.has(r[a])){i=!1;break e}i=!0}r=!i}if(!r)switch(i=t?Qn(t):window,e){case\"focus\":!_o(i)&&\"true\"!==i.contentEditable||(ii=i,ri=t,ai=null);break;case\"blur\":ai=ri=ii=null;break;case\"mousedown\":li=!0;break;case\"contextmenu\":case\"mouseup\":case\"dragend\":return li=!1,si(n,o);case\"selectionchange\":if(ni)break;case\"keydown\":case\"keyup\":return si(n,o)}return null}},ci=l.extend({animationName:null,elapsedTime:null,pseudoElement:null}),di=l.extend({clipboardData:function(e){return(\"clipboardData\"in e?e:window).clipboardData}}),fi=zo.extend({relatedTarget:null});function gi(e){var t=e.keyCode;return\"charCode\"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,32<=(e=10===e?13:e)||13===e?e:0}var pi={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},hi={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},mi=zo.extend({key:function(e){if(e.key){var t=pi[e.key]||e.key;if(\"Unidentified\"!==t)return t}return\"keypress\"===e.type?13===(e=gi(e))?\"Enter\":String.fromCharCode(e):\"keydown\"===e.type||\"keyup\"===e.type?hi[e.keyCode]||\"Unidentified\":\"\"},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Wo,charCode:function(e){return\"keypress\"===e.type?gi(e):0},keyCode:function(e){return\"keydown\"===e.type||\"keyup\"===e.type?e.keyCode:0},which:function(e){return\"keypress\"===e.type?gi(e):\"keydown\"===e.type||\"keyup\"===e.type?e.keyCode:0}}),vi=Ko.extend({dataTransfer:null}),yi=zo.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Wo}),bi=l.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),wi=Ko.extend({deltaX:function(e){return\"deltaX\"in e?e.deltaX:\"wheelDeltaX\"in e?-e.wheelDeltaX:0},deltaY:function(e){return\"deltaY\"in e?e.deltaY:\"wheelDeltaY\"in e?-e.wheelDeltaY:\"wheelDelta\"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),Ci={eventTypes:ln,extractEvents:function(e,t,n,o){var i=sn.get(e);if(!i)return null;switch(e){case\"keypress\":if(0===gi(n))return null;case\"keydown\":case\"keyup\":e=mi;break;case\"blur\":case\"focus\":e=fi;break;case\"click\":if(2===n.button)return null;case\"auxclick\":case\"dblclick\":case\"mousedown\":case\"mousemove\":case\"mouseup\":case\"mouseout\":case\"mouseover\":case\"contextmenu\":e=Ko;break;case\"drag\":case\"dragend\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"dragstart\":case\"drop\":e=vi;break;case\"touchcancel\":case\"touchend\":case\"touchmove\":case\"touchstart\":e=yi;break;case vt:case yt:case bt:e=ci;break;case wt:e=bi;break;case\"scroll\":e=zo;break;case\"wheel\":e=wi;break;case\"copy\":case\"cut\":case\"paste\":e=di;break;case\"gotpointercapture\":case\"lostpointercapture\":case\"pointercancel\":case\"pointerdown\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"pointerup\":e=Jo;break;default:e=l}return to(t=e.getPooled(i,t,n,o)),t}},G=Array.prototype.slice.call(\"ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin\".split(\" \")),ki=(J(),W=Gn,U=Hn,H=Qn,ne({SimpleEventPlugin:Ci,EnterLeaveEventPlugin:Xo,ChangeEventPlugin:jo,SelectEventPlugin:ui,BeforeInputEventPlugin:o}),[]),Si=-1;function d(e){Si<0||(e.current=ki[Si],ki[Si]=null,Si--)}function f(e,t){ki[++Si]=e.current,e.current=t}var xi={},g={current:xi},p={current:!1},_i=xi;function Ei(e,t){var n=e.type.contextTypes;if(!n)return xi;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var i,r={};for(i in n)r[i]=t[i];return o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function h(e){return null!=e.childContextTypes}function Ti(){d(p),d(g)}function Mi(e,t,n){if(g.current!==xi)throw Error(L(168));f(g,t),f(p,n)}function Pi(e,t,n){var o,i=e.stateNode;if(e=t.childContextTypes,\"function\"!=typeof i.getChildContext)return n;for(o in i=i.getChildContext())if(!(o in e))throw Error(L(108,Be(t)||\"Unknown\",o));return v({},n,{},i)}function Ii(e){e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,_i=g.current,f(g,e),f(p,p.current)}function Ri(e,t,n){var o=e.stateNode;if(!o)throw Error(L(169));n?(e=Pi(e,t,_i),o.__reactInternalMemoizedMergedChildContext=e,d(p),d(g),f(g,e)):d(p),f(p,n)}var Di=i.unstable_runWithPriority,Oi=i.unstable_scheduleCallback,Vi=i.unstable_cancelCallback,Ci=i.unstable_requestPaint,Ai=i.unstable_now,Fi=i.unstable_getCurrentPriorityLevel,Li=i.unstable_ImmediatePriority,$i=i.unstable_UserBlockingPriority,Ni=i.unstable_NormalPriority,ji=i.unstable_LowPriority,zi=i.unstable_IdlePriority,Bi={},qi=i.unstable_shouldYield,Wi=void 0!==Ci?Ci:function(){},Ui=null,Hi=null,Qi=!1,Gi=Ai(),m=Gi<1e4?Ai:function(){return Ai()-Gi};function Ki(){switch(Fi()){case Li:return 99;case $i:return 98;case Ni:return 97;case ji:return 96;case zi:return 95;default:throw Error(L(332))}}function Ji(e){switch(e){case 99:return Li;case 98:return $i;case 97:return Ni;case 96:return ji;case 95:return zi;default:throw Error(L(332))}}function Yi(e,t){return e=Ji(e),Di(e,t)}function Xi(e,t,n){return e=Ji(e),Oi(e,t,n)}function Zi(e){return null===Ui?(Ui=[e],Hi=Oi(Li,er)):Ui.push(e),Bi}function _(){var e;null!==Hi&&(e=Hi,Hi=null,Vi(e)),er()}function er(){if(!Qi&&null!==Ui){Qi=!0;var t=0;try{var n=Ui;Yi(99,function(){for(;t<n.length;t++)for(var e=n[t];null!==(e=e(!0)););}),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(t+1)),Oi(Li,_),n}finally{Qi=!1}}}function tr(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function E(e,t){if(e&&e.defaultProps)for(var n in t=v({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var nr={current:null},or=null,ir=null,rr=null;function ar(){rr=ir=or=null}function lr(e){var t=nr.current;d(nr),e.type._context._currentValue=t}function sr(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function ur(e,t){(rr=ir=null)!==(e=(or=e).dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(w=!0),e.firstContext=null)}function y(e,t){if(rr!==e&&!1!==t&&0!==t)if(\"number\"==typeof t&&1073741823!==t||(rr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ir){if(null===or)throw Error(L(308));ir=t,or.dependencies={expirationTime:0,firstContext:t,responders:null}}else ir=ir.next=t;return e._currentValue}var cr=!1;function dr(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function fr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function gr(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function pr(e,t){var n;null!==(e=e.updateQueue)&&(null===(n=(e=e.shared).pending)?t.next=t:(t.next=n.next,n.next=t),e.pending=t)}function hr(e,t){var n=e.alternate;null!==n&&fr(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t).next=t:(t.next=n.next,n.next=t)}function mr(e,t,n,o){var i=e.updateQueue,r=(cr=!1,i.baseQueue);if(null!==(m=i.shared.pending)&&(null!==r&&(a=r.next,r.next=m.next,m.next=a),r=m,(i.shared.pending=null)!==(a=e.alternate))&&null!==(a=a.updateQueue)&&(a.baseQueue=m),null!==r){var a=r.next,l=i.baseState,s=0,u=null,c=null,d=null;if(null!==a)for(var f=a;;){if((m=f.expirationTime)<o){var g={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===d?(c=d=g,u=l):d=d.next=g,s<m&&(s=m)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),Bl(m,f.suspenseConfig);e:{var p=e,h=f,m=t,g=n;switch(h.tag){case 1:if(\"function\"==typeof(p=h.payload)){l=p.call(g,l,m);break e}l=p;break e;case 3:p.effectTag=-4097&p.effectTag|64;case 0:if(null==(m=\"function\"==typeof(p=h.payload)?p.call(g,l,m):p))break e;l=v({},l,m);break e;case 2:cr=!0}}null!==f.callback&&(e.effectTag|=32,null===(m=i.effects)?i.effects=[f]:m.push(f))}if(null===(f=f.next)||f===a){if(null===(m=i.shared.pending))break;f=r.next=m.next,m.next=a,i.baseQueue=r=m,i.shared.pending=null}}null===d?u=l:d.next=c,i.baseState=u,i.baseQueue=d,ql(s),e.expirationTime=s,e.memoizedState=l}}function vr(e,t,n){if(e=t.effects,(t.effects=null)!==e)for(t=0;t<e.length;t++){var o=e[t],i=o.callback;if(null!==i){if(o.callback=null,o=i,i=n,\"function\"!=typeof o)throw Error(L(191,o));o.call(i)}}}var yr=t.ReactCurrentBatchConfig,br=(new F.Component).refs;function wr(e,t,n,o){n=null==(n=n(o,t=e.memoizedState))?t:v({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var Cr={isMounted:function(e){return!!(e=e._reactInternalFiber)&&xt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var o=Il(),i=yr.suspense;(i=gr(o=Rl(o,e,i),i)).payload=t,null!=n&&(i.callback=n),pr(e,i),Dl(e,o)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var o=Il(),i=yr.suspense;(i=gr(o=Rl(o,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),pr(e,i),Dl(e,o)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Il(),o=yr.suspense;(o=gr(n=Rl(n,e,o),o)).tag=2,null!=t&&(o.callback=t),pr(e,o),Dl(e,n)}};function kr(e,t,n,o,i,r,a){return\"function\"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(o,r,a):!(t.prototype&&t.prototype.isPureReactComponent&&ti(n,o)&&ti(i,r))}function Sr(e,t,n){var o=!1,i=xi,r=t.contextType;t=new t(n,r=\"object\"==typeof r&&null!==r?y(r):(i=h(t)?_i:g.current,(o=null!=t.contextTypes)?Ei(e,i):xi)),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Cr,(e.stateNode=t)._reactInternalFiber=e,o&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r)}function xr(e,t,n,o){e=t.state,\"function\"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,o),\"function\"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&Cr.enqueueReplaceState(t,t.state,null)}function _r(e,t,n,o){var i=e.stateNode,r=(i.props=n,i.state=e.memoizedState,i.refs=br,dr(e),t.contextType);\"object\"==typeof r&&null!==r?i.context=y(r):(r=h(t)?_i:g.current,i.context=Ei(e,r)),mr(e,n,i,o),i.state=e.memoizedState,\"function\"==typeof(r=t.getDerivedStateFromProps)&&(wr(e,0,r,n),i.state=e.memoizedState),\"function\"==typeof t.getDerivedStateFromProps||\"function\"==typeof i.getSnapshotBeforeUpdate||\"function\"!=typeof i.UNSAFE_componentWillMount&&\"function\"!=typeof i.componentWillMount||(t=i.state,\"function\"==typeof i.componentWillMount&&i.componentWillMount(),\"function\"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Cr.enqueueReplaceState(i,i.state,null),mr(e,n,i,o),i.state=e.memoizedState),\"function\"==typeof i.componentDidMount&&(e.effectTag|=4)}var Er=Array.isArray;function Tr(e,t,n){if(null!==(e=n.ref)&&\"function\"!=typeof e&&\"object\"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(L(309));var o=n.stateNode}var i;if(o)return i=\"\"+e,null!==t&&null!==t.ref&&\"function\"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=o.refs;t===br&&(t=o.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t);throw Error(L(147,e))}if(\"string\"!=typeof e)throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function Mr(e,t){if(\"textarea\"!==e.type)throw Error(L(31,\"[object Object]\"===Object.prototype.toString.call(t)?\"object with keys {\"+Object.keys(t).join(\", \")+\"}\":t,\"\"))}function Pr(T){function M(e,t){var n;T&&(null!==(n=e.lastEffect)?(n.nextEffect=t,e.lastEffect=t):e.firstEffect=e.lastEffect=t,t.nextEffect=null,t.effectTag=8)}function P(e,t){if(T)for(;null!==t;)M(e,t),t=t.sibling;return null}function I(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function R(e,t){return(e=rs(e,t)).index=0,e.sibling=null,e}function D(e,t,n){return e.index=n,T?null===(n=e.alternate)||(n=n.index)<t?(e.effectTag=2,t):n:t}function O(e){return T&&null===e.alternate&&(e.effectTag=2),e}function r(e,t,n,o){return null===t||6!==t.tag?(t=ss(n,e.mode,o)).return=e:(t=R(t,n)).return=e,t}function a(e,t,n,o){return null!==t&&t.elementType===n.type?(o=R(t,n.props)).ref=Tr(0,t,n):(o=as(n.type,n.key,n.props,null,e.mode,o)).ref=Tr(0,t,n),o.return=e,o}function l(e,t,n,o){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=us(n,e.mode,o)).return=e:(t=R(t,n.children||[])).return=e,t}function s(e,t,n,o,i){return null===t||7!==t.tag?(t=ls(n,e.mode,o,i)).return=e:(t=R(t,n)).return=e,t}function V(e,t,n){if(\"string\"==typeof t||\"number\"==typeof t)return(t=ss(\"\"+t,e.mode,n)).return=e,t;if(\"object\"==typeof t&&null!==t){switch(t.$$typeof){case Ee:return(n=as(t.type,t.key,t.props,null,e.mode,n)).ref=Tr(0,null,t),n.return=e,n;case Te:return(t=us(t,e.mode,n)).return=e,t}if(Er(t)||ze(t))return(t=ls(t,e.mode,n,null)).return=e,t;Mr(e,t)}return null}function A(e,t,n,o){var i=null!==t?t.key:null;if(\"string\"==typeof n||\"number\"==typeof n)return null!==i?null:r(e,t,\"\"+n,o);if(\"object\"==typeof n&&null!==n){switch(n.$$typeof){case Ee:return n.key===i?n.type===Me?s(e,t,n.props.children,o,i):a(e,t,n,o):null;case Te:return n.key===i?l(e,t,n,o):null}if(Er(n)||ze(n))return null!==i?null:s(e,t,n,o,null);Mr(e,n)}return null}function F(e,t,n,o,i){if(\"string\"==typeof o||\"number\"==typeof o)return r(t,e=e.get(n)||null,\"\"+o,i);if(\"object\"==typeof o&&null!==o){switch(o.$$typeof){case Ee:return e=e.get(null===o.key?n:o.key)||null,o.type===Me?s(t,e,o.props.children,i,o.key):a(t,e,o,i);case Te:return l(t,e=e.get(null===o.key?n:o.key)||null,o,i)}if(Er(o)||ze(o))return s(t,e=e.get(n)||null,o,i,null);Mr(t,o)}return null}return function(e,t,n,o){var i=\"object\"==typeof n&&null!==n&&n.type===Me&&null===n.key,r=\"object\"==typeof(n=i?n.props.children:n)&&null!==n;if(r)switch(n.$$typeof){case Ee:e:{for(r=n.key,i=t;null!==i;){if(i.key===r){switch(i.tag){case 7:if(n.type!==Me)break;P(e,i.sibling),(t=R(i,n.props.children)).return=e,e=t;break e;default:if(i.elementType===n.type){P(e,i.sibling),(t=R(i,n.props)).ref=Tr(0,i,n),t.return=e,e=t;break e}}P(e,i);break}M(e,i),i=i.sibling}e=n.type===Me?((t=ls(n.props.children,e.mode,o,n.key)).return=e,t):((o=as(n.type,n.key,n.props,null,e.mode,o)).ref=Tr(0,t,n),o.return=e,o)}return O(e);case Te:e:{for(i=n.key;null!==t;){if(t.key===i){if(4===t.tag&&t.stateNode.containerInfo===n.containerInfo&&t.stateNode.implementation===n.implementation){P(e,t.sibling),(t=R(t,n.children||[])).return=e,e=t;break e}P(e,t);break}M(e,t),t=t.sibling}(t=us(n,e.mode,o)).return=e,e=t}return O(e)}if(\"string\"==typeof n||\"number\"==typeof n)return n=\"\"+n,null!==t&&6===t.tag?(P(e,t.sibling),(t=R(t,n)).return=e):(P(e,t),(t=ss(n,e.mode,o)).return=e),O(e=t);if(Er(n)){for(var a=e,l=t,s=n,u=o,c=null,d=null,f=l,g=l=0,p=null;null!==f&&g<s.length;g++){f.index>g?(p=f,f=null):p=f.sibling;var h=A(a,f,s[g],u);if(null===h){null===f&&(f=p);break}T&&f&&null===h.alternate&&M(a,f),l=D(h,l,g),null===d?c=h:d.sibling=h,d=h,f=p}if(g===s.length)P(a,f);else if(null===f)for(;g<s.length;g++)null!==(f=V(a,s[g],u))&&(l=D(f,l,g),null===d?c=f:d.sibling=f,d=f);else{for(f=I(a,f);g<s.length;g++)null!==(p=F(f,a,g,s[g],u))&&(T&&null!==p.alternate&&f.delete(null===p.key?g:p.key),l=D(p,l,g),null===d?c=p:d.sibling=p,d=p);T&&f.forEach(function(e){return M(a,e)})}return c}if(ze(n)){var m=e,v=t,y=n,b=o,w=ze(y);if(\"function\"!=typeof w)throw Error(L(150));if(null==(y=w.call(y)))throw Error(L(151));for(var C=w=null,k=v,S=v=0,x=null,_=y.next();null!==k&&!_.done;S++,_=y.next()){k.index>S?(x=k,k=null):x=k.sibling;var E=A(m,k,_.value,b);if(null===E){null===k&&(k=x);break}T&&k&&null===E.alternate&&M(m,k),v=D(E,v,S),null===C?w=E:C.sibling=E,C=E,k=x}if(_.done)P(m,k);else if(null===k)for(;!_.done;S++,_=y.next())null!==(_=V(m,_.value,b))&&(v=D(_,v,S),null===C?w=_:C.sibling=_,C=_);else{for(k=I(m,k);!_.done;S++,_=y.next())null!==(_=F(k,m,S,_.value,b))&&(T&&null!==_.alternate&&k.delete(null===_.key?S:_.key),v=D(_,v,S),null===C?w=_:C.sibling=_,C=_);T&&k.forEach(function(e){return M(m,e)})}return w}if(r&&Mr(e,n),void 0===n&&!i)switch(e.tag){case 1:case 0:throw e=e.type,Error(L(152,e.displayName||e.name||\"Component\"))}return P(e,t)}}var Ir=Pr(!0),Rr=Pr(!1),Dr={},b={current:Dr},Or={current:Dr},Vr={current:Dr};function Ar(e){if(e===Dr)throw Error(L(174));return e}function Fr(e,t){switch(f(Vr,t),f(Or,e),f(b,Dr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lt(null,\"\");break;default:t=lt(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}d(b),f(b,t)}function Lr(){d(b),d(Or),d(Vr)}function $r(e){Ar(Vr.current);var t=Ar(b.current),n=lt(t,e.type);t!==n&&(f(Or,e),f(b,n))}function Nr(e){Or.current===e&&(d(b),d(Or))}var k={current:0};function jr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||\"$?\"===n.data||\"$!\"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t=(t.child.return=t).child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function zr(e,t){return{responder:e,props:t}}var Br=t.ReactCurrentDispatcher,s=t.ReactCurrentBatchConfig,qr=0,S=null,x=null,T=null,Wr=!1;function u(){throw Error(L(321))}function Ur(e,t){if(null!==t){for(var n=0;n<t.length&&n<e.length;n++)if(!Zo(e[n],t[n]))return;return 1}}function Hr(e,t,n,o,i,r){if(qr=r,(S=t).memoizedState=null,t.updateQueue=null,t.expirationTime=0,Br.current=null===e||null===e.memoizedState?ha:ma,e=n(o,i),t.expirationTime===qr){r=0;do{if(t.expirationTime=0,!(r<25))throw Error(L(301))}while(r+=1,T=x=null,t.updateQueue=null,Br.current=va,e=n(o,i),t.expirationTime===qr)}if(Br.current=pa,t=null!==x&&null!==x.next,qr=0,T=x=S=null,Wr=!1,t)throw Error(L(300));return e}function Qr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===T?S.memoizedState=T=e:T=T.next=e,T}function Gr(){e=null===x?null!==(e=S.alternate)?e.memoizedState:null:x.next;var e,t=null===T?S.memoizedState:T.next;if(null!==t)T=t,x=e;else{if(null===e)throw Error(L(310));e={memoizedState:(x=e).memoizedState,baseState:x.baseState,baseQueue:x.baseQueue,queue:x.queue,next:null},null===T?S.memoizedState=T=e:T=T.next=e}return T}function Kr(e,t){return\"function\"==typeof t?t(e):t}function Jr(e){var t=Gr(),n=t.queue;if(null===n)throw Error(L(311));n.lastRenderedReducer=e;var o,i=(a=x).baseQueue,r=n.pending;if(null!==r&&(null!==i&&(o=i.next,i.next=r.next,r.next=o),a.baseQueue=i=r,n.pending=null),null!==i){var i=i.next,a=a.baseState,l=o=r=null,s=i;do{var u,c=s.expirationTime}while(c<qr?(u={expirationTime:s.expirationTime,suspenseConfig:s.suspenseConfig,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null},null===l?(o=l=u,r=a):l=l.next=u,c>S.expirationTime&&ql(S.expirationTime=c)):(null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:s.suspenseConfig,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null}),Bl(c,s.suspenseConfig),a=s.eagerReducer===e?s.eagerState:e(a,s.action)),null!==(s=s.next)&&s!==i);null===l?r=a:l.next=o,Zo(a,t.memoizedState)||(w=!0),t.memoizedState=a,t.baseState=r,t.baseQueue=l,n.lastRenderedState=a}return[t.memoizedState,n.dispatch]}function Yr(e){var t=Gr(),n=t.queue;if(null===n)throw Error(L(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,r=t.memoizedState;if(null!==i){n.pending=null;for(var a=i=i.next;r=e(r,a.action),(a=a.next)!==i;);Zo(r,t.memoizedState)||(w=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,o]}function Xr(e){var t=Qr();return\"function\"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:e}).dispatch=ga.bind(null,S,e),[t.memoizedState,e]}function Zr(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},null===(t=S.updateQueue)?(S.updateQueue=t={lastEffect:null}).lastEffect=e.next=e:null===(n=t.lastEffect)?t.lastEffect=e.next=e:(o=n.next,(n.next=e).next=o,t.lastEffect=e),e}function ea(){return Gr().memoizedState}function ta(e,t,n,o){var i=Qr();S.effectTag|=e,i.memoizedState=Zr(1|t,n,void 0,void 0===o?null:o)}function na(e,t,n,o){var i=Gr(),r=(o=void 0===o?null:o,void 0);if(null!==x){var a=x.memoizedState,r=a.destroy;if(null!==o&&Ur(o,a.deps))return void Zr(t,n,r,o)}S.effectTag|=e,i.memoizedState=Zr(1|t,n,r,o)}function oa(e,t){return ta(516,4,e,t)}function ia(e,t){return na(516,4,e,t)}function ra(e,t){return na(4,2,e,t)}function aa(e,t){return\"function\"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function la(e,t,n){return n=null!=n?n.concat([e]):null,na(4,2,aa.bind(null,t,e),n)}function sa(){}function ua(e,t){return Qr().memoizedState=[e,void 0===t?null:t],e}function ca(e,t){var n=Gr(),o=(t=void 0===t?null:t,n.memoizedState);return null!==o&&null!==t&&Ur(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function da(e,t){var n=Gr(),o=(t=void 0===t?null:t,n.memoizedState);return null!==o&&null!==t&&Ur(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function fa(t,n,o){var e=Ki();Yi(e<98?98:e,function(){t(!0)}),Yi(97<e?97:e,function(){var e=s.suspense;s.suspense=void 0===n?null:n;try{t(!1),o()}finally{s.suspense=e}})}function ga(e,t,n){var o,i={expirationTime:o=Rl(Il(),e,i=yr.suspense),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null},r=t.pending;if(null===r?i.next=i:(i.next=r.next,r.next=i),t.pending=i,r=e.alternate,e===S||null!==r&&r===S)Wr=!0,i.expirationTime=qr,S.expirationTime=qr;else{if(0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=r(a,n);if(i.eagerReducer=r,i.eagerState=l,Zo(l,a))return}catch(e){}Dl(e,o)}}var pa={readContext:y,useCallback:u,useContext:u,useEffect:u,useImperativeHandle:u,useLayoutEffect:u,useMemo:u,useReducer:u,useRef:u,useState:u,useDebugValue:u,useResponder:u,useDeferredValue:u,useTransition:u},ha={readContext:y,useCallback:ua,useContext:y,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ta(4,2,aa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ta(4,2,e,t)},useMemo:function(e,t){var n=Qr();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=Qr();return t=void 0!==n?n(t):t,o.memoizedState=o.baseState=t,e=(e=o.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ga.bind(null,S,e),[o.memoizedState,e]},useRef:function(e){return e={current:e},Qr().memoizedState=e},useState:Xr,useDebugValue:sa,useResponder:zr,useDeferredValue:function(t,n){var e=Xr(t),o=e[0],i=e[1];return oa(function(){var e=s.suspense;s.suspense=void 0===n?null:n;try{i(t)}finally{s.suspense=e}},[t,n]),o},useTransition:function(e){var t=(n=Xr(!1))[0],n=n[1];return[ua(fa.bind(null,n,e),[n,e]),t]}},ma={readContext:y,useCallback:ca,useContext:y,useEffect:ia,useImperativeHandle:la,useLayoutEffect:ra,useMemo:da,useReducer:Jr,useRef:ea,useState:function(){return Jr(Kr)},useDebugValue:sa,useResponder:zr,useDeferredValue:function(t,n){var e=Jr(Kr),o=e[0],i=e[1];return ia(function(){var e=s.suspense;s.suspense=void 0===n?null:n;try{i(t)}finally{s.suspense=e}},[t,n]),o},useTransition:function(e){var t=(n=Jr(Kr))[0],n=n[1];return[ca(fa.bind(null,n,e),[n,e]),t]}},va={readContext:y,useCallback:ca,useContext:y,useEffect:ia,useImperativeHandle:la,useLayoutEffect:ra,useMemo:da,useReducer:Yr,useRef:ea,useState:function(){return Yr(Kr)},useDebugValue:sa,useResponder:zr,useDeferredValue:function(t,n){var e=Yr(Kr),o=e[0],i=e[1];return ia(function(){var e=s.suspense;s.suspense=void 0===n?null:n;try{i(t)}finally{s.suspense=e}},[t,n]),o},useTransition:function(e){var t=(n=Yr(Kr))[0],n=n[1];return[ca(fa.bind(null,n,e),[n,e]),t]}},ya=null,ba=null,wa=!1;function Ca(e,t){var n=os(5,null,null,0);n.elementType=\"DELETED\",n.type=\"DELETED\",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ka(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,1);case 6:return null!==(t=\"\"===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,1);default:return}}function Sa(e){if(wa){var t=ba;if(t){var n=t;if(!ka(e,t)){if(!(t=jn(n.nextSibling))||!ka(e,t))return e.effectTag=-1025&e.effectTag|2,wa=!1,ya=e;Ca(ya,n)}ya=e,ba=jn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,wa=!1,ya=e}}function xa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ya=e}function _a(e){if(e===ya){if(!wa)return xa(e),wa=!0,0;var t=e.type;if(5!==e.tag||\"head\"!==t&&\"body\"!==t&&!Ln(t,e.memoizedProps))for(t=ba;t;)Ca(e,t),t=jn(t.nextSibling);if(xa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if(\"/$\"===n){if(0===t){ba=jn(e.nextSibling);break e}t--}else\"$\"!==n&&\"$!\"!==n&&\"$?\"!==n||t++}e=e.nextSibling}ba=null}}else ba=ya?jn(e.stateNode.nextSibling):null;return 1}}function Ea(){ba=ya=null,wa=!1}var Ta=t.ReactCurrentOwner,w=!1;function C(e,t,n,o){t.child=null===e?Rr(t,null,n,o):Ir(t,e.child,n,o)}function Ma(e,t,n,o,i){n=n.render;var r=t.ref;return ur(t,i),o=Hr(e,t,n,o,r,i),null===e||w?(t.effectTag|=1,C(e,t,o,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),za(e,t,i))}function Pa(e,t,n,o,i,r){var a;return null===e?\"function\"!=typeof(a=n.type)||is(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=as(n.type,null,o,null,t.mode,r)).ref=t.ref,(e.return=t).child=e):(t.tag=15,t.type=a,Ia(e,t,a,o,i,r)):(a=e.child,i<r&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ti)(i,o))&&e.ref===t.ref?za(e,t,r):(t.effectTag|=1,(e=rs(a,o)).ref=t.ref,(e.return=t).child=e))}function Ia(e,t,n,o,i,r){return null!==e&&ti(e.memoizedProps,o)&&e.ref===t.ref&&(w=!1,i<r)?(t.expirationTime=e.expirationTime,za(e,t,r)):Da(e,t,n,o,r)}function Ra(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Da(e,t,n,o,i){var r=Ei(t,h(n)?_i:g.current);return ur(t,i),n=Hr(e,t,n,o,r,i),null===e||w?(t.effectTag|=1,C(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),za(e,t,i))}function Oa(e,t,n,o,i){var r,a,l,s,u,c,d,f;return h(n)?(r=!0,Ii(t)):r=!1,ur(t,i),o=null===t.stateNode?(null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Sr(t,n,o),_r(t,n,o,i),!0):null===e?(a=t.stateNode,l=t.memoizedProps,a.props=l,s=a.context,u=\"object\"==typeof(u=n.contextType)&&null!==u?y(u):Ei(t,u=h(n)?_i:g.current),(d=\"function\"==typeof(c=n.getDerivedStateFromProps)||\"function\"==typeof a.getSnapshotBeforeUpdate)||\"function\"!=typeof a.UNSAFE_componentWillReceiveProps&&\"function\"!=typeof a.componentWillReceiveProps||l===o&&s===u||xr(0,a,o,u),cr=!1,f=t.memoizedState,a.state=f,mr(t,o,a,i),s=t.memoizedState,l!==o||f!==s||p.current||cr?(\"function\"==typeof c&&(wr(t,0,c,o),s=t.memoizedState),(l=cr||kr(t,n,l,o,f,s,u))?(d||\"function\"!=typeof a.UNSAFE_componentWillMount&&\"function\"!=typeof a.componentWillMount||(\"function\"==typeof a.componentWillMount&&a.componentWillMount(),\"function\"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),\"function\"==typeof a.componentDidMount&&(t.effectTag|=4)):(\"function\"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=o,t.memoizedState=s),a.props=o,a.state=s,a.context=u,l):(\"function\"==typeof a.componentDidMount&&(t.effectTag|=4),!1)):(a=t.stateNode,fr(e,t),l=t.memoizedProps,a.props=t.type===t.elementType?l:E(t.type,l),s=a.context,u=\"object\"==typeof(u=n.contextType)&&null!==u?y(u):Ei(t,u=h(n)?_i:g.current),(d=\"function\"==typeof(c=n.getDerivedStateFromProps)||\"function\"==typeof a.getSnapshotBeforeUpdate)||\"function\"!=typeof a.UNSAFE_componentWillReceiveProps&&\"function\"!=typeof a.componentWillReceiveProps||l===o&&s===u||xr(0,a,o,u),cr=!1,s=t.memoizedState,a.state=s,mr(t,o,a,i),f=t.memoizedState,l!==o||s!==f||p.current||cr?(\"function\"==typeof c&&(wr(t,0,c,o),f=t.memoizedState),(c=cr||kr(t,n,l,o,s,f,u))?(d||\"function\"!=typeof a.UNSAFE_componentWillUpdate&&\"function\"!=typeof a.componentWillUpdate||(\"function\"==typeof a.componentWillUpdate&&a.componentWillUpdate(o,f,u),\"function\"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(o,f,u)),\"function\"==typeof a.componentDidUpdate&&(t.effectTag|=4),\"function\"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):(\"function\"!=typeof a.componentDidUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),\"function\"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=o,t.memoizedState=f),a.props=o,a.state=f,a.context=u,c):(\"function\"!=typeof a.componentDidUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),\"function\"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),!1)),Va(e,t,n,o,r,i)}function Va(e,t,n,o,i,r){Ra(e,t);var a=0!=(64&t.effectTag);if(!o&&!a)return i&&Ri(t,n,!1),za(e,t,r);o=t.stateNode,Ta.current=t;var l=a&&\"function\"!=typeof n.getDerivedStateFromError?null:o.render();return t.effectTag|=1,null!==e&&a?(t.child=Ir(t,e.child,null,r),t.child=Ir(t,null,l,r)):C(e,t,l,r),t.memoizedState=o.state,i&&Ri(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Mi(0,t.context,!1),Fr(e,t.containerInfo)}var Fa={dehydrated:null,retryTime:0};function La(e,t,n){var o=t.mode,i=t.pendingProps,r=k.current,a=!1;if(0!=(64&t.effectTag)||0!=(2&r)&&(null===e||null!==e.memoizedState)?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(r|=1),f(k,1&r),null===e){if(void 0!==i.fallback&&Sa(t),a){if(a=i.fallback,0==(2&((i=ls(null,o,0,null)).return=t).mode))for(e=(null!==t.memoizedState?t.child:t).child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=ls(a,o,n,null)).return=t,i.sibling=n,t.memoizedState=Fa,t.child=i,n}return o=i.children,t.memoizedState=null,t.child=Rr(t,null,o,n)}if(null!==e.memoizedState){if(o=(e=e.child).sibling,a){if(i=i.fallback,0==(2&((n=rs(e,e.pendingProps)).return=t).mode)&&(a=(null!==t.memoizedState?t.child:t).child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(o=rs(o,i)).return=t,n.sibling=o,n.childExpirationTime=0,t.memoizedState=Fa,t.child=n,o}return n=Ir(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=i.fallback,(i=ls(null,o,0,null)).return=t,null!==(i.child=e)&&(e.return=i),0==(2&t.mode))for(e=(null!==t.memoizedState?t.child:t).child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=ls(a,o,n,null)).return=t,(i.sibling=n).effectTag|=2,i.childExpirationTime=0,t.memoizedState=Fa,t.child=i,n}return t.memoizedState=null,t.child=Ir(t,e,i.children,n)}function $a(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),sr(e.return,t)}function Na(e,t,n,o,i,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailExpiration:0,tailMode:i,lastEffect:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=o,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=r)}function ja(e,t,n){var o=t.pendingProps,i=o.revealOrder,r=o.tail;if(C(e,t,o.children,n),0!=(2&(o=k.current)))o=1&o|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n);else if(19===e.tag)$a(e,n);else if(null!==e.child){e=(e.child.return=e).child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(f(k,o),0==(2&t.mode))t.memoizedState=null;else switch(i){case\"forwards\":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===jr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Na(t,!1,i,n,r,t.lastEffect);break;case\"backwards\":for(i=t.child,t.child=n=null;null!==i;){if(null!==(e=i.alternate)&&null===jr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Na(t,!0,n,null,r,t.lastEffect);break;case\"together\":Na(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function za(e,t,n){null!==e&&(t.dependencies=e.dependencies);var o=t.expirationTime;if(0!==o&&ql(o),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(L(153));if(null!==t.child){for(n=rs(e=t.child,e.pendingProps),(t.child=n).return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=rs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ba(e,t){switch(e.tailMode){case\"hidden\":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case\"collapsed\":for(var n=e.tail,o=null;null!==n;)null!==n.alternate&&(o=n),n=n.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function qa(e,t){return{value:e,source:t,stack:qe(t)}}var Wa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n=(n.child.return=n).child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ua=function(e,t,n,o,i){var r=e.memoizedProps;if(r!==o){var a,l,s=t.stateNode;switch(Ar(b.current),e=null,n){case\"input\":r=Ge(s,r),o=Ge(s,o),e=[];break;case\"option\":r=et(s,r),o=et(s,o),e=[];break;case\"select\":r=v({},r,{value:void 0}),o=v({},o,{value:void 0}),e=[];break;case\"textarea\":r=nt(s,r),o=nt(s,o),e=[];break;default:\"function\"!=typeof r.onClick&&\"function\"==typeof o.onClick&&(s.onclick=Mn)}for(a in xn(n,o),n=null,r)if(!o.hasOwnProperty(a)&&r.hasOwnProperty(a)&&null!=r[a])if(\"style\"===a)for(l in s=r[a])s.hasOwnProperty(l)&&(n=n||{},n[l]=\"\");else\"dangerouslySetInnerHTML\"!==a&&\"children\"!==a&&\"suppressContentEditableWarning\"!==a&&\"suppressHydrationWarning\"!==a&&\"autoFocus\"!==a&&(ee.hasOwnProperty(a)?e=e||[]:(e=e||[]).push(a,null));for(a in o){var u=o[a],s=null!=r?r[a]:void 0;if(o.hasOwnProperty(a)&&u!==s&&(null!=u||null!=s))if(\"style\"===a)if(s){for(l in s)!s.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n=n||{},n[l]=\"\");for(l in u)u.hasOwnProperty(l)&&s[l]!==u[l]&&(n=n||{},n[l]=u[l])}else n||(e=e||[]).push(a,n),n=u;else\"dangerouslySetInnerHTML\"===a?(u=u?u.__html:void 0,s=s?s.__html:void 0,null!=u&&s!==u&&(e=e||[]).push(a,u)):\"children\"===a?s===u||\"string\"!=typeof u&&\"number\"!=typeof u||(e=e||[]).push(a,\"\"+u):\"suppressContentEditableWarning\"!==a&&\"suppressHydrationWarning\"!==a&&(ee.hasOwnProperty(a)?(null!=u&&Tn(i,a),e||s===u||(e=[])):(e=e||[]).push(a,u))}n&&(e=e||[]).push(\"style\",n),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},Ha=function(e,t,n,o){n!==o&&(t.effectTag|=4)},Qa=\"function\"==typeof WeakSet?WeakSet:Set;function Ga(e,t){var n=t.source;null===t.stack&&null!==n&&qe(n),null!==n&&Be(n.type),t=t.value,null!==e&&1===e.tag&&Be(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function Ka(e){var t=e.ref;if(null!==t)if(\"function\"==typeof t)try{t(null)}catch(t){Yl(e,t)}else t.current=null}function Ja(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n,o=t=t.next;do{}while((o.tag&e)===e&&(n=o.destroy,(o.destroy=void 0)!==n)&&n(),(o=o.next)!==t)}}function Ya(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n,o=t=t.next;do{}while((o.tag&e)===e&&(n=o.create,o.destroy=n()),(o=o.next)!==t)}}function Xa(e,o,t){switch(\"function\"==typeof ts&&ts(o),o.tag){case 0:case 11:case 14:case 15:case 22:var i;null!==(e=o.updateQueue)&&null!==(e=e.lastEffect)&&(i=e.next,Yi(97<t?97:t,function(){var e=i;do{var t=e.destroy;if(void 0!==t){var n=o;try{t()}catch(e){Yl(n,e)}}}while((e=e.next)!==i)}));break;case 1:if(Ka(o),\"function\"==typeof(t=o.stateNode).componentWillUnmount){var n=o;var r=t;try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(r){Yl(n,r)}}break;case 5:Ka(o);break;case 4:tl(e,o,t)}}function Za(e){return 5===e.tag||3===e.tag||4===e.tag}function el(e){e:{for(var t=e.return;null!==t;){if(Za(t)){var n=t;break e}t=t.return}throw Error(L(160))}switch(t=n.stateNode,n.tag){case 5:var o=!1;break;case 3:case 4:t=t.containerInfo,o=!0;break;default:throw Error(L(161))}16&n.effectTag&&(dt(t,\"\"),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Za(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n=(n.child.return=n).child}if(!(2&n.effectTag)){n=n.stateNode;break e}}(o?function e(t,n,o){var i=t.tag,r=5===i||6===i;if(r)t=r?t.stateNode:t.stateNode.instance,n?(8===o.nodeType?o.parentNode:o).insertBefore(t,n):(8===o.nodeType?(n=o.parentNode).insertBefore(t,o):(n=o).appendChild(t),null==(o=o._reactRootContainer)&&null===n.onclick&&(n.onclick=Mn));else if(4!==i&&null!==(t=t.child))for(e(t,n,o),t=t.sibling;null!==t;)e(t,n,o),t=t.sibling}:function e(t,n,o){var i=t.tag,r=5===i||6===i;if(r)t=r?t.stateNode:t.stateNode.instance,n?o.insertBefore(t,n):o.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,o),t=t.sibling;null!==t;)e(t,n,o),t=t.sibling})(e,n,t)}function tl(e,t,n){for(var o,i,r=t,a=!1;;){if(!a){a=r.return;e:for(;;){if(null===a)throw Error(L(160));switch(o=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:o=o.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===r.tag||6===r.tag){e:for(var l=e,s=r,u=n,c=s;;)if(Xa(l,c,u),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}i?(l=o,s=r.stateNode,(8===l.nodeType?l.parentNode:l).removeChild(s)):o.removeChild(r.stateNode)}else if(4===r.tag){if(null!==r.child){o=r.stateNode.containerInfo,i=!0,r=(r.child.return=r).child;continue}}else if(Xa(e,r,n),null!==r.child){r=(r.child.return=r).child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;4===(r=r.return).tag&&(a=!1)}r.sibling.return=r.return,r=r.sibling}}function nl(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return Ja(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var o=t.memoizedProps,i=null!==e?e.memoizedProps:o,r=(e=t.type,t.updateQueue);if((t.updateQueue=null)!==r){for(n[qn]=o,\"input\"===e&&\"radio\"===o.type&&null!=o.name&&Je(n,o),_n(e,i),t=_n(e,o),i=0;i<r.length;i+=2){var a=r[i],l=r[i+1];\"style\"===a?kn(n,l):\"dangerouslySetInnerHTML\"===a?ct(n,l):\"children\"===a?dt(n,l):xe(n,a,l,t)}switch(e){case\"input\":Ye(n,o);break;case\"textarea\":it(n,o);break;case\"select\":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!o.multiple,null!=(e=o.value)?tt(n,!!o.multiple,e,!1):t!==!!o.multiple&&(null!=o.defaultValue?tt(n,!!o.multiple,o.defaultValue,!0):tt(n,!!o.multiple,o.multiple?[]:\"\",!1))}}}return;case 6:if(null===t.stateNode)throw Error(L(162));return t.stateNode.nodeValue=t.memoizedProps;case 3:return(t=t.stateNode).hydrate&&(t.hydrate=!1,an(t.containerInfo));case 12:return;case 13:if(null===(n=t).memoizedState?o=!1:(o=!0,n=t.child,bl=m()),null!==n)e:for(e=n;;){if(5===e.tag)r=e.stateNode,o?\"function\"==typeof(r=r.style).setProperty?r.setProperty(\"display\",\"none\",\"important\"):r.display=\"none\":(r=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty(\"display\")?i.display:null,r.style.display=Cn(\"display\",i));else if(6===e.tag)e.stateNode.nodeValue=o?\"\":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(r=e.child.sibling).return=e,e=r;continue}if(null!==e.child){e=(e.child.return=e).child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return ol(t);case 19:return ol(t);case 17:return}throw Error(L(163))}function ol(n){var o,e=n.updateQueue;null!==e&&((n.updateQueue=null)===(o=n.stateNode)&&(o=n.stateNode=new Qa),e.forEach(function(e){var t=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=0,t=Rl(t=Il(),e,null),null!==(e=Ol(e,t))&&V(e)}.bind(null,n,e);o.has(e)||(o.add(e),e.then(t,t))}))}var il=\"function\"==typeof WeakMap?WeakMap:Map;function rl(e,t,n){(n=gr(n,null)).tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){wl||(wl=!0,Cl=o),Ga(e,t)},n}function al(t,n,e){(e=gr(e,null)).tag=3;var o,i=t.type.getDerivedStateFromError,r=(\"function\"==typeof i&&(o=n.value,e.payload=function(){return Ga(t,n),i(o)}),t.stateNode);return null!==r&&\"function\"==typeof r.componentDidCatch&&(e.callback=function(){\"function\"!=typeof i&&(null===kl?kl=new Set([this]):kl.add(this),Ga(t,n));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:\"\"})}),e}var ll=Math.ceil,sl=t.ReactCurrentDispatcher,ul=t.ReactCurrentOwner,cl=0,dl=3,fl=4,M=0,P=null,I=null,R=0,D=cl,gl=null,pl=1073741823,hl=1073741823,ml=null,vl=0,yl=!1,bl=0,O=null,wl=!1,Cl=null,kl=null,Sl=!1,xl=null,_l=90,El=null,Tl=0,Ml=null,Pl=0;function Il(){return 0!=(48&M)?1073741821-(m()/10|0):0!==Pl?Pl:Pl=1073741821-(m()/10|0)}function Rl(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var o=Ki();if(0==(4&t))return 99===o?1073741823:1073741822;if(0!=(16&M))return R;if(null!==n)e=tr(e,0|n.timeoutMs||5e3,250);else switch(o){case 99:e=1073741823;break;case 98:e=tr(e,150,100);break;case 97:case 96:e=tr(e,5e3,250);break;case 95:e=2;break;default:throw Error(L(326))}return null!==P&&e===R&&--e,e}function Dl(e,t){if(50<Tl)throw Tl=0,Ml=null,Error(L(185));var n;null!==(e=Ol(e,t))&&(n=Ki(),1073741823===t?0!=(8&M)&&0==(48&M)?Fl(e):(V(e),0===M&&_()):V(e),0==(4&M)||98!==n&&99!==n||(null===El?El=new Map([[e,t]]):(void 0===(n=El.get(e))||t<n)&&El.set(e,t)))}function Ol(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate,o=(null!==n&&n.expirationTime<t&&(n.expirationTime=t),e.return),i=null;if(null===o&&3===e.tag)i=e.stateNode;else for(;null!==o;){if(n=o.alternate,o.childExpirationTime<t&&(o.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===o.return&&3===o.tag){i=o.stateNode;break}o=o.return}return null!==i&&(P===i&&(ql(t),D===fl)&&fs(i,R),gs(i,t)),i}function Vl(e){var t,n=e.lastExpiredTime;return 0===n&&ds(e,n=e.firstPendingTime)?(e=(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e)<=2&&n!==e?0:e:n}function V(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Zi(Fl.bind(null,e));else{var t=Vl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var o=Il(),o=1073741823===t?99:1===t||2===t?95:(o=10*(1073741821-t)-10*(1073741821-o))<=0?99:o<=250?98:o<=5250?97:95;if(null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&o<=i)return;n!==Bi&&Vi(n)}e.callbackExpirationTime=t,e.callbackPriority=o,t=1073741823===t?Zi(Fl.bind(null,e)):Xi(o,Al.bind(null,e),{timeout:10*(1073741821-t)-m()}),e.callbackNode=t}}}function Al(e,t){if(Pl=0,t)ps(e,t=Il()),V(e);else{var n=Vl(e);if(0!==n){if(t=e.callbackNode,0!=(48&M))throw Error(L(327));if(Gl(),e===P&&n===R||Nl(e,n),null!==I){var o=M;M|=16;for(var i=zl();;)try{for(;null!==I&&!qi();)I=Wl(I);break}catch(t){jl(e,t)}if(ar(),M=o,sl.current=i,1===D)throw t=gl,Nl(e,n),fs(e,n),V(e),t;if(null===I)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,o=D,P=null,o){case cl:case 1:throw Error(L(345));case 2:ps(e,2<n?2:n);break;case dl:if(fs(e,n),n===(o=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Hl(i)),1073741823===pl&&10<(i=bl+500-m())){if(yl){var r=e.lastPingedTime;if(0===r||n<=r){e.lastPingedTime=n,Nl(e,n);break}}if(0!==(r=Vl(e))&&r!==n)break;if(0!==o&&o!==n){e.lastPingedTime=o;break}e.timeoutHandle=$n(Ql.bind(null,e),i)}else Ql(e);break;case fl:(fs(e,n),n===(o=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Hl(i)),yl&&(0===(i=e.lastPingedTime)||n<=i))?(e.lastPingedTime=n,Nl(e,n)):0!==(i=Vl(e))&&i!==n||(0!==o&&o!==n?e.lastPingedTime=o:(1073741823!==hl?o=10*(1073741821-hl)-m():1073741823===pl?o=0:(o=10*(1073741821-pl)-5e3,(o=(i=m())-o)<0&&(o=0),(n=10*(1073741821-n)-i)<(o=(o<120?120:o<480?480:o<1080?1080:o<1920?1920:o<3e3?3e3:o<4320?4320:1960*ll(o/1960))-o)&&(o=n)),10<o?e.timeoutHandle=$n(Ql.bind(null,e),o):Ql(e)));break;case 5:if(1073741823!==pl&&null!==ml){var r=pl,a=ml;if(10<(o=(o=0|a.busyMinDurationMs)<=0||(i=0|a.busyDelayMs,(r=m()-(10*(1073741821-r)-(0|a.timeoutMs||5e3)))<=i)?0:i+o-r)){fs(e,n),e.timeoutHandle=$n(Ql.bind(null,e),o);break}}Ql(e);break;default:throw Error(L(329))}if(V(e),e.callbackNode===t)return Al.bind(null,e)}}}return null}function Fl(e){var t=0!==(t=e.lastExpiredTime)?t:1073741823;if(0!=(48&M))throw Error(L(327));if(Gl(),e===P&&t===R||Nl(e,t),null!==I){var n=M;M|=16;for(var o=zl();;)try{for(;null!==I;)I=Wl(I);break}catch(t){jl(e,t)}if(ar(),M=n,sl.current=o,1===D)throw n=gl,Nl(e,t),fs(e,t),V(e),n;if(null!==I)throw Error(L(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,P=null,Ql(e),V(e)}return null}function Ll(e,t){var n=M;M|=1;try{return e(t)}finally{0===(M=n)&&_()}}function $l(e,t){var n=M;M=-2&M|8;try{e(t)}finally{0===(M=n)&&_()}}function Nl(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Nn(n)),null!==I)for(n=I.return;null!==n;){var o=n;switch(o.tag){case 1:null!=(o=o.type.childContextTypes)&&Ti();break;case 3:Lr(),d(p),d(g);break;case 5:Nr(o);break;case 4:Lr();break;case 13:case 19:d(k);break;case 10:lr(o)}n=n.return}I=rs((P=e).current,null),R=t,D=cl,hl=pl=1073741823,ml=gl=null,vl=0,yl=!1}function jl(e,t){for(;;){try{if(ar(),Br.current=pa,Wr)for(var n=S.memoizedState;null!==n;){var o=n.queue;null!==o&&(o.pending=null),n=n.next}if(qr=0,T=x=S=null,Wr=!1,null===I||null===I.return)return D=1,gl=t,I=null;e:{var i=e,r=I.return,a=t;if(t=R,(y=I).effectTag|=2048,(y.firstEffect=y.lastEffect=null)!==a&&\"object\"==typeof a&&\"function\"==typeof a.then){var l,s,u,c,d=a,f=(0==(2&y.mode)&&((l=y.alternate)?(y.updateQueue=l.updateQueue,y.memoizedState=l.memoizedState,y.expirationTime=l.expirationTime):(y.updateQueue=null,y.memoizedState=null)),0!=(1&k.current)),g=r;do{if(c=(c=13===g.tag)?null!==(s=g.memoizedState)?null!==s.dehydrated:void 0!==(u=g.memoizedProps).fallback&&(!0!==u.unstable_avoidThisFallback||!f):c){var p,h,m=g.updateQueue;if(null===m?((p=new Set).add(d),g.updateQueue=p):m.add(d),0==(2&g.mode)){g.effectTag|=64,y.effectTag&=-2981,1===y.tag&&(null===y.alternate?y.tag=17:((h=gr(1073741823,null)).tag=2,pr(y,h))),y.expirationTime=1073741823;break e}var v,a=void 0,y=t,b=i.pingCache;null===b?(b=i.pingCache=new il,a=new Set,b.set(d,a)):void 0===(a=b.get(d))&&(a=new Set,b.set(d,a)),a.has(y)||(a.add(y),v=Xl.bind(null,i,d,y),d.then(v,v)),g.effectTag|=4096,g.expirationTime=t;break e}}while(null!==(g=g.return));a=Error((Be(y.type)||\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\"+qe(y))}5!==D&&(D=2),a=qa(a,y),g=r;do{switch(g.tag){case 3:d=a,g.effectTag|=4096,g.expirationTime=t,hr(g,rl(g,d,t));break e;case 1:var d=a,w=g.type,C=g.stateNode;if(0==(64&g.effectTag)&&(\"function\"==typeof w.getDerivedStateFromError||null!==C&&\"function\"==typeof C.componentDidCatch&&(null===kl||!kl.has(C)))){g.effectTag|=4096,g.expirationTime=t,hr(g,al(g,d,t));break e}}}while(null!==(g=g.return))}I=Ul(I)}catch(e){t=e;continue}break}}function zl(){var e=sl.current;return sl.current=pa,null===e?pa:e}function Bl(e,t){e<pl&&2<e&&(pl=e),null!==t&&e<hl&&2<e&&(hl=e,ml=t)}function ql(e){vl<e&&(vl=e)}function Wl(e){var t=Zl(e.alternate,e,R);return e.memoizedProps=e.pendingProps,null===t&&(t=Ul(e)),ul.current=null,t}function Ul(e){I=e;do{var t=I.alternate;if(e=I.return,0==(2048&I.effectTag)){if(t=function(e,t,n){var o=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return h(t.type)&&Ti(),null;case 3:return Lr(),d(p),d(g),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!_a(t)||(t.effectTag|=4),null;case 5:Nr(t),n=Ar(Vr.current);var i=t.type;if(null!==e&&null!=t.stateNode)Ua(e,t,i,o,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!o){if(null===t.stateNode)throw Error(L(166));return null}if(e=Ar(b.current),_a(t)){var r,a,o=t.stateNode,i=t.type,l=t.memoizedProps;switch(o[Bn]=t,o[qn]=l,i){case\"iframe\":case\"object\":case\"embed\":c(\"load\",o);break;case\"video\":case\"audio\":for(e=0;e<Ct.length;e++)c(Ct[e],o);break;case\"source\":c(\"error\",o);break;case\"img\":case\"image\":case\"link\":c(\"error\",o),c(\"load\",o);break;case\"form\":c(\"reset\",o),c(\"submit\",o);break;case\"details\":c(\"toggle\",o);break;case\"input\":Ke(o,l),c(\"invalid\",o),Tn(n,\"onChange\");break;case\"select\":o._wrapperState={wasMultiple:!!l.multiple},c(\"invalid\",o),Tn(n,\"onChange\");break;case\"textarea\":ot(o,l),c(\"invalid\",o),Tn(n,\"onChange\")}for(r in xn(i,l),e=null,l)l.hasOwnProperty(r)&&(a=l[r],\"children\"===r?\"string\"==typeof a?o.textContent!==a&&(e=[\"children\",a]):\"number\"==typeof a&&o.textContent!==\"\"+a&&(e=[\"children\",\"\"+a]):ee.hasOwnProperty(r)&&null!=a&&Tn(n,r));switch(i){case\"input\":He(o),Xe(o,l,!0);break;case\"textarea\":He(o),rt(o);break;case\"select\":case\"option\":break;default:\"function\"==typeof l.onClick&&(o.onclick=Mn)}n=e,null!==(t.updateQueue=n)&&(t.effectTag|=4)}else{switch(r=9===n.nodeType?n:n.ownerDocument,(e=e===En?at(i):e)===En?\"script\"===i?((e=r.createElement(\"div\")).innerHTML=\"<script><\\/script>\",e=e.removeChild(e.firstChild)):\"string\"==typeof o.is?e=r.createElement(i,{is:o.is}):(e=r.createElement(i),\"select\"===i&&(r=e,o.multiple?r.multiple=!0:o.size&&(r.size=o.size))):e=r.createElementNS(e,i),e[Bn]=t,e[qn]=o,Wa(e,t),t.stateNode=e,r=_n(i,o),i){case\"iframe\":case\"object\":case\"embed\":c(\"load\",e),a=o;break;case\"video\":case\"audio\":for(a=0;a<Ct.length;a++)c(Ct[a],e);a=o;break;case\"source\":c(\"error\",e),a=o;break;case\"img\":case\"image\":case\"link\":c(\"error\",e),c(\"load\",e),a=o;break;case\"form\":c(\"reset\",e),c(\"submit\",e),a=o;break;case\"details\":c(\"toggle\",e),a=o;break;case\"input\":Ke(e,o),a=Ge(e,o),c(\"invalid\",e),Tn(n,\"onChange\");break;case\"option\":a=et(e,o);break;case\"select\":e._wrapperState={wasMultiple:!!o.multiple},a=v({},o,{value:void 0}),c(\"invalid\",e),Tn(n,\"onChange\");break;case\"textarea\":ot(e,o),a=nt(e,o),c(\"invalid\",e),Tn(n,\"onChange\");break;default:a=o}xn(i,a);var s,u=a;for(l in u)u.hasOwnProperty(l)&&(s=u[l],\"style\"===l?kn(e,s):\"dangerouslySetInnerHTML\"===l?null!=(s=s?s.__html:void 0)&&ct(e,s):\"children\"===l?\"string\"==typeof s?\"textarea\"===i&&\"\"===s||dt(e,s):\"number\"==typeof s&&dt(e,\"\"+s):\"suppressContentEditableWarning\"!==l&&\"suppressHydrationWarning\"!==l&&\"autoFocus\"!==l&&(ee.hasOwnProperty(l)?null!=s&&Tn(n,l):null!=s&&xe(e,l,s,r)));switch(i){case\"input\":He(e),Xe(e,o,!1);break;case\"textarea\":He(e),rt(e);break;case\"option\":null!=o.value&&e.setAttribute(\"value\",\"\"+We(o.value));break;case\"select\":e.multiple=!!o.multiple,null!=(n=o.value)?tt(e,!!o.multiple,n,!1):null!=o.defaultValue&&tt(e,!!o.multiple,o.defaultValue,!0);break;default:\"function\"==typeof a.onClick&&(e.onclick=Mn)}Fn(i,o)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ha(0,t,e.memoizedProps,o);else{if(\"string\"!=typeof o&&null===t.stateNode)throw Error(L(166));n=Ar(Vr.current),Ar(b.current),_a(t)?(n=t.stateNode,o=t.memoizedProps,n[Bn]=t,n.nodeValue!==o&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[Bn]=t).stateNode=n}return null;case 13:return d(k),o=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==o,o=!1,null===e?void 0!==t.memoizedProps.fallback&&_a(t):(o=null!==(i=e.memoizedState),n||null===i||null!==(i=e.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=i).nextEffect=l:(t.firstEffect=t.lastEffect=i).nextEffect=null,i.effectTag=8)),n&&!o&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&k.current)?D===cl&&(D=dl):(D!==cl&&D!==dl||(D=fl),0!==vl&&null!==P&&(fs(P,R),gs(P,vl)))),(n||o)&&(t.effectTag|=4),null);case 4:return Lr(),null;case 10:return lr(t),null;case 17:return h(t.type)&&Ti(),null;case 19:if(d(k),null===(o=t.memoizedState))return null;if(i=0!=(64&t.effectTag),null===(l=o.rendering)){if(i)Ba(o,!1);else if(D!==cl||null!==e&&0!=(64&e.effectTag))for(l=t.child;null!==l;){if(null!==(e=jr(l))){for(t.effectTag|=64,Ba(o,!1),null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===o.lastEffect&&(t.firstEffect=null),t.lastEffect=o.lastEffect,o=t.child;null!==o;)l=n,(i=o).effectTag&=2,i.nextEffect=null,i.firstEffect=null,(i.lastEffect=null)===(e=i.alternate)?(i.childExpirationTime=0,i.expirationTime=l,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,l=e.dependencies,i.dependencies=null===l?null:{expirationTime:l.expirationTime,firstContext:l.firstContext,responders:l.responders}),o=o.sibling;return f(k,1&k.current|2),t.child}l=l.sibling}}else{if(!i)if(null!==(e=jr(l))){if(t.effectTag|=64,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Ba(o,!0),null===o.tail&&\"hidden\"===o.tailMode&&!l.alternate)return null!==(t=t.lastEffect=o.lastEffect)&&(t.nextEffect=null),null}else 2*m()-o.renderingStartTime>o.tailExpiration&&1<n&&(t.effectTag|=64,Ba(o,!(i=!0)),t.expirationTime=t.childExpirationTime=n-1);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(0===o.tailExpiration&&(o.tailExpiration=m()+500),n=o.tail,o.rendering=n,o.tail=n.sibling,o.lastEffect=t.lastEffect,o.renderingStartTime=m(),n.sibling=null,t=k.current,f(k,i?1&t|2:1&t),n):null}throw Error(L(156,t.tag))}(t,I,R),1===R||1!==I.childExpirationTime){for(var n=0,o=I.child;null!==o;){var i=o.expirationTime,r=o.childExpirationTime;(n=n<i?i:n)<r&&(n=r),o=o.sibling}I.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=I.firstEffect),null!==I.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=I.firstEffect),e.lastEffect=I.lastEffect),1<I.effectTag)&&(null!==e.lastEffect?e.lastEffect.nextEffect=I:e.firstEffect=I,e.lastEffect=I)}else{if(null!==(t=function(e){switch(e.tag){case 1:h(e.type)&&Ti();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Lr(),d(p),d(g),0!=(64&(t=e.effectTag)))throw Error(L(285));return e.effectTag=-4097&t|64,e;case 5:return Nr(e),null;case 13:return d(k),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return d(k),null;case 4:return Lr(),null;case 10:return lr(e),null;default:return null}}(I)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=I.sibling))return t}while(null!==(I=e));return D===cl&&(D=5),null}function Hl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Ql(e){var t=Ki();return Yi(99,function(e,t){for(;Gl(),null!==xl;);if(0!=(48&M))throw Error(L(327));var n=e.finishedWork,o=e.finishedExpirationTime;if(null!==n){if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Hl(n);if(e.firstPendingTime=i,o<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:o<=e.firstSuspendedTime&&(e.firstSuspendedTime=o-1),o<=e.lastPingedTime&&(e.lastPingedTime=0),o<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===P&&(I=P=null,R=0),null!==(i=1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n).firstEffect:n:n.firstEffect)){var r=M,a=(M|=32,ul.current=null,Vn=hn,Dn());if(On(a)){if(\"selectionStart\"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{var s=(l=(l=a.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(s&&0!==s.rangeCount){l=s.anchorNode;var u=s.anchorOffset,c=s.focusNode;s=s.focusOffset;try{l.nodeType,c.nodeType}catch(e){l=null;break e}var d,f=0,g=-1,p=-1,h=0,m=0,v=a,y=null;t:for(;;){for(;v!==l||0!==u&&3!==v.nodeType||(g=f+u),v!==c||0!==s&&3!==v.nodeType||(p=f+s),3===v.nodeType&&(f+=v.nodeValue.length),null!==(d=v.firstChild);)y=v,v=d;for(;;){if(v===a)break t;if(y===l&&++h===u&&(g=f),y===c&&++m===s&&(p=f),null!==(d=v.nextSibling))break;y=(v=y).parentNode}v=d}l=-1===g||-1===p?null:{start:g,end:p}}else l=null}l=l||{start:0,end:0}}else l=null;hn=!(An={activeElementDetached:null,focusedElem:a,selectionRange:l}),O=i;do{try{!function(){for(;null!==O;){var e=O.effectTag;0!=(256&e)&&function(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:var n,o;return 256&t.effectTag&&null!==e&&(n=e.memoizedProps,o=e.memoizedState,t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:E(t.type,n),o),e.__reactInternalSnapshotBeforeUpdate=t);case 3:case 5:case 6:case 4:case 17:return}throw Error(L(163))}(O.alternate,O),0==(512&e)||Sl||(Sl=!0,Xi(97,function(){return Gl(),null})),O=O.nextEffect}}()}catch(e){if(null===O)throw Error(L(330));Yl(O,e),O=O.nextEffect}}while(null!==O);O=i;do{try{for(a=e,l=t;null!==O;){var b,w,C=O.effectTag;switch(16&C&&dt(O.stateNode,\"\"),128&C&&null!==(b=O.alternate)&&null!==(w=b.ref)&&(\"function\"==typeof w?w(null):w.current=null),1038&C){case 2:el(O),O.effectTag&=-3;break;case 6:el(O),O.effectTag&=-3,nl(O.alternate,O);break;case 1024:O.effectTag&=-1025;break;case 1028:O.effectTag&=-1025,nl(O.alternate,O);break;case 4:nl(O.alternate,O);break;case 8:tl(a,u=O,l),function e(t){var n=t.alternate;t.return=null,t.child=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.alternate=null,t.firstEffect=null,t.lastEffect=null,t.pendingProps=null,t.memoizedProps=null,(t.stateNode=null)!==n&&e(n)}(u)}O=O.nextEffect}}catch(e){if(null===O)throw Error(L(330));Yl(O,e),O=O.nextEffect}}while(null!==O);if(w=An,b=Dn(),C=w.focusedElem,l=w.selectionRange,b!==C&&C&&C.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):\"contains\"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(C.ownerDocument.documentElement,C)){null!==l&&On(C)&&(b=l.start,void 0===(w=l.end)&&(w=b),\"selectionStart\"in C?(C.selectionStart=b,C.selectionEnd=Math.min(w,C.value.length)):(w=(b=C.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=C.textContent.length,a=Math.min(l.start,u),l=void 0===l.end?a:Math.min(l.end,u),!w.extend&&l<a&&(u=l,l=a,a=u),u=Rn(C,a),c=Rn(C,l),u)&&c&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==c.node||w.focusOffset!==c.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),l<a?(w.addRange(b),w.extend(c.node,c.offset)):(b.setEnd(c.node,c.offset),w.addRange(b)))),b=[];for(w=C;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(\"function\"==typeof C.focus&&C.focus(),C=0;C<b.length;C++)(w=b[C]).element.scrollLeft=w.left,w.element.scrollTop=w.top}hn=!!Vn,An=Vn=null,e.current=n,O=i;do{try{for(C=e;null!==O;){var k,S,x=O.effectTag;36&x&&function(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return Ya(3,n);case 1:var o;return e=n.stateNode,4&n.effectTag&&(null===t?e.componentDidMount():(o=n.elementType===n.type?t.memoizedProps:E(n.type,t.memoizedProps),e.componentDidUpdate(o,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),null!==(t=n.updateQueue)&&vr(0,t,e);case 3:if(null!==(t=n.updateQueue)){if((e=null)!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}vr(0,t,e)}return;case 5:return e=n.stateNode,null===t&&4&n.effectTag&&Fn(n.type,n.memoizedProps)&&e.focus();case 6:case 4:case 12:return;case 13:return null===n.memoizedState&&null!==(n=n.alternate)&&null!==(n=n.memoizedState)&&null!==(n=n.dehydrated)&&an(n);case 19:case 17:case 20:case 21:return}throw Error(L(163))}(C,O.alternate,O),128&x&&(b=void 0,null!==(k=O.ref))&&(S=O.stateNode,O.tag,b=S,\"function\"==typeof k?k(b):k.current=b),O=O.nextEffect}}catch(e){if(null===O)throw Error(L(330));Yl(O,e),O=O.nextEffect}}while(null!==O);O=null,Wi(),M=r}else e.current=n;if(Sl)Sl=!1,xl=e,_l=t;else for(O=i;null!==O;)t=O.nextEffect,O.nextEffect=null,O=t;if(0===(t=e.firstPendingTime)&&(kl=null),1073741823===t?e===Ml?Tl++:(Tl=0,Ml=e):Tl=0,\"function\"==typeof es&&es(n.stateNode,o),V(e),wl)throw wl=!1,e=Cl,Cl=null,e;0==(8&M)&&_()}return null}.bind(null,e,t)),null}function Gl(){var e;if(90!==_l)return e=97<_l?97:_l,_l=90,Yi(e,Kl)}function Kl(){if(null===xl)return!1;var e=xl;if(xl=null,0!=(48&M))throw Error(L(331));var t=M;for(M|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:Ja(5,n),Ya(5,n)}}catch(t){if(null===e)throw Error(L(330));Yl(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return M=t,_(),!0}function Jl(e,t,n){pr(e,t=rl(e,t=qa(n,t),1073741823)),null!==(e=Ol(e,1073741823))&&V(e)}function Yl(e,t){if(3===e.tag)Jl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Jl(n,e,t);break}if(1===n.tag){var o=n.stateNode;if(\"function\"==typeof n.type.getDerivedStateFromError||\"function\"==typeof o.componentDidCatch&&(null===kl||!kl.has(o))){pr(n,e=al(n,e=qa(t,e),1073741823)),null!==(n=Ol(n,1073741823))&&V(n);break}}n=n.return}}function Xl(e,t,n){var o=e.pingCache;null!==o&&o.delete(t),P===e&&R===n?D===fl||D===dl&&1073741823===pl&&m()-bl<500?Nl(e,R):yl=!0:!ds(e,n)||0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,V(e))}var Zl=function(e,t,n){var o,i,r=t.expirationTime;if(null!==e){var a=t.pendingProps;if(e.memoizedProps!==a||p.current)w=!0;else{if(r<n){switch(w=!1,t.tag){case 3:Aa(t),Ea();break;case 5:if($r(t),4&t.mode&&1!==n&&a.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:h(t.type)&&Ii(t);break;case 4:Fr(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,a=t.type._context,f(nr,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&n<=r?La(e,t,n):(f(k,1&k.current),null!==(t=za(e,t,n))?t.sibling:null);f(k,1&k.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return ja(e,t,n);t.effectTag|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null),f(k,k.current),!r)return null}return za(e,t,n)}w=!1}}else w=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.type;return null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,a=Ei(t,g.current),ur(t,n),a=Hr(null,t,r,e,a,n),t.effectTag|=1,t=\"object\"==typeof a&&null!==a&&\"function\"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,h(r)?(l=!0,Ii(t)):l=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,dr(t),\"function\"==typeof(c=r.getDerivedStateFromProps)&&wr(t,0,c,e),a.updater=Cr,_r((t.stateNode=a)._reactInternalFiber=t,r,e,n),Va(null,t,r,!0,l,n)):(t.tag=0,C(null,t,a,n),t.child);case 16:e:{if(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,-1===(o=a)._status&&(o._status=0,i=(i=o._ctor)(),(o._result=i).then(function(e){0===o._status&&(e=e.default,o._status=1,o._result=e)},function(e){0===o._status&&(o._status=2,o._result=e)})),1!==a._status)throw a._result;switch(a=a._result,t.type=a,l=t.tag=function(e){if(\"function\"==typeof e)return is(e)?1:0;if(null!=e){if((e=e.$$typeof)===Ve)return 11;if(e===Le)return 14}return 2}(a),e=E(a,e),l){case 0:t=Da(null,t,a,e,n);break e;case 1:t=Oa(null,t,a,e,n);break e;case 11:t=Ma(null,t,a,e,n);break e;case 14:t=Pa(null,t,a,E(a.type,e),r,n);break e}throw Error(L(306,a,\"\"))}return t;case 0:return r=t.type,a=t.pendingProps,Da(e,t,r,a=t.elementType===r?a:E(r,a),n);case 1:return r=t.type,a=t.pendingProps,Oa(e,t,r,a=t.elementType===r?a:E(r,a),n);case 3:if(Aa(t),r=t.updateQueue,null===e||null===r)throw Error(L(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,fr(e,t),mr(t,r,null,n),(r=t.memoizedState.element)===a)Ea(),t=za(e,t,n);else{if((a=t.stateNode.hydrate)&&(ba=jn(t.stateNode.containerInfo.firstChild),ya=t,a=wa=!0),a)for(n=Rr(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else C(e,t,r,n),Ea();t=t.child}return t;case 5:return $r(t),null===e&&Sa(t),r=t.type,a=t.pendingProps,l=null!==e?e.memoizedProps:null,c=a.children,Ln(r,a)?c=null:null!==l&&Ln(r,l)&&(t.effectTag|=16),Ra(e,t),t=4&t.mode&&1!==n&&a.hidden?(t.expirationTime=t.childExpirationTime=1,null):(C(e,t,c,n),t.child);case 6:return null===e&&Sa(t),null;case 13:return La(e,t,n);case 4:return Fr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ir(t,null,r,n):C(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Ma(e,t,r,a=t.elementType===r?a:E(r,a),n);case 7:return C(e,t,t.pendingProps,n),t.child;case 8:case 12:return C(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,c=t.memoizedProps;var l=a.value,s=t.type._context;if(f(nr,s._currentValue),s._currentValue=l,null!==c)if(s=c.value,0==(l=Zo(s,l)?0:0|(\"function\"==typeof r._calculateChangedBits?r._calculateChangedBits(s,l):1073741823))){if(c.children===a.children&&!p.current){t=za(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.dependencies;if(null!==u)for(var c=s.child,d=u.firstContext;null!==d;){if(d.context===r&&0!=(d.observedBits&l)){1===s.tag&&((d=gr(n,null)).tag=2,pr(s,d)),s.expirationTime<n&&(s.expirationTime=n),null!==(d=s.alternate)&&d.expirationTime<n&&(d.expirationTime=n),sr(s.return,n),u.expirationTime<n&&(u.expirationTime=n);break}d=d.next}else c=10===s.tag&&s.type===t.type?null:s.child;if(null!==c)c.return=s;else for(c=s;null!==c;){if(c===t){c=null;break}if(null!==(s=c.sibling)){s.return=c.return,c=s;break}c=c.return}s=c}C(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(l=t.pendingProps).children,ur(t,n),r=r(a=y(a,l.unstable_observedBits)),t.effectTag|=1,C(e,t,r,n),t.child;case 14:return l=E(a=t.type,t.pendingProps),Pa(e,t,a,l=E(a.type,l),r,n);case 15:return Ia(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:E(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,h(r)?(e=!0,Ii(t)):e=!1,ur(t,n),Sr(t,r,a),_r(t,r,a,n),Va(null,t,r,!0,e,n);case 19:return ja(e,t,n)}throw Error(L(156,t.tag))},es=null,ts=null;function ns(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function os(e,t,n,o){return new ns(e,t,n,o)}function is(e){return(e=e.prototype)&&e.isReactComponent}function rs(e,t){var n=e.alternate;return null===n?((n=os(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,(n.alternate=e).alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function as(e,t,n,o,i,r){var a=2;if(\"function\"==typeof(o=e))is(e)&&(a=1);else if(\"string\"==typeof e)a=5;else e:switch(e){case Me:return ls(n.children,i,r,t);case Oe:a=8,i|=7;break;case Pe:a=8,i|=1;break;case Ie:return(e=os(12,n,t,8|i)).elementType=Ie,e.type=Ie,e.expirationTime=r,e;case Ae:return(e=os(13,n,t,i)).type=Ae,e.elementType=Ae,e.expirationTime=r,e;case Fe:return(e=os(19,n,t,i)).elementType=Fe,e.expirationTime=r,e;default:if(\"object\"==typeof e&&null!==e)switch(e.$$typeof){case Re:a=10;break e;case De:a=9;break e;case Ve:a=11;break e;case Le:a=14;break e;case $e:a=16,o=null;break e;case Ne:a=22;break e}throw Error(L(130,null==e?e:typeof e,\"\"))}return(t=os(a,n,t,i)).elementType=e,t.type=o,t.expirationTime=r,t}function ls(e,t,n,o){return(e=os(7,e,o,t)).expirationTime=n,e}function ss(e,t,n){return(e=os(6,e,null,t)).expirationTime=n,e}function us(e,t,n){return(t=os(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cs(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ds(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&t<=n&&e<=t}function fs(e,t){var n=e.firstSuspendedTime,o=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(t<o||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function gs(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(n<=t?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel)&&(e.nextKnownPendingLevel=t)}function ps(e,t){var n=e.lastExpiredTime;(0===n||t<n)&&(e.lastExpiredTime=t)}function hs(e,t,n,o){var i=t.current,r=Il(),a=yr.suspense,r=Rl(r,i,a);e:if(n){t:{if(xt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(L(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(h(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}}while(null!==(l=l.return));throw Error(L(171))}if(1===n.tag){var s=n.type;if(h(s)){n=Pi(n,s,l);break e}}n=l}else n=xi;null===t.context?t.context=n:t.pendingContext=n,(t=gr(r,a)).payload={element:e},null!==(o=void 0===o?null:o)&&(t.callback=o),pr(i,t),Dl(i,r)}function ms(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function vs(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function ys(e,t){vs(e,t),(e=e.alternate)&&vs(e,t)}function bs(e,t,n){var o,i,r=new cs(e,t,n=null!=n&&!0===n.hydrate),a=os(3,null,null,2===t?7:1===t?3:0);(r.current=a).stateNode=r,dr(a),e[Wn]=r.current,n&&0!==t&&(o=9===e.nodeType?e:e.ownerDocument,i=St(o),Jt.forEach(function(e){Nt(e,o,i)}),Yt.forEach(function(e){Nt(e,o,i)})),this._internalRoot=r}function ws(e){return e&&(1===e.nodeType||9===e.nodeType||11===e.nodeType||8===e.nodeType&&\" react-mount-point-unstable \"===e.nodeValue)}function Cs(e,t,n,o,i){var r,a,l,s=n._reactRootContainer;return s?(l=s._internalRoot,\"function\"==typeof i&&(r=i,i=function(){var e=ms(l);r.call(e)}),hs(t,l,e,i)):(l=(n._reactRootContainer=function(e,t){if(!(t=t||!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute(\"data-reactroot\"))))for(var n;n=e.lastChild;)e.removeChild(n);return new bs(e,0,t?{hydrate:!0}:void 0)}(n,o))._internalRoot,\"function\"==typeof i&&(a=i,i=function(){var e=ms(l);a.call(e)}),$l(function(){hs(t,l,e,i)})),ms(l)}function ks(e,t){if(ws(t))return function(e,t,n,o){return{$$typeof:Te,key:null==(o=3<arguments.length&&void 0!==o?o:null)?null:\"\"+o,children:e,containerInfo:t,implementation:n}}(e,t,null,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null);throw Error(L(200))}bs.prototype.render=function(e){hs(e,this._internalRoot,null,null)},bs.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;hs(null,e,null,function(){t[Wn]=null})},jt=function(e){var t;13===e.tag&&(Dl(e,t=tr(Il(),150,100)),ys(e,t))},zt=function(e){13===e.tag&&(Dl(e,3),ys(e,3))},Bt=function(e){var t;13===e.tag&&(Dl(e,t=Rl(Il(),e,null)),ys(e,t))},ie=function(e,t,n){switch(t){case\"input\":if(Ye(e,n),t=n.name,\"radio\"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+t)+'][type=\"radio\"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=Gn(o);if(!i)throw Error(L(90));Qe(o),Ye(o,i)}}}break;case\"textarea\":it(e,n);break;case\"select\":null!=(t=n.value)&&tt(e,!!n.multiple,t,!1)}},ce=Ll,de=function(e,t,n,o,i){var r=M;M|=4;try{return Yi(98,e.bind(null,t,n,o,i))}finally{0===(M=r)&&_()}};var ge=function(e,t){var n=M;M|=2;try{return e(t)}finally{0===(M=n)&&_()}},Xo={Events:[Hn,Qn,Gn,ne,Z,to,function(e){Pt(e,eo)},se,ue,vn,Dt,Gl,{current:!(fe=function(){var e;0==(49&M)&&(null!==El&&(e=El,El=null,e.forEach(function(e,t){ps(t,e),V(t)}),_()),Gl())})}]},Ss=(jo={findFiberByHostInstance:Un,bundleType:0,version:\"16.14.0\",rendererPackageName:\"react-dom\"}).findFiberByHostInstance,xs=v({},jo,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Tt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return Ss?Ss(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null});if(\"undefined\"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var _s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_s.isDisabled&&_s.supportsFiber)try{var Es=_s.inject(xs);es=function(e){try{_s.onCommitFiberRoot(Es,e,void 0,64==(64&e.current.effectTag))}catch(e){}},ts=function(e){try{_s.onCommitFiberUnmount(Es,e)}catch(e){}}}catch(xs){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xo,e.createPortal=ks,e.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0!==t)return null===(e=Tt(t))?null:e.stateNode;if(\"function\"==typeof e.render)throw Error(L(188));throw Error(L(268,Object.keys(e)))},e.flushSync=function(e,t){if(0!=(48&M))throw Error(L(187));var n=M;M|=1;try{return Yi(99,e.bind(null,t))}finally{M=n,_()}},e.hydrate=function(e,t,n){if(ws(t))return Cs(null,e,t,!0,n);throw Error(L(200))},e.render=function(e,t,n){if(ws(t))return Cs(null,e,t,!1,n);throw Error(L(200))},e.unmountComponentAtNode=function(e){if(ws(e))return!!e._reactRootContainer&&($l(function(){Cs(null,null,e,!1,function(){e._reactRootContainer=null,e[Wn]=null})}),!0);throw Error(L(40))},e.unstable_batchedUpdates=Ll,e.unstable_createPortal=function(e,t){return ks(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!ws(n))throw Error(L(200));if(null==e||void 0===e._reactInternalFiber)throw Error(L(38));return Cs(e,t,n,!1,o)},e.version=\"16.14.0\"},function(e,t,n){\"use strict\";e.exports=n(332)},function(F,l,L){\"use strict\";var r,s,u,t,n,o,e,i,a,c,d,f,g,p,h,m,v,y,b,w;function C(e,t){var n=e.length;for(e.push(t);;){var o=n-1>>>1,i=e[o];if(!(void 0!==i&&0<x(i,t)))break;e[o]=t,e[n]=i,n=o}}function k(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;for(var o=0,i=e.length;o<i;){var r=2*(o+1)-1,a=e[r],l=1+r,s=e[l];if(void 0!==a&&x(a,n)<0)o=void 0!==s&&x(s,a)<0?(e[o]=s,e[l]=n,l):(e[o]=a,e[r]=n,r);else{if(!(void 0!==s&&x(s,n)<0))break;e[o]=s,e[l]=n,o=l}}}}}function x(e,t){var n=e.sortIndex-t.sortIndex;return 0!=n?n:e.id-t.id}\"undefined\"==typeof window||\"function\"!=typeof MessageChannel?(n=t=null,o=function(){if(null!==t)try{var e=l.unstable_now();t(!0,e),t=null}catch(e){throw setTimeout(o,0),e}},e=Date.now(),l.unstable_now=function(){return Date.now()-e},r=function(e){null!==t?setTimeout(r,0,e):(t=e,setTimeout(o,0))},s=function(e,t){n=setTimeout(e,t)},u=function(){clearTimeout(n)},y=function(){return!1},b=l.unstable_forceFrameRate=function(){}):(i=window.performance,a=window.Date,c=window.setTimeout,d=window.clearTimeout,\"undefined\"!=typeof console&&(A=window.cancelAnimationFrame,\"function\"!=typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\"),\"function\"!=typeof A)&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\"),\"object\"==typeof i&&\"function\"==typeof i.now?l.unstable_now=function(){return i.now()}:(f=a.now(),l.unstable_now=function(){return a.now()-f}),g=!1,p=null,h=-1,m=5,v=0,y=function(){return l.unstable_now()>=v},b=function(){},l.unstable_forceFrameRate=function(e){e<0||125<e?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported\"):m=0<e?Math.floor(1e3/e):5},A=new MessageChannel,w=A.port2,A.port1.onmessage=function(){if(null!==p){var e=l.unstable_now();v=e+m;try{p(!0,e)?w.postMessage(null):(g=!1,p=null)}catch(e){throw w.postMessage(null),e}}else g=!1},r=function(e){p=e,g||(g=!0,w.postMessage(null))},s=function(e,t){h=c(function(){e(l.unstable_now())},t)},u=function(){d(h),h=-1});var _=[],E=[],$=1,T=null,M=3,P=!1,I=!1,R=!1;function D(e){for(var t=k(E);null!==t;){if(null===t.callback)S(E);else{if(!(t.startTime<=e))break;S(E),t.sortIndex=t.expirationTime,C(_,t)}t=k(E)}}function O(e){var t;R=!1,D(e),I||(null!==k(_)?(I=!0,r(V)):null!==(t=k(E))&&s(O,t.startTime-e))}function V(e,t){I=!1,R&&(R=!1,u()),P=!0;var n=M;try{for(D(t),T=k(_);null!==T&&(!(T.expirationTime>t)||e&&!y());){var o,i=T.callback;null!==i?(T.callback=null,M=T.priorityLevel,o=i(T.expirationTime<=t),t=l.unstable_now(),\"function\"==typeof o?T.callback=o:T===k(_)&&S(_),D(t)):S(_),T=k(_)}var r,a=null!==T||(null!==(r=k(E))&&s(O,r.startTime-t),!1);return a}finally{T=null,M=n,P=!1}}function N(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var A=b;l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(e){e.callback=null},l.unstable_continueExecution=function(){I||P||(I=!0,r(V))},l.unstable_getCurrentPriorityLevel=function(){return M},l.unstable_getFirstCallbackNode=function(){return k(_)},l.unstable_next=function(e){switch(M){case 1:case 2:case 3:var t=3;break;default:t=M}var n=M;M=t;try{return e()}finally{M=n}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=A,l.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=M;M=e;try{return t()}finally{M=n}},l.unstable_scheduleCallback=function(e,t,n){var o,i=l.unstable_now();return\"object\"==typeof n&&null!==n?(o=\"number\"==typeof(o=n.delay)&&0<o?i+o:i,n=\"number\"==typeof n.timeout?n.timeout:N(e)):(n=N(e),o=i),e={id:$++,callback:t,priorityLevel:e,startTime:o,expirationTime:n=o+n,sortIndex:-1},i<o?(e.sortIndex=o,C(E,e),null===k(_)&&e===k(E)&&(R?u():R=!0,s(O,o-i))):(e.sortIndex=n,C(_,e),I||P||(I=!0,r(V))),e},l.unstable_shouldYield=function(){var e=l.unstable_now(),t=(D(e),k(_));return t!==T&&null!==T&&null!==t&&null!==t.callback&&t.startTime<=e&&t.expirationTime<T.expirationTime||y()},l.unstable_wrapCallback=function(t){var n=M;return function(){var e=M;M=n;try{return t.apply(this,arguments)}finally{M=e}}}},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=n(204),s=(i(t,\"__esModule\",{value:!0}),t.default=void 0,a(n(194))),u=(n(33),n(41),n(72),n(86),n(119),n(209),n(210),n(189),r(n(226))),l=r(n(160)),c=r(n(245)),d=r(n(3)),i=r(n(4)),f=r(n(60)),a=r(n(5)),g=r(n(6)),p=r(n(120)),h=r(n(205)),m=r(n(337)),v=r(n(338)),n=(r=s.Component,(0,a.default)(y,r),o=(0,g.default)(y),(0,i.default)(y,[{key:\"getIconsOfType\",value:function(i,e){var r=this,t=this.props,a=t.selected,l=t.filter;return(0,u.default)(e).map(function(e){var t=e[1],e=e[0],n=t.displayPrefix+\" \"+t.selector,o=\"gmt-icons-manager__tab__item\";return a.value===n&&(o+=\" gmt-selected\"),s.default.createElement(v.default,{key:o+i+\"-\"+e+l,library:i,keyID:e,containerClass:o,className:n,setSelectedHandler:r.props.setSelected,data:t})})}}]),y);function y(){var r;(0,d.default)(this,y);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r=o.call.apply(o,[this].concat(t)),(0,p.default)((0,f.default)(r),\"componentDidMount\",function(){r.props.selected&&r.props.selected.value&&setTimeout(function(){var e=document.querySelector(\".gmt-selected\");e&&e.scrollIntoView(!1)},0)}),(0,p.default)((0,f.default)(r),\"handleFullIconList\",function(){var t=[];return(0,u.default)(r.props.icons).forEach(function(e){\"recommended\"!==e[0]&&(t=[].concat((0,c.default)(t),(0,c.default)(r.getIconsOfType(e[0],e[1]))))}),t.sort(function(e,t){return e.filter===t.filter?0:+(e.filter>t.filter)||-1})}),(0,p.default)((0,f.default)(r),\"getLibrary\",function(t){return goomento.config.icons.libraries.filter(function(e){return t===e.name})}),(0,p.default)((0,f.default)(r),\"handleRecommendedList\",function(){var o=[];return(0,u.default)(r.props.icons).forEach(function(e){var t=r.getLibrary(e[0])[0].icons||[],n={};e[1].forEach(function(e){t[e]&&(n[e]=t[e])}),o=[].concat((0,c.default)(o),(0,c.default)(r.getIconsOfType(e[0],n)))}),o}),(0,p.default)((0,f.default)(r),\"getIconsComponentList\",function(){var e=[],t=r.props,n=t.name,o=t.icons,i=t.filter;switch(n){case\"all\":e=r.handleFullIconList();break;case\"recommended\":e=r.handleRecommendedList();break;default:e=r.getIconsOfType(n,o)}return e=i?_.values(e).filter(function(e){return-1<e.props.data.name.toLowerCase().indexOf(i)}):e}),(0,p.default)((0,f.default)(r),\"render\",function(){var e,t=r.getIconsComponentList(),n=-1;for(e in t=_.values(t)){var o=t[e];if(o.props&&o.props.containerClass.includes(\"gmt-selected\")){n=(0,l.default)(e);break}}return s.default.createElement(m.default,{selectedIndex:n,items:t,parentRef:r.props.parentRef})}),r}n.propTypes={data:h.default.any,filter:h.default.any,icons:h.default.object,name:h.default.string,selected:h.default.object,setSelected:h.default.func,parentRef:h.default.any},t.default=n},function(e,t,n){var o=n(192),i=n(203);e.exports=function(e){if(o(e))return i(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(100),i=n(103),r=n(198);e.exports=function(e){if(void 0!==o&&null!=e[i]||null!=e[\"@@iterator\"])return r(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e.exports=function(){throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){\"use strict\";var o,i=n(2),r=n(204),a=n(0),l=(i(t,\"__esModule\",{value:!0}),t.default=void 0,n(113),a(n(3))),i=a(n(4)),s=a(n(60)),u=a(n(5)),c=a(n(6)),d=a(n(120)),a=a(n(205)),f=r(n(194)),n=(r=f.Component,(0,u.default)(g,r),o=(0,c.default)(g),(0,i.default)(g,[{key:\"componentDidMount\",value:function(){this.attachScrollListener(),this.maybeMeasureItem()}},{key:\"componentWillUnmount\",value:function(){this.clearDebounceScrollCallback();var e=document.getElementById(this.selectors.wrapper);e&&e.removeEventListener(\"scroll\",this.handleScroll)}},{key:\"clearDebounceScrollCallback\",value:function(){clearTimeout(this._debounce)}},{key:\"renderFirstElementForMeasurement\",value:function(){return f.default.createElement(\"div\",{id:\"gmt-icons-manager__tab__content\"},this.props.items[0])}},{key:\"hasSelected\",value:function(){return-1!==this.props.selectedIndex}}]),g);function g(){var a;(0,l.default)(this,g);for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a=o.call.apply(o,[this].concat(t)),(0,d.default)((0,s.default)(a),\"state\",{itemSize:{width:0,height:0},wrapperSize:{width:0,height:0},firstRowInView:0}),(0,d.default)((0,s.default)(a),\"selectors\",{item:\".gmt-icons-manager__tab__item\",wrapper:\"gmt-icons-manager__tab__wrapper\"}),(0,d.default)((0,s.default)(a),\"attachScrollListener\",function(){var e=document.getElementById(a.selectors.wrapper);e&&e.addEventListener(\"scroll\",a.handleScroll)}),(0,d.default)((0,s.default)(a),\"maybeMeasureItem\",function(){if(!a.state.itemSize.width){var e=document.getElementById(a.selectors.wrapper),t=document.querySelector(a.selectors.item);if(t)return t={itemSize:{width:t.offsetWidth+20,height:t.offsetHeight+20},wrapperSize:{width:e.offsetWidth,height:e.clientHeight}},a.setState(t,function(){a.maybeScrollToSelected()})}}),(0,d.default)((0,s.default)(a),\"maybeScrollToSelected\",function(){var e,t,n,o;a.hasSelected()&&(e=a.props.selectedIndex,n=(t=a.state).wrapperSize,t=t.itemSize,n=Math.floor(n.width/t.width),o=(Math.ceil(e/n)-1)*t.height,setTimeout(function(){a.props.parentRef.current.scrollTo({top:o,left:0,behavior:\"auto\"})},0))}),(0,d.default)((0,s.default)(a),\"handleScroll\",function(){a.clearDebounceScrollCallback(),a._debounce=setTimeout(function(){var e=document.getElementById(a.selectors.wrapper),t=a.state.itemSize;a.setState({firstRowInView:Math.floor(e.scrollTop/t.height)})},10)}),(0,d.default)((0,s.default)(a),\"render\",function(){var e,t,n,o=a.state,i=o.itemSize,o=o.wrapperSize,r=a.state.firstRowInView;return i.width?(t=a.props.items,n=Math.floor(o.width/i.width),e=(e=Math.ceil(t.length/n))-(r=e-(o=e<(o=Math.ceil(o.height/i.height)+4)?e:o)<r?e-o:r)-o,t=t.slice(r*n,1+((r+o)*n-1)),o={height:\"\".concat(r*i.height,\"px\")},n={height:\"\".concat(e*i.height,\"px\")},f.default.createElement(f.Fragment,null,f.default.createElement(\"div\",{className:\"gmt-icons-manager__tab__content__offset\",style:o}),f.default.createElement(\"div\",{id:\"gmt-icons-manager__tab__content\"},t),f.default.createElement(\"div\",{className:\"gmt-icons-manager__tab__content__tail\",style:n}))):a.renderFirstElementForMeasurement()}),a}(t.default=n).propTypes={items:a.default.array,selectedIndex:a.default.number,parentRef:a.default.any}},function(e,t,n){\"use strict\";var i,o=n(2),r=n(0),a=n(204),l=(o(t,\"__esModule\",{value:!0}),t.default=void 0,a(n(194))),s=(n(33),n(41),r(n(3))),u=r(n(60)),o=r(n(5)),a=r(n(6)),c=r(n(120)),r=r(n(205)),o=(n=l.Component,(0,o.default)(d,n),i=(0,a.default)(d),d);function d(){var e;(0,s.default)(this,d);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=i.call.apply(i,[this].concat(n)),(0,c.default)((0,u.default)(e),\"setSelected\",function(){e.props.setSelectedHandler({value:e.props.data.displayPrefix+\" \"+e.props.data.selector,library:e.props.library})}),(0,c.default)((0,u.default)(e),\"render\",function(){return l.default.createElement(\"div\",{className:e.props.containerClass,key:e.props.keyID,onClick:e.setSelected,filter:e.props.data.filter},l.default.createElement(\"div\",{className:\"gmt-icons-manager__tab__item__content\"},l.default.createElement(\"i\",{className:\"gmt-icons-manager__tab__item__icon \"+e.props.className}),l.default.createElement(\"div\",{className:\"gmt-icons-manager__tab__item__name\",title:e.props.data.name},e.props.data.name)))}),e}(t.default=o).propTypes={className:r.default.string,containerClass:r.default.string,data:r.default.object,keyID:r.default.string,library:r.default.string,selector:r.default.string,setSelectedHandler:r.default.func}},function(e,t,n){\"use strict\";var o=n(2),i=n(0),r=(o(t,\"__esModule\",{value:!0}),t.default=void 0,n(41),n(76),n(62),i(n(66))),a=i(n(3)),o=i(n(4)),l=i(n(120)),s=i(n(246)),i=((0,o.default)(u,[{key:\"normalizeIconList\",value:function(n){var o,i={};jQuery.each(n.icons,function(e,t){o=t,(o=\"object\"===(0,r.default)(o)?e:o)&&(i[o]={prefix:n.prefix,selector:n.prefix+o.trim(\":\"),name:goomentoCommon.helpers.upperCaseWords(o).trim(\":\").split(\"-\").join(\" \"),filter:o.trim(\":\"),displayPrefix:n.displayPrefix||n.prefix.replace(\"-\",\"\")})}),_.isEmpty(i)||(n.icons=i,this.loaded[n.name]=!0,goomento.iconManager.store.save(n),this.runCallback(n))}}]),u);function u(){var n=this;(0,a.default)(this,u),(0,l.default)(this,\"loaded\",{}),(0,l.default)(this,\"notifyCallback\",null),(0,l.default)(this,\"fetchIcons\",function(t){fetch(t.fetchJson,{mode:\"cors\"}).then(function(e){return e.json()}).then(function(e){return t.icons=e.icons,n.normalizeIconList(t)})}),(0,l.default)(this,\"runCallback\",function(e){return\"function\"!=typeof n.notifyCallback?e:n.notifyCallback(e)}),(0,l.default)(this,\"initIconType\",function(e,t){n.notifyCallback=t;var t=goomento.iconManager.store;return n.loaded[e.name]?(e.icons=t.getIcons(e),n.runCallback(e)):(e.enqueue&&e.enqueue.forEach(function(e){goomento.helpers.enqueueEditorStylesheet(e)}),e.url&&goomento.helpers.enqueueEditorStylesheet(e.url),t.isValid(e)?(t=t.get(s.default.getKey(e)),n.normalizeIconList(t)):e.icons&&e.icons.length?n.normalizeIconList(e):e.fetchJson?n.fetchIcons(e):void 0)})}t.default=i},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),r=r(n(6)),l=(n=goomentoModules.common.Component,(0,l.default)(s,n),o=(0,r.default)(s),(0,i.default)(s,[{key:\"getNamespace\",value:function(){return\"elements\"}},{key:\"dependency\",value:function(){return!!goomento.getCurrentElement()}},{key:\"defaultCommands\",value:function(){return{copy:function(){return goomento.getCurrentElement().copy()},duplicate:function(){return goomento.getCurrentElement().duplicate()},delete:function(){return goomento.getCurrentElement().removeElement()},paste:function(){return goomento.getCurrentElement().paste()},pasteStyle:function(){return goomento.getCurrentElement().pasteStyle()}}}},{key:\"defaultShortcuts\",value:function(){return{copy:{keys:\"ctrl+c\",exclude:[\"input\"]},duplicate:{keys:\"ctrl+d\"},delete:{keys:\"del\",exclude:[\"input\"]},paste:{keys:\"ctrl+v\",exclude:[\"input\"],dependency:function(){return goomento.getCurrentElement().isPasteEnabled()}},pasteStyle:{keys:\"ctrl+shift+v\",exclude:[\"input\"],dependency:function(){return goomento.getCurrentElement().pasteStyle&&goomentoCommon.storage.get(\"transfer\")}}}}}]),s);function s(){return(0,a.default)(this,s),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";e.exports=function(){setInterval(function(){goomentoCommon.ajax.addRequest(\"heartbeat\",{complete:function(e){_.isString(e)&&goomento.notifications.showToast({message:e})}})},12e4)}},function(e,t,n){\"use strict\";var i,o=n(2),r=n(0),a=(o(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),o=r(n(4)),l=r(n(60)),s=r(n(5)),u=r(n(6)),c=r(n(120)),d=r(n(343)),n=(r=goomentoModules.Module,(0,s.default)(f,r),i=(0,u.default)(f),(0,o.default)(f,[{key:\"onInit\",value:function(){this.compoment=new d.default({manager:this}),$e.components.register(this.compoment)}},{key:\"setActiveView\",value:function(e){return this.compoment.setDialogContent(e),this}},{key:\"addMenuItem\",value:function(e,t,n){this.compoment.setPageOptions(\"menu\",[[e,t,n]])}}]),f);function f(){var e;(0,a.default)(this,f);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=i.call.apply(i,[this].concat(n)),(0,c.default)((0,l.default)(e),\"menuItems\",{}),e}t.default=n},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),s=r(n(6)),u=r(n(344)),c=r(n(252)),d=r(n(353)),f=r(n(354)),n=(r=r(n(206)).default,(0,l.default)(g,r),o=(0,s.default)(g),(0,i.default)(g,[{key:\"getNamespace\",value:function(){return\"global/settings\"}},{key:\"getModalOptions\",value:function(){return{id:\"gmt-global-settings\",position:{of:\"#gmt-panel-control-general-settings\"},hide:{ignore:\"#gmt-panel-control-general-settings\"}}}},{key:\"initPages\",value:function(){this.pages||(this.pages={menu:{instance:u.default,options:{}},\"color-picker\":{instance:d.default,options:{}},\"global-colors\":{instance:c.default,options:{}},\"global-fonts\":{instance:f.default,options:{}}})}},{key:\"addPage\",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return this.initPages(),this.pages[e]={instance:t,options:n},this}},{key:\"getPage\",value:function(e){return this.initPages(),this.pages[e]}},{key:\"setPageOptions\",value:function(e,t){var n;return this.getPage(e)&&((n=this.getPage(e)).options=_.assign(n.options,t),this.addPage(e,n.instance,n.options)),this}},{key:\"getPageView\",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=null;return n=this.getPage(e)?new(e=this.getPage(e)).instance(jQuery.extend(!0,e.options,t)):n}},{key:\"activePageView\",value:function(e){this.setDialogContent(this.getPageView(e))}},{key:\"setDialogContent\",value:function(e){this.getDialog().modalContent.show(e)}},{key:\"defaultRoutes\",value:function(){var e=this;return{menu:function(){return e.activePageView(\"menu\")},\"global-colors\":function(){return e.activePageView(\"global-colors\")},\"global-fonts\":function(){return e.activePageView(\"global-fonts\")},\"color-picker\":function(){return e.activePageView(\"color-picker\")},close:function(){return e.activePageView(\"menu\")}}}},{key:\"onModalShow\",value:function(){$e.route(this.getNamespace()+\"/menu\"),jQuery(\"#gmt-panel-control-general-settings\").addClass(\"active\")}},{key:\"onModalHide\",value:function(){$e.routes.clearCurrent(\"global/settings\"),jQuery(\"#gmt-panel-control-general-settings\").removeClass(\"active\")}},{key:\"defaultCommands\",value:function(){var e=this;return{toggle:function(){return e.toggleModal()},save:function(){return goomento.saver.defaultSave()},publish:function(){return goomento.saver.publish()}}}},{key:\"defaultShortcuts\",value:function(){return{toggle:{keys:\"ctrl+alt+s\"},save:{keys:\"ctrl+s\"},\"change-device-mode\":{keys:\"ctrl+shift+m\"}}}}]),g);function g(){return(0,a.default)(this,g),o.apply(this,arguments)}t.default=n},function(e,t,n){\"use strict\";var o=n(0),i=o(n(245)),r=o(n(247)),o=n(349),n=Marionette.CompositeView.extend({id:\"gmt-panel-page-menu\",template:\"#tmpl-gmt-panel-menu\",childView:o,childViewContainer:\"#gmt-panel-page-menu-content\",initialize:function(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};for(e in this.collection=this.getGroups(),t)this.addItem.apply(this,(0,i.default)(t[e]))},getArrowClass:function(){return\"fas fa-chevron-\"+(goomentoCommon.config.isRTL?\"right\":\"left\")},onRender:function(){},onDestroy:function(){},groups:null,initGroups:function(){this.groups=new Backbone.Collection([]),this.groups.add({name:\"help\",title:\"Help\",items:[]}),this.groups.add({name:\"go_to\",title:\"Go to\",items:[]}),this.addItem({name:\"shortcut\",icon:\"far fa-keyboard\",title:\"Shortcuts\",type:\"page\",callback:function(){return $e.commands.run(\"shortcuts/toggle\")}},\"help\"),this.addItem({name:\"open-issue\",icon:\"fas fa-exclamation-triangle\",title:\"Open issue\",type:\"link\",newTab:!0,link:r.default.d(r.default.i)},\"help\"),this.addItem({name:\"contact-us\",icon:\"fas fa-phone-alt\",title:\"Contact us\",type:\"link\",newTab:!0,link:r.default.d(r.default.c)},\"help\"),this.addItem({name:\"view-page\",icon:\"fas fa-eye\",title:\"View page\",type:\"link\",newTab:!0,link:goomento.config.document.urls.permalink},\"go_to\"),this.addItem({name:\"view-homepage\",icon:\"fas fa-info\",title:\"Project homepage\",type:\"link\",newTab:!0,link:r.default.d(r.default.h)},\"go_to\"),this.addItem({name:\"view-github\",icon:\"fab fa-github\",title:\"GitHub project\",type:\"link\",newTab:!0,link:r.default.d(r.default.g)},\"go_to\"),goomento.userCan(\"manage_config\")&&this.addAdminMenu()},addAdminMenu:function(){this.groups.add({name:\"style\",title:\"Global style\",items:[]},{at:0}),this.groups.add({name:\"settings\",title:\"Settings\",items:[]},{at:1}),this.addItem({name:\"global-colors\",icon:\"fas fa-paint-brush\",title:\"Default Colors\",type:\"page\",callback:function(){return $e.route(\"global/settings/global-colors\")}},\"style\"),this.addItem({name:\"global-fonts\",icon:\"fas fa-font\",title:\"Default Fonts\",type:\"page\",callback:function(){return $e.route(\"global/settings/global-fonts\")}},\"style\"),this.addItem({name:\"color-picker\",icon:\"fas fa-paint-brush\",title:\"Color Picker\",type:\"page\",callback:function(){return $e.route(\"global/settings/color-picker\")}},\"style\")},getGroups:function(){return this.groups||this.initGroups(),this.groups},addItem:function(e,t,n){var o,t=this.getGroups().findWhere({name:t});t&&(t=t.get(\"items\"),(o=n?_.findWhere(t,{name:n}):o)?t.splice(t.indexOf(o),0,e):t.push(e))}});e.exports=n},function(e,t,i){function r(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+\": can't set as prototype!\")}var n=i(24),o=i(20);e.exports={set:Object.setPrototypeOf||(\"__proto__\"in{}?function(e,n,o){try{(o=i(71)(Function.call,i(250).f(Object.prototype,\"__proto__\").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return r(e,t),n?e.__proto__=t:o(e,t),e}}({},!1):void 0),check:r}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){function o(e,t,n){var o={},i=a(function(){return!!l[e]()||\"\u200b\u0085\"!=\"\u200b\u0085\"[e]()}),t=o[e]=i?t(c):l[e];n&&(o[n]=t),r(r.P+r.F*i,\"String\",o)}var r=n(26),i=n(38),a=n(21),l=n(348),n=\"[\"+l+\"]\",s=RegExp(\"^\"+n+n+\"*\"),u=RegExp(n+n+\"*$\"),c=o.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(s,\"\")),e=2&t?e.replace(u,\"\"):e};e.exports=o},function(e,t){e.exports=\"\\t\\n\\v\\f\\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\\u2028\\u2029\\ufeff\"},function(e,t,n){\"use strict\";n=n(350);e.exports=Marionette.CompositeView.extend({template:\"#tmpl-gmt-panel-menu-group\",className:\"gmt-panel-menu-group\",childView:n,childViewContainer:\".gmt-panel-menu-items\",initialize:function(){this.collection=new Backbone.Collection(this.model.get(\"items\"))},onChildviewClick:function(e){var t=e.model.get(\"callback\");_.isFunction(t)&&t.call(e)}})},function(e,t,n){\"use strict\";e.exports=Marionette.ItemView.extend({template:\"#tmpl-gmt-panel-menu-item\",className:function(){return\"gmt-panel-menu-item gmt-panel-menu-item-\"+this.model.get(\"name\")},triggers:{click:{event:\"click\",preventDefault:!1}}})},function(e,t,n){\"use strict\";n(72),n(188),n=n(254).extend({getUIType:function(){return\"color\"},ui:{input:\".gmt-panel-scheme-color-value\"},changeUIValue:function(e){this.ui.input.wpColorPicker(\"color\",e)},onBeforeDestroy:function(){this.ui.input.data(\"wpColorPicker\")&&this.ui.input.wpColorPicker(\"close\")},onRender:function(){var n=this;goomento.helpers.wpColorPicker(n.ui.input,{change:function(e,t){n.triggerMethod(\"value:change\",t.color.toString())}})}}),e.exports=n},function(e,t,n){\"use strict\";var o=n(254),n=o.extend({getUIType:function(){return\"typography\"},className:function(){return o.prototype.className.apply(this,arguments)+\" gmt-panel-box\"},ui:{heading:\".gmt-panel-heading\",allFields:\".gmt-panel-scheme-typography-item-field\",inputFields:\"input.gmt-panel-scheme-typography-item-field\",selectFields:\"select.gmt-panel-scheme-typography-item-field\",selectFamilyFields:'select.gmt-panel-scheme-typography-item-field[name=\"font_family\"]'},events:{\"input @ui.inputFields\":\"onFieldChange\",\"change @ui.selectFields\":\"onFieldChange\",\"click @ui.heading\":\"toggleVisibility\"},onRender:function(){var n=this;this.ui.inputFields.add(this.ui.selectFields).each(function(){var e=jQuery(this),t=e.attr(\"name\"),t=n.model.get(\"value\")[t];e.val(t)}),this.ui.selectFamilyFields.select2({dir:goomentoCommon.config.isRTL?\"rtl\":\"ltr\"})},toggleVisibility:function(){this.$el.toggleClass(\"gmt-open\")},changeUIValue:function(n){this.ui.allFields.each(function(){var e=jQuery(this),t=e.attr(\"name\"),t=n[t];e.val(t).trigger(\"change\")})},onFieldChange:function(e){var e=this.$(e.currentTarget),t=goomento.schemes.getSchemeValue(\"typography\",this.model.get(\"key\")).value,n=e.attr(\"name\");t[n]=e.val(),\"font_family\"!==n||_.isEmpty(t[n])||goomento.helpers.enqueueFont(t[n]),this.triggerMethod(\"value:change\",t)}});e.exports=n},function(e,t,n){\"use strict\";n=n(252).extend({getType:function(){return\"color-picker\"},getUIType:function(){return\"color\"},onSchemeChange:function(){},getViewComparator:function(){return this.orderView},orderView:function(e){return goomento.helpers.getColorPickerPaletteIndex(e.get(\"key\"))}});e.exports=n},function(e,t,n){\"use strict\";n=n(253).extend({getType:function(){return\"typography\"}});e.exports=n},function(e,t,n){\"use strict\";var i,o=n(2),r=n(0),a=(o(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),o=r(n(4)),l=r(n(60)),s=r(n(5)),u=r(n(6)),c=r(n(120)),d=r(n(356)),f=r(n(360)),n=(r=goomentoModules.Module,(0,s.default)(g,r),i=(0,u.default)(g),(0,o.default)(g,[{key:\"onEditorSaved\",value:function(e){e.latest_revisions&&this.addRevisions(e.latest_revisions)}},{key:\"attachEvents\",value:function(){goomento.channels.editor.on(\"saved\",this.onEditorSaved.bind(this))}},{key:\"getRevisions\",value:function(){return this.revisions||(this.revisions=new f.default([])),this.revisions}},{key:\"requestRevisions\",value:function(t){var n=this;!0!==this.isLastPage?goomentoCommon.ajax.addRequest(\"get_revisions\",{data:{page:this.currentPage},success:function(e){_.isEmpty(e)?n.isLastPage=!0:(n.currentPage++,n.addRevisions(e)),t&&t(n.revisions)},error:function(e){_.isString(e)&&goomento.notifications.showToast({message:e})}}):t&&t(this.revisions)}},{key:\"setEditorData\",value:function(e){var t=goomento.getRegion(\"sections\").currentView.collection;goomento.history.setActive(!1),t.reset(e),goomento.history.setActive(!0)}},{key:\"getRevisionDataAsync\",value:function(e,t){return _.extend(t,{data:{id:e}}),goomentoCommon.ajax.addRequest(\"get_revision_data\",t)}},{key:\"addRevisions\",value:function(e){var n=this;this.getRevisions(),e.forEach(function(e){var t=n.revisions.findWhere({id:e.id});t&&n.revisions.remove(t,{silent:!0}),e.current=!1,e.last=!1,e.id===goomento.config.current_revision_id&&(e.current=!0),e.id===goomento.config.last_revision_id&&(e.last=!0),n.revisions.add(e,{silent:!0})}),this.revisions.trigger(\"update\")}},{key:\"onRevisionsUpdate\",value:function(){$e.routes.is(\"revision\")&&$e.routes.refreshContainer(\"revision\")}},{key:\"onInit\",value:function(){this.compoment=new d.default({manager:this}),$e.components.register(this.compoment),this.attachEvents()}}]),g);function g(){var e;(0,a.default)(this,g);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=i.call.apply(i,[this].concat(n)),(0,c.default)((0,l.default)(e),\"revisions\",void 0),(0,c.default)((0,l.default)(e),\"currentPage\",1),(0,c.default)((0,l.default)(e),\"isLastPage\",!1),e}t.default=n},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),s=r(n(6)),u=r(n(357)),n=(r=r(n(206)).default,(0,l.default)(c,r),o=(0,s.default)(c),(0,i.default)(c,[{key:\"getNamespace\",value:function(){return\"revision/panel\"}},{key:\"getModalOptions\",value:function(){return{id:\"gmt-control-revision\",position:{of:\"#gmt-panel-control-revision\"},hide:{ignore:\"#gmt-panel-control-revision\"}}}},{key:\"getTabsWrapperSelector\",value:function(){return\"#gmt-panel-revisions\"}},{key:\"defaultShortcuts\",value:function(){return{toggle:{keys:\"ctrl+h\"},up:{keys:\"up\",scopes:[this.getNamespace()]},down:{keys:\"down\",scopes:[this.getNamespace()]}}}},{key:\"defaultCommands\",value:function(){var e=this;return{toggle:function(){return e.toggleModal()},up:function(){return e.navigate(!0)},down:function(){return e.navigate()}}}},{key:\"onModalShow\",value:function(){$e.route(this.getNamespace()+\"/show\"),jQuery(\"#gmt-panel-control-revision\").addClass(\"active\")}},{key:\"onModalHide\",value:function(){$e.routes.clearCurrent(this.getNamespace()),this.getCurrentView().onDestroy(),jQuery(\"#gmt-panel-control-revision\").removeClass(\"active\")}},{key:\"defaultRoutes\",value:function(){var e=this;return{close:function(){return e.hideModal()},show:function(){return e.getCurrentView()}}}},{key:\"getCurrentView\",value:function(){return this.currentPageView||(this.currentPageView=new u.default,this.setDialogContent(this.currentPageView)),this.currentPageView}},{key:\"navigate\",value:function(e){1<goomento.revisions.getRevisions().length&&this.getCurrentView().navigate(e)}}]),c);function c(){return(0,a.default)(this,c),o.apply(this,arguments)}t.default=n},function(e,t,n){\"use strict\";var o,i;e.exports=Marionette.CompositeView.extend({id:\"gmt-panel-revisions\",template:\"#tmpl-gmt-panel-revisions\",childView:n(358),emptyView:n(359),childViewContainer:\"#gmt-revisions-list\",ui:{discard:\".gmt-panel-scheme-discard .gmt-button\",apply:\".gmt-panel-scheme-save .gmt-button\",close:\".gmt-panel-scheme-close  .gmt-button\",loadMore:\".gmt-revisions-load-more\"},events:{\"click @ui.discard\":\"onDiscardClick\",\"click @ui.apply\":\"onApplyClick\",\"click @ui.close\":\"onCloseClick\",\"click @ui.loadMore\":\"onLoadMoreClick\"},isRevisionApplied:!1,isSavedAutosave:!1,initialize:function(){this.collection=goomento.revisions.getRevisions(),this.listenTo(goomento.channels.editor,\"saved\",this.onEditorSaved),this.listenTo(this.collection,\"update\",this.render),this.onLoadMoreClick()},getRevisionViewData:function(t){var n=this;goomento.revisions.getRevisionDataAsync(t.model.get(\"id\"),{success:function(e){goomento.revisions.setEditorData(e.elements),goomento.settings.page.model.set(e.settings),n.setRevisionsButtonsActive(!0),t.$el.removeClass(\"gmt-revision-item-loading\"),n.enterReviewMode()},error:function(e){t.$el.removeClass(\"gmt-revision-item-loading\"),i=o=null,alert(e)}})},setRevisionsButtonsActive:function(e){this.ui.apply.add(this.ui.discard).prop(\"disabled\",!e)},enterReviewMode:function(){goomento.changeEditMode(\"review\"),goomento.saver.setFlagEditorChange(!1)},exitReviewMode:function(){goomento.changeEditMode(\"edit\")},navigate:function(e){var t;!i||!o||this.children.length<=1||(t=this.collection.indexOf(o.model),(e=(e=e?t-1:t+1)<0?this.collection.length-1:e)>=this.collection.length&&(e=0),this.children.findByIndex(e).ui.detailsArea.trigger(\"click\"))},onCloseClick:function(){$e.run(\"revision/panel/toggle\")},onEditorSaved:function(e){this.exitReviewMode(),this.setRevisionsButtonsActive(!1),i=e.config.last_revision_id,this.render()},onApplyClick:function(){goomento.saver.setFlagEditorChange(!0),goomento.saver.update({}),this.isRevisionApplied=!0,i=goomento.config.last_revision_id,goomento.history.getHistories().reset()},onLoadMoreClick:function(){var e=this,t=goomento.revisions.getRevisions().length;goomento.revisions.requestRevisions(function(){goomento.revisions.getRevisions().length===t&&e.ui.loadMore.hide()})},onDiscardClick:function(){goomento.revisions.setEditorData(goomento.config.data),goomento.saver.setFlagEditorChange(this.isSavedAutosave||this.isRevisionApplied),this.isRevisionApplied=!1,this.setRevisionsButtonsActive(!1),i=goomento.config.last_revision_id,o&&o.$el.removeClass(\"gmt-revision-current-preview gmt-revision-item-loading\"),o=null,this.exitReviewMode(),this.onRenderCollection()},onDestroy:function(){i&&i!==goomento.config.last_revision_id&&this.onDiscardClick(),this.exitReviewMode()},onRenderCollection:function(){var e;(i=i||goomento.config.last_revision_id)&&(e=this.collection.findWhere({id:i}))&&(o=this.children.findByModelCid(e.cid)).$el.addClass(\"gmt-revision-current-preview\")},onChildviewDetailsAreaClick:function(e){var t=this,n=e.model.get(\"id\");n!==i&&(!0===e.model.current&&(i=null),o&&o.$el.removeClass(\"gmt-revision-current-preview gmt-revision-item-loading\"),e.$el.addClass(\"gmt-revision-current-preview gmt-revision-item-loading\"),goomento.saver.isEditorChanged()&&i&&goomento.config.last_revision_id===i?goomento.saver.saveEditor({status:\"autosave\",label:\"Before enter revision review\",onSuccess:function(){t.getRevisionViewData(e),t.isSavedAutosave=!0}}):t.getRevisionViewData(e),o=e,i=n)}})},function(e,t,n){\"use strict\";e.exports=Marionette.ItemView.extend({template:\"#tmpl-gmt-panel-revisions-revision-item\",className:\"gmt-revision-item\",ui:{detailsArea:\".gmt-revision-item__details\"},triggers:{\"click @ui.detailsArea\":\"detailsArea:click\"}})},function(e,t,n){\"use strict\";e.exports=Marionette.ItemView.extend({template:\"#tmpl-gmt-panel-revisions-no-revisions\",id:\"gmt-panel-revisions-no-revisions\",className:\"gmt-nerd-box\"})},function(e,t,n){\"use strict\";n=n(361);e.exports=Backbone.Collection.extend({model:n,comparator:function(e){return-e.get(\"timestamp\")}})},function(e,t,n){\"use strict\";var o;(o=Backbone.Model.extend()).prototype.sync=function(){return null},e.exports=o},function(e,t,n){\"use strict\";var i,o=n(2),r=n(0),a=(o(t,\"__esModule\",{value:!0}),t.default=void 0,n(28),r(n(3))),o=r(n(4)),l=r(n(60)),s=r(n(5)),u=r(n(6)),c=r(n(120)),d=r(n(363)),f=r(n(364)),g=n(368),p=n(369),n=(r=goomentoModules.Module,(0,s.default)(h,r),i=(0,u.default)(h),(0,o.default)(h,[{key:\"addBehaviors\",value:function(e){return e.ElementHistory={behaviorClass:g},e.CollectionHistory={behaviorClass:p},e}},{key:\"addCollectionBehavior\",value:function(e){return e.CollectionHistory={behaviorClass:p},e}},{key:\"getActionLabel\",value:function(e){return this.translations[e.type]||e.type}},{key:\"navigate\",value:function(e){var t=this.items.find(function(e){return\"not_applied\"===e.get(\"status\")}),n=this.items.indexOf(t),n=e?n-1:n+1;!e&&!t||n<0||n>=this.items.length||this.doItem(n)}},{key:\"updatePanelPageCurrentItem\",value:function(){$e.routes.is(\"history/panel/show\")&&$e.components.get(\"history/panel\").getCurrentPageView().updateCurrentItem()}},{key:\"onPanelSave\",value:function(){var e;2<=this.items.length&&(e=this.items.at(this.items.length-2),this.editorSaved=\"not_applied\"===e.get(\"status\"))}},{key:\"onInit\",value:function(){$e.components.register(new f.default({manager:this})),goomento.hooks.addFilter(\"elements/base/behaviors\",this.addBehaviors.bind(this)),goomento.hooks.addFilter(\"elements/base-section-container/behaviors\",this.addCollectionBehavior.bind(this)),goomento.channels.data.on(\"drag:before:update\",this.startMovingItem.bind(this)).on(\"drag:after:update\",this.endItem.bind(this)).on(\"element:before:add\",this.startAddElement.bind(this)).on(\"element:after:add\",this.endItem.bind(this)).on(\"element:before:remove\",this.startRemoveElement.bind(this)).on(\"element:after:remove\",this.endItem.bind(this)).on(\"element:before:paste:style\",this.startPasteStyle.bind(this)).on(\"element:after:paste:style\",this.endItem.bind(this)).on(\"element:before:reset:style\",this.startResetStyle.bind(this)).on(\"element:after:reset:style\",this.endItem.bind(this)).on(\"section:before:drop\",this.startDropElement.bind(this)).on(\"section:after:drop\",this.endItem.bind(this)).on(\"template:before:insert\",this.startInsertTemplate.bind(this)).on(\"template:after:insert\",this.endItem.bind(this)),goomento.channels.editor.on(\"saved\",this.onPanelSave.bind(this))}},{key:\"setActive\",value:function(e){this.active=e}},{key:\"getActive\",value:function(){return this.active}},{key:\"getHistories\",value:function(){return this.items}},{key:\"startItem\",value:function(e){this.currentItemID=this.addItem(e)}},{key:\"endItem\",value:function(){this.currentItemID=null}},{key:\"isItemStarted\",value:function(){return null!==this.currentItemID}},{key:\"addItem\",value:function(e){if(this.getActive()){for(this.items.length||this.items.add({status:\"not_applied\",title:\"Editing started\",subTitle:\"\",action:\"\",editing_started:!0});this.items.length&&\"applied\"===this.items.first().get(\"status\");)this.items.shift();var t=this.currentItemID||(new Date).getTime(),n=this.items.findWhere({id:t}),o=(n||(n=new d.default({id:t,title:e.title,subTitle:e.subTitle,action:this.getActionLabel(e),type:e.type,elementType:e.elementType}),this.startItemTitle=\"\",this.startItemAction=\"\"),0);return\"column\"===e.elementType&&\"remove\"===e.type&&\"column\"===n.get(\"elementType\")&&(o=1),n.get(\"items\").add(e,{at:o}),this.items.add(n,{at:0}),this.updatePanelPageCurrentItem(),t}}},{key:\"doItem\",value:function(e){this.setActive(!1);var t=this.items.at(e);\"not_applied\"===t.get(\"status\")?this.undoItem(e):this.redoItem(e),this.setActive(!0);var n,e=goomento.getPanelView().getCurrentPageView();$e.routes.isPartOf(\"panel/editor\")?e.getOption(\"editedElementView\").isDestroyed?$e.route(\"history/panel/show\"):n=e.getOption(\"editedElementView\"):t instanceof Backbone.Model&&t.get(\"items\").length&&(e=t.get(\"items\").first().get(\"history\"))&&e.behavior.view.model&&(n=this.findView(e.behavior.view.model.get(\"id\"))),this.updatePanelPageCurrentItem(),n&&!goomento.helpers.isInViewport(n.$el[0],goomento.$previewContents.find(\"html\")[0])&&goomento.helpers.scrollToView(n.$el),t.get(\"editing_started\")&&!this.editorSaved&&goomento.saver.setFlagEditorChange(!1)}},{key:\"undoItem\",value:function(e){for(var t,n=0;n<e;n++)\"not_applied\"===(t=this.items.at(n)).get(\"status\")&&(t.get(\"items\").each(function(e){var t=e.get(\"history\");t&&t.behavior.restore(e)}),t.set(\"status\",\"applied\"))}},{key:\"redoItem\",value:function(e){for(var t=this.items.length-1;e<=t;t--){var n,o=this.items.at(t);\"applied\"===o.get(\"status\")&&(n=_.toArray(o.get(\"items\").models).reverse(),_(n).each(function(e){var t=e.get(\"history\");t&&t.behavior.restore(e,!0)}),o.set(\"status\",\"not_applied\"))}}},{key:\"getModelLabel\",value:function(e){return e instanceof Backbone.Model||(e=new Backbone.Model(e)),goomento.getElementData(e).title}},{key:\"findView\",value:function(n,e){var o=this,i=!1;return e=e||goomento.getPreviewView().children,_.each(e._views,function(e){var t;i||(t=e.getEditModel?e.getEditModel():e.model,n===t.get(\"id\")?i=e:e.children&&e.children.length&&(i=o.findView(n,e.children)))}),i}},{key:\"startMovingItem\",value:function(e){goomento.history.startItem({type:\"move\",title:this.getModelLabel(e),elementType:e.elType||e.get(\"elType\")})}},{key:\"startInsertTemplate\",value:function(e){goomento.history.startItem({type:\"add\",title:\"Template\",subTitle:e.get(\"title\"),elementType:\"template\"})}},{key:\"startDropElement\",value:function(){var e=goomento.channels.panelElements.request(\"element:selected\");goomento.history.startItem({type:\"add\",title:this.getModelLabel(e.model),elementType:e.model.get(\"widgetType\")||e.model.get(\"elType\")})}},{key:\"startAddElement\",value:function(e){goomento.history.startItem({type:\"add\",title:this.getModelLabel(e),elementType:e.elType})}},{key:\"startPasteStyle\",value:function(e){goomento.history.startItem({type:\"paste_style\",title:this.getModelLabel(e),elementType:e.get(\"elType\")})}},{key:\"startResetStyle\",value:function(e){goomento.history.startItem({type:\"reset_style\",title:this.getModelLabel(e),elementType:e.get(\"elType\")})}},{key:\"startRemoveElement\",value:function(e){goomento.history.startItem({type:\"remove\",title:this.getModelLabel(e),elementType:e.get(\"elType\")})}}]),h);function h(){var e;(0,a.default)(this,h);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=i.call.apply(i,[this].concat(n)),(0,c.default)((0,l.default)(e),\"currentItemID\",null),(0,c.default)((0,l.default)(e),\"items\",new Backbone.Collection([],{model:d.default})),(0,c.default)((0,l.default)(e),\"editorSaved\",!1),(0,c.default)((0,l.default)(e),\"active\",!0),(0,c.default)((0,l.default)(e),\"translations\",{add:\"Added\",remove:\"Removed\",change:\"Edited\",move:\"Moved\",paste_style:\"Style pasted\",reset_style:\"Style reset\"}),e}t.default=n},function(e,t,n){\"use strict\";e.exports=Backbone.Model.extend({defaults:{id:0,type:\"\",elementType:\"\",status:\"not_applied\",title:\"\",subTitle:\"\",action:\"\",history:{}},initialize:function(){this.set(\"items\",new Backbone.Collection)}})},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),s=r(n(6)),u=r(n(206)),c=r(n(365)),n=(r=u.default,(0,l.default)(d,r),o=(0,s.default)(d),(0,i.default)(d,[{key:\"getNamespace\",value:function(){return\"history/panel\"}},{key:\"getModalOptions\",value:function(){return{id:\"gmt-control-history\",position:{of:\"#gmt-panel-control-history\"},hide:{ignore:\"#gmt-panel-control-history\"}}}},{key:\"defaultShortcuts\",value:function(){return{toggle:{keys:\"ctrl+shift+h\"},undo:{keys:\"ctrl+z\",exclude:[\"input\"],scopes:[\"panel\",\"navigator\"]},redo:{keys:\"ctrl+shift+z, ctrl+y\",exclude:[\"input\"],scopes:[\"panel\",\"navigator\"]}}}},{key:\"defaultCommands\",value:function(){var e=this;return{toggle:function(){return e.toggleModal()},undo:function(){return e.manager.navigate()},redo:function(){return e.manager.navigate(!0)}}}},{key:\"onModalShow\",value:function(){$e.route(this.getNamespace()+\"/show\"),jQuery(\"#gmt-panel-control-history\").addClass(\"active\")}},{key:\"onModalHide\",value:function(){$e.routes.clearCurrent(this.getNamespace()),jQuery(\"#gmt-panel-control-history\").removeClass(\"active\")}},{key:\"defaultRoutes\",value:function(){var e=this;return{close:function(){return e.hideModal()},show:function(){return e.getCurrentPageView()}}}},{key:\"getCurrentPageView\",value:function(){return this.currentPageView||(this.currentPageView=new c.default({collection:goomento.history.getHistories()}),this.setDialogContent(this.currentPageView)),this.currentPageView}}]),d);function d(){return(0,a.default)(this,d),o.apply(this,arguments)}t.default=n},function(e,t,n){\"use strict\";var o=n(0),i=(n(28),n(255),o(n(366))),o=o(n(367));e.exports=Marionette.CompositeView.extend({id:\"gmt-panel-history\",template:\"#tmpl-gmt-panel-history-page\",childView:i.default,childViewContainer:\"#gmt-history-list\",emptyView:o.default,currentItem:null,updateCurrentItem:function(){var t=this;this.children.length<=1||_.defer(function(){var e=t.collection.find(function(e){return\"not_applied\"===e.get(\"status\")}),e=t.children.findByModel(e);e&&(t.currentItem&&t.currentItem.removeClass(\"gmt-history-item-current\"),t.currentItem=e.$el,t.currentItem.addClass(\"gmt-history-item-current\"))})},onRender:function(){this.updateCurrentItem()},onRenderEmpty:function(){this.$el.addClass(\"gmt-empty\")},onChildviewClick:function(e,t){e.$el!==this.currentItem&&(e=t.model.collection.findIndex(t.model),goomento.history.doItem(e))}})},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),r=r(n(6)),l=(n=Marionette.ItemView,(0,l.default)(s,n),o=(0,r.default)(s),(0,i.default)(s,[{key:\"getTemplate\",value:function(){return\"#tmpl-gmt-panel-history-item\"}},{key:\"className\",value:function(){return\"gmt-history-item gmt-history-item-\"+this.model.get(\"status\")}},{key:\"triggers\",value:function(){return{click:\"click\"}}}]),s);function s(){return(0,a.default)(this,s),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),r=r(n(6)),l=(n=Marionette.ItemView,(0,l.default)(s,n),o=(0,r.default)(s),(0,i.default)(s,[{key:\"getTemplate\",value:function(){return\"#tmpl-gmt-panel-history-no-items\"}},{key:\"id\",value:function(){return\"gmt-panel-history-no-items\"}},{key:\"onDestroy\",value:function(){this._parent.$el.removeClass(\"gmt-empty\")}}]),s);function s(){return(0,a.default)(this,s),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";var r=n(0)(n(44));n(41),e.exports=Marionette.Behavior.extend({oldValues:[],listenerAttached:!1,initialize:function(){this.lazySaveTextHistory=_.debounce(this.saveTextHistory.bind(this),800)},onBeforeRender:function(){this.listenerAttached||(this.listenTo(this.view.getEditModel().get(\"settings\"),\"change\",this.saveHistory),this.listenerAttached=!0)},saveTextHistory:function(e,t,n){var o={},i=e.get(n.name),i=i instanceof Backbone.Collection?i.toJSON():i,i=(o[n.name]={old:this.oldValues[n.name],new:i},{type:\"change\",elementType:\"control\",title:goomento.history.getModelLabel(e),subTitle:n.label,history:{behavior:this,changed:o,model:this.view.getEditModel().toJSON()}});goomento.history.addItem(i),delete this.oldValues[n.name]},saveHistory:function(t,e){var n,o,i;goomento.history.getActive()&&(n=(0,r.default)(t.changed),!(o=t.controls[n[0]])&&e&&e.control&&(o=e.control),n.length)&&o&&(1===n.length?(_.isUndefined(this.oldValues[o.name])&&(this.oldValues[o.name]=t.previous(o.name)),goomento.history.isItemStarted()?this.saveTextHistory(t,n,o):this.lazySaveTextHistory(t,n,o)):(i={},_.each(n,function(e){i[e]={old:t.previous(e),new:t.get(e)}}),e={type:\"change\",elementType:\"control\",title:goomento.history.getModelLabel(t),history:{behavior:this,changed:i,model:this.view.getEditModel().toJSON()}},1===n.length&&(e.subTitle=o.label),goomento.history.addItem(e)))},restore:function(e,n){var t,o,i=e.get(\"history\"),r=i.model.id,r=goomento.history.findView(r);r&&(t=(r.getEditModel?r.getEditModel():r.model).get(\"settings\"),(r=r.getBehavior(\"ElementHistory\")).stopListening(t,\"change\",this.saveHistory),o={},_.each(i.changed,function(e,t){o[t]=n?e.new:e.old}),t.setExternalChange(o),e.set(\"status\",n?\"not_applied\":\"applied\"),r.listenTo(t,\"change\",this.saveHistory))}})},function(e,t,a){\"use strict\";e.exports=Marionette.Behavior.extend({listenerAttached:!1,onBeforeRender:function(){this.view.collection&&!this.listenerAttached&&(this.view.collection.on(\"update\",this.saveCollectionHistory,this).on(\"reset\",this.onDeleteAllContent,this),this.listenerAttached=!0)},onDeleteAllContent:function(e,t){var n;goomento.history.getActive()&&(n=[],_.each(t.previousModels,function(e){n.push(e.toJSON({copyHtmlCache:!0}))}),t={type:\"remove\",elementType:\"section\",title:\"All content\",history:{behavior:this,collection:t.previousModels,event:t,models:n}},goomento.history.addItem(t))},saveCollectionHistory:function(e,t){var n,o,i,r,a;goomento.history.getActive()&&(i=t.add?(o=(n=t.changes.added)[0],\"add\"):(o=(n=t.changes.removed)[0],\"remove\"),r=goomento.history.getModelLabel(o))&&(a=[],_.each(n,function(e){a.push(e.toJSON({copyHtmlCache:!0}))}),n={type:i,elementType:o.get(\"elType\"),elementID:o.get(\"id\"),title:r,history:{behavior:this,collection:e,event:t,models:a}},goomento.history.addItem(n))},add:function(e,t,n){\"section\"===e[0].elType&&_.each(e,function(e){e.allowEmpty=!0}),(t=t.$el.hasClass(\"gmt-inner\")&&t.$el[0].ownerDocument!==goomento.$previewContents[0]?goomento.getPreviewView():t).addChildModel(e,{at:n,silent:0})},remove:function(e,t){t.remove(e,{silent:0})},restore:function(e,t){var n,o=e.get(\"type\"),i=e.get(\"history\"),r=!1,e=a(207);switch((n=(n=i.behavior.view instanceof e&&(e=i.behavior.view.model.get(\"id\"),e=goomento.history.findView(e))?e.getBehavior(\"CollectionHistory\"):n)||i.behavior).view.collection.off(\"update\",n.saveCollectionHistory),o){case\"add\":t?this.add(i.models,n.view,i.event.index):this.remove(i.models,n.view.collection),r=!0;break;case\"remove\":t?this.remove(i.models,n.view.collection):this.add(i.models,n.view,i.event.index),r=!0}return n.view.collection.on(\"update\",n.saveCollectionHistory,i.behavior),r}})},function(e,t,n){\"use strict\";var o=n(17),i=n(39),r=n(23),a=n(10)(\"species\");e.exports=function(e){e=o[e];r&&e&&!e[a]&&i.f(e,a,{configurable:!0,get:function(){return this}})}},function(e,t,n){\"use strict\";n(41),e.exports=goomentoModules.Module.extend({getDefaultSettings:function(){return{actions:{},classes:{list:\"gmt-context-menu-list\",group:\"gmt-context-menu-list__group\",groupPrefix:\"gmt-context-menu-list__group-\",item:\"gmt-context-menu-list__item\",itemTypePrefix:\"gmt-context-menu-list__item-\",itemTitle:\"gmt-context-menu-list__item__title\",itemShortcut:\"gmt-context-menu-list__item__shortcut\",iconShortcut:\"gmt-context-menu-list__item__icon\",itemDisabled:\"gmt-context-menu-list__item--disabled\",divider:\"gmt-context-menu-list__divider\",hidden:\"gmt-hidden\"}}},buildActionItem:function(e){var t=this,n=t.getSettings(\"classes\"),o=jQuery(\"<div>\",{class:n.item+\" \"+n.itemTypePrefix+e.name}),i=jQuery(\"<div>\",{class:n.itemTitle}).text(e.title),r=jQuery(\"<div>\",{class:n.iconShortcut});return e.icon&&r.html(jQuery(\"<i>\",{class:e.icon})),o.append(r,i),e.shortcut&&(r=jQuery(\"<div>\",{class:n.itemShortcut}).html(e.shortcut),o.append(r)),e.callback&&o.on(\"click\",function(){t.runAction(e)}),e.$item=o},buildActionsList:function(){var n=this,o=n.getSettings(\"classes\"),e=n.getSettings(\"groups\"),i=jQuery(\"<div>\",{class:o.list});return e.forEach(function(e){var t=jQuery(\"<div>\",{class:o.group+\" \"+o.groupPrefix+e.name});e.actions.forEach(function(e){t.append(n.buildActionItem(e))}),i.append(t),e.$item=t}),i},toggleGroupVisibility:function(e,t){e.$item.toggleClass(this.getSettings(\"classes.hidden\"),!t)},toggleActionVisibility:function(e,t){e.$item.toggleClass(this.getSettings(\"classes.hidden\"),!t)},toggleActionUsability:function(e,t){e.$item.toggleClass(this.getSettings(\"classes.itemDisabled\"),!t)},isActionEnabled:function(e){return!(!e.callback&&!e.groups)&&(!e.isEnabled||e.isEnabled())},runAction:function(e){this.isActionEnabled(e)&&(e.callback(),this.getModal().hide())},initModal:function(){var e;this.getModal=function(){return e=e||goomentoCommon.dialogsManager.createWidget(\"simple\",{className:\"gmt-context-menu\",message:this.buildActionsList(),iframe:goomento.$preview,effects:{hide:\"hide\",show:\"show\"},hide:{onOutsideContextMenu:!0},position:{my:(goomentoCommon.config.isRTL?\"right\":\"left\")+\" top\",collision:\"fit\"}})}},show:function(e){var n=this,t=n.getModal();t.setSettings(\"position\",{of:e}),n.getSettings(\"groups\").forEach(function(e){var t=!1!==e.isVisible;n.toggleGroupVisibility(e,t),t&&e.actions.forEach(function(e){var t=!1!==e.isVisible;n.toggleActionVisibility(e,t),t&&n.toggleActionUsability(e,n.isActionEnabled(e))})}),t.show()},destroy:function(){this.getModal().destroy()},onInit:function(){this.initModal()}})},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(50)),s=r(n(25)),u=r(n(5)),c=r(n(6)),n=(r=r(n(260)).default,(0,u.default)(d,r),o=(0,c.default)(d),(0,i.default)(d,[{key:\"className\",value:function(){return(0,l.default)((0,s.default)(d.prototype),\"className\",this).call(this)+\" gmt-add-section-inline\"}},{key:\"fadeToDeath\",value:function(){var e=this;e.$el.slideUp(function(){e.destroy()})}},{key:\"paste\",value:function(){(0,l.default)((0,s.default)(d.prototype),\"paste\",this).call(this),this.destroy()}},{key:\"onCloseButtonClick\",value:function(){this.fadeToDeath()}},{key:\"onPresetSelected\",value:function(e){(0,l.default)((0,s.default)(d.prototype),\"onPresetSelected\",this).call(this,e),this.destroy()}},{key:\"onAddTemplateButtonClick\",value:function(){(0,l.default)((0,s.default)(d.prototype),\"onAddTemplateButtonClick\",this).call(this),this.destroy()}},{key:\"onDropping\",value:function(){(0,l.default)((0,s.default)(d.prototype),\"onDropping\",this).call(this),this.destroy()}}]),d);function d(){return(0,a.default)(this,d),o.apply(this,arguments)}t.default=n},function(e,t,n){\"use strict\";var o=n(207),i=n(374),i=o.extend({template:Marionette.TemplateCache.get(\"#tmpl-gmt-column-content\"),emptyView:i,childViewContainer:\"> .gmt-column-wrap > .gmt-widget-wrap\",toggleEditTools:!0,behaviors:function(){var e=o.prototype.behaviors.apply(this,arguments);return _.extend(e,{Sortable:{behaviorClass:n(231),elChildType:\"widget\"},Resizable:{behaviorClass:n(375)}}),goomento.hooks.applyFilters(\"elements/column/behaviors\",e,this)},className:function(){return o.prototype.className.apply(this,arguments)+\" gmt-column gmt-\"+(this.isInner()?\"inner\":\"top\")+\"-column\"},tagName:function(){return this.model.getSetting(\"html_tag\")||\"div\"},ui:function(){var e=o.prototype.ui.apply(this,arguments);return e.columnInner=\"> .gmt-column-wrap\",e.percentsTooltip=\"> .gmt-element-overlay .gmt-column-percents-tooltip\",e},getEditButtons:function(){var e=goomento.getElementData(this.model),t={};return t.edit={title:\"Edit %1\".replace(\"%1\",e.title),icon:\"fas fa-columns\"},t.duplicate={title:\"Duplicate  %1\".replace(\"%1\",e.title),icon:\"fas fa-clone\"},t.add={title:\"Add %1\".replace(\"%1\",e.title),icon:\"fas fa-plus\"},t.remove={title:\"Delete  %1\".replace(\"%1\",e.title),icon:\"fas fa-trash\"},t},initialize:function(){o.prototype.initialize.apply(this,arguments),this.addControlValidator(\"_inline_size\",this.onEditorInlineSizeInputChange)},attachElContent:function(){o.prototype.attachElContent.apply(this,arguments);var e=jQuery(\"<div>\",{class:\"gmt-column-percents-tooltip\"});this.$el.children(\".gmt-element-overlay\").append(e)},getContextMenuGroups:function(){var e=o.prototype.getContextMenuGroups.apply(this,arguments),t=e.indexOf(_.findWhere(e,{name:\"general\"}));return e.splice(t+1,0,{name:\"addNew\",actions:[{name:\"addNew\",icon:\"fas fa-plus\",title:\"Add New Column\",callback:this.addNewColumn.bind(this)}]}),e},isDroppingAllowed:function(){var e=goomento.channels.panelElements.request(\"element:selected\");return!!e&&(\"widget\"===(e=e.model.get(\"elType\"))||\"section\"===e)},getPercentsForDisplay:function(){return(+this.model.getSetting(\"_inline_size\")||this.getPercentSize()).toFixed(1)+\"%\"},changeSizeUI:function(){var e=this,t=e.model.getSetting(\"_column_size\");e.$el.attr(\"data-col\",t),_.defer(function(){e.ui.percentsTooltip&&e.ui.percentsTooltip.text(e.getPercentsForDisplay())})},getPercentSize:function(e){return+((e=e||this.el.getBoundingClientRect().width)/this.$el.parent().width()*100).toFixed(3)},getSortableOptions:function(){return{connectWith:\".gmt-widget-wrap\",items:\"> .gmt-element\"}},changeChildContainerClasses:function(){this.collection.isEmpty()?this.ui.columnInner.removeClass(\"gmt-element-populated\").addClass(\"gmt-element-empty\"):this.ui.columnInner.removeClass(\"gmt-element-empty\").addClass(\"gmt-element-populated\")},addNewColumn:function(){this.trigger(\"request:add:new\")},onCollectionChanged:function(){o.prototype.onCollectionChanged.apply(this,arguments),this.changeChildContainerClasses()},onRender:function(){var n=this;o.prototype.onRender.apply(n,arguments),n.changeChildContainerClasses(),n.changeSizeUI(),n.$el.html5Droppable({items:\" > .gmt-column-wrap > .gmt-widget-wrap > .gmt-element, >.gmt-column-wrap > .gmt-widget-wrap > .gmt-empty-view > .gmt-first-add\",axis:[\"vertical\"],groups:[\"goomento-element\"],isDroppingAllowed:n.isDroppingAllowed.bind(n),currentElementclass:\"gmt-html5dnd-current-element\",placeholderclass:\"gmt-sortable-placeholder gmt-widget-placeholder\",hasDraggingOnChildclass:\"gmt-dragging-on-child\",onDropping:function(e,t){t.stopPropagation(),goomento.getPreviewView().onPanelElementDragEnd();t=jQuery(this).index();\"bottom\"===e&&t++,n.addElementFromPanel({at:t})}})},onSettingsChanged:function(e){o.prototype.onSettingsChanged.apply(this,arguments);e=e.changedAttributes();(\"_column_size\"in e||\"_inline_size\"in e)&&this.changeSizeUI()},onEditorInlineSizeInputChange:function(e,t){var n=[],o=this.model.getSetting(\"_column_size\");if(100===o)n.push(\"Could not resize one column\");else{t=t||o;try{this._parent.resizeChild(this,+t,+e)}catch(e){e.message===this._parent.errors.columnWidthTooLarge&&n.push(e.message)}}return n},onAddButtonClick:function(e){e.stopPropagation(),this.addNewColumn()}});e.exports=i},function(e,t,n){\"use strict\";e.exports=Marionette.ItemView.extend({template:\"#tmpl-gmt-empty-preview\",className:\"gmt-empty-view\",events:{click:\"onClickAdd\"},behaviors:function(){return{contextMenu:{behaviorClass:n(208),groups:this.getContextMenuGroups()}}},getContextMenuGroups:function(){return[{name:\"general\",actions:[{name:\"paste\",title:\"Paste\",callback:this.paste.bind(this),isEnabled:this.isPasteEnabled.bind(this)}]}]},paste:function(){var t=this,e=goomentoCommon.storage.get(\"transfer\").elements,n=0;e.forEach(function(e){t._parent.addChildElement(e,{at:n,clone:!0}),n++})},isPasteEnabled:function(){var e=goomentoCommon.storage.get(\"transfer\");return!!e&&(\"widget\"===e.elementsType||\"section\"===e.elementsType)},onClickAdd:function(){$e.route(\"panel/elements/categories\")}})},function(e,t,n){\"use strict\";var o=Marionette.Behavior.extend({defaults:{handles:goomentoCommon.config.isRTL?\"w\":\"e\"},events:{resizestart:\"onResizeStart\",resizestop:\"onResizeStop\",resize:\"onResize\"},initialize:function(){Marionette.Behavior.prototype.initialize.apply(this,arguments),this.listenTo(goomento.channels.dataEditMode,\"switch\",this.onEditModeSwitched)},active:function(){var e,t;goomento.userCan(\"save\")&&(this.deactivate(),delete(t=_.clone(this.options)).behaviorClass,e=this.getChildViewContainer(),t=_.extend({},t),e.resizable(t))},deactivate:function(){this.getChildViewContainer().data(\"resizable\")&&this.getChildViewContainer().resizable(\"destroy\")},onEditModeSwitched:function(e){\"edit\"===e?this.active():this.deactivate()},onRender:function(){var e=this;_.defer(function(){e.onEditModeSwitched(goomento.channels.dataEditMode.request(\"activeMode\"))})},onDestroy:function(){this.deactivate()},onResizeStart:function(e){e.stopPropagation(),this.view.$el.data(\"originalWidth\",this.view.el.getBoundingClientRect().width),this.view.triggerMethod(\"request:resize:start\",e)},onResizeStop:function(e){e.stopPropagation(),this.view.triggerMethod(\"request:resize:stop\")},onResize:function(e,t){e.stopPropagation(),this.view.triggerMethod(\"request:resize\",t,e)},getChildViewContainer:function(){return this.$el}});e.exports=o},function(e,t,n){\"use strict\";n(41),n(98),e.exports=function(){function e(e){var t=(e=e.originalEvent).error;t&&n.addError({type:t.name,message:t.message,url:e.filename,line:e.lineno,column:e.colno})}var n=this,o=[],t={};this.DEBUG=!1;this._addTriggerLogger=function(){goomento.channels.data.trigger=this.listen(goomento.channels.data.trigger,\"channels trigger\"),goomento.channels.deviceMode.trigger=this.listen(goomento.channels.deviceMode.trigger,\"channels trigger\"),goomento.channels.dataEditMode.trigger=this.listen(goomento.channels.dataEditMode.trigger,\"channels trigger\"),goomento.channels.editor.trigger=this.listen(goomento.channels.editor.trigger,\"channels trigger\"),goomento.channels.panelElements.trigger=this.listen(goomento.channels.panelElements.trigger,\"channels trigger\"),goomento.channels.templates.trigger=this.listen(goomento.channels.templates.trigger,\"channels trigger\"),$e.run=this.listen($e.run,\"command run\"),$e.route=this.listen($e.route,\"command run\")},this.listen=function(o,i){var e=o;return e=this.DEBUG?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return goomento.debug.log(i,t),o.apply(this,t)}:e},this.init=function(){t.$window=jQuery(window),t.$window.on(\"error\",e),this.DEBUG&&jQuery(window).on(\"goomento:init\",this._addTriggerLogger.bind(this)),n.sendErrors=_.debounce(n.sendErrors,200)},this.addCustomError=function(e,t,n){t={type:e.name,message:e.message,url:e.fileName||e.sourceURL,line:e.lineNumber||e.line,column:e.columnNumber||e.column,customFields:{category:t||\"general\",tag:n}};t.url||(n=e.stack.match(/\\n {4}at (.*?(?=:(\\d+):(\\d+)))/))&&(t.url=n[1],t.line=n[2],t.column=n[3]),this.addError(t)},this.addError=function(e){var t={type:\"Error\",timestamp:Math.floor((new Date).getTime()/1e3),message:null,url:null,line:null,column:null,customFields:{}};o.push(jQuery.extend(!0,t,e))},this.sendErrors=function(){t.$window.off(\"error\",e)},this.log=function(){var e;this.DEBUG&&(e=console).log.apply(e,arguments)}}},function(e,t,n){\"use strict\";var o=n(0),a=o(n(66)),r=o(n(44));n(28),n(33),n(41),n(62),n(72),n(188),n(76),n(256),n(98),n(189),n(248),e.exports={_enqueuedFonts:[],_enqueuedIconFonts:[],_inlineSvg:[],elementsHierarchy:{section:{column:{widget:null,section:null}}},enqueueCSS:function(e,t){var n='<link href=\"'+e+'\" rel=\"stylesheet\" type=\"text/css\">';t&&!t.find('link[href=\"'+e+'\"]').length&&t.find(\"link:last\").after(n)},enqueuePreviewStylesheet:function(e){this.enqueueCSS(e,goomento.$previewContents)},enqueueEditorStylesheet:function(e){this.enqueueCSS(e,goomentoCommon.elements.$document)},enqueueStylesheet:function(e){goomentoCommon.helpers.deprecatedMethod(\"goomento.helpers.enqueueStylesheet()\",\"2.6.0\",\"goomento.helpers.enqueuePreviewStylesheet()\"),this.enqueuePreviewStylesheet(e)},fetchInlineSvg:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];fetch(e).then(function(e){return e.text()}).then(function(e){t&&t(e)})},getInlineSvg:function(t,n){if(t.id){if(this._inlineSvg.hasOwnProperty(t.id))return this._inlineSvg[t.id];var o=this;this.fetchInlineSvg(t.url,function(e){e&&(o._inlineSvg[t.id]=e,n&&n.render(),goomento.channels.editor.trigger(\"svg:insertion\",e,t.id))})}},enqueueIconFonts:function(e){var t,n=this;-1!==this._enqueuedIconFonts.indexOf(e)||goomentoConfig.icons_update_needed||(t=this.getIconLibrarySettings(e))&&(t.enqueue&&t.enqueue.forEach(function(e){n.enqueuePreviewStylesheet(e),n.enqueueEditorStylesheet(e)}),t.url&&(this.enqueuePreviewStylesheet(t.url),this.enqueueEditorStylesheet(t.url)),this._enqueuedIconFonts.push(e),goomento.channels.editor.trigger(\"fontIcon:insertion\",e,t))},getIconLibrarySettings:function(t){var e=goomento.config.icons.libraries.filter(function(e){return t===e.name});return!(!e[0]||!e[0].name)&&e[0]},renderIcon:function(e,t){var n,o,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:\"i\",a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:\"value\";return t&&t.library?(n=t.library,t=t.value,\"svg\"===n?\"panel\"===a?'<img src=\"'+t.url+'\">':{rendered:!0,value:this.getInlineSvg(t,e)}:(o=this.getIconLibrarySettings(n))&&!o.hasOwnProperty(\"isCustom\")?(this.enqueueIconFonts(n),\"panel\"===a?\"<\"+r+' class=\"'+t+'\"></'+r+\">\":(o=r+this.getUniqueID(),e.addRenderAttribute(o,i),e.addRenderAttribute(o,\"class\",t),o=\"<\"+r+\" \"+e.getRenderAttributeString(o)+\"></\"+r+\">\",\"object\"===a?{rendered:!0,value:o}:o)):(goomento.channels.editor.trigger(\"Icon:insertion\",n,t,i,r,e),\"object\"===a?{rendered:!1}:void 0)):\"object\"===a?{rendered:!1}:void 0},enqueueFont:function(e){if(-1===this._enqueuedFonts.indexOf(e)){var t,n=goomento.config.controls.font.options[e],o={ru_RU:\"cyrillic\",uk:\"cyrillic\",bg_BG:\"cyrillic\",vi:\"vietnamese\",el:\"greek\",he_IL:\"hebrew\"};switch(n){case\"googlefonts\":t=\"https://fonts.googleapis.com/css?family=\"+e+\":100,100italic,200,200italic,300,300italic,400,400italic,500,500italic,600,600italic,700,700italic,800,800italic,900,900italic\",o[goomento.config.locale]&&(t+=\"&subset=\"+o[goomento.config.locale]);break;case\"earlyaccess\":t=\"https://fonts.googleapis.com/earlyaccess/\"+e.replace(/\\s+/g,\"\").toLowerCase()+\".css\"}_.isEmpty(t)||this.enqueuePreviewStylesheet(t),this._enqueuedFonts.push(e),goomento.channels.editor.trigger(\"font:insertion\",n,e)}},resetEnqueuedFontsCache:function(){this._enqueuedFonts=[],this._enqueuedIconFonts=[]},getElementChildType:function(n,e){var o,i=this;return void 0!==(e=e||this.elementsHierarchy)[n]?jQuery.isPlainObject(e[n])?(0,r.default)(e[n]):null:(o=null,jQuery.each(e,function(e,t){return jQuery.isPlainObject(t)&&(t=i.getElementChildType(n,t))?(o=t,!1):void 0}),o)},getUniqueID:function(){return Math.random().toString(16).substr(2,7)},getSocialNetworkNameFromIcon:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,i=4<arguments.length&&void 0!==arguments[4]&&arguments[4],r=\"\",a=\"\",a=t&&!o?(r=t.replace(\"fab fa-\",\"\"),'<i class=\"'+t+'\"></i>'):(e.value&&\"svg\"!==e.library&&(r=(r=e.value.split(\" \")[1])?r.replace(\"fa-\",\"\"):\"\"),this.renderIcon(null,e,{},\"i\",\"panel\"));return\"\"!==r&&n&&(r=(r=r.split(\"-\").join(\" \")).replace(/\\b\\w/g,function(e){return e.toUpperCase()})),r=goomento.hooks.applyFilters(\"pagebuilder/social_icons/network_name\",r,e,t,n,i),r=i?a+\" \"+r:r},getSimpleDialog:function(e,t,n,o,i){return goomentoCommon.dialogsManager.createWidget(\"confirm\",{id:e,headerMessage:t,message:n,position:{my:\"center center\",at:\"center center\"},strings:{confirm:o,cancel:\"Cancel\"},onConfirm:i})},maybeDisableWidget:function(){var e;return goomentoConfig.icons_update_needed&&(e=goomento.channels.panelElements.request(\"element:selected\").model.get(\"widgetType\"),goomento.config.widgets[e]),!1},stringReplaceAll:function(e,t){var n=new RegExp((0,r.default)(t).join(\"|\"),\"gi\");return e.replace(n,function(e){return t[e]})},isActiveControl:function(e,r){var t,e=_.isFunction(e.get)?(t=e.get(\"condition\"),e.get(\"conditions\")):(t=e.condition,e.conditions);return!(e&&!goomento.conditions.check(e,r))&&(!!_.isEmpty(t)||(e=_.filter(t,function(e,t){var t=t.match(/([^\\.!]+)(?:\\.([^\\.!]+))?(!?)$/i),n=t[1],o=t[2],t=!!t[3],i=r[n];return void 0===(i=r.__dynamic__&&r.__dynamic__[n]?r.__dynamic__[n]:i)||(o&&\"object\"===(0,a.default)(i)&&(i=i[o]),n=_.isArray(e)&&!_.isEmpty(e)?_.contains(e,i):_.isArray(i)&&!_.isEmpty(i)?_.contains(i,e):_.isEqual(e,i),t?n:!n)}),_.isEmpty(e)))},cloneObject:function(e){return goomentoCommon.helpers.deprecatedMethod(\"goomento.helpers.cloneObject\",\"2.3.0\",\"goomentoCommon.helpers.cloneObject\"),goomentoCommon.helpers.cloneObject(e)},firstLetterUppercase:function(e){return goomentoCommon.helpers.deprecatedMethod(\"goomento.helpers.upperCaseWords\",\"2.3.0\",\"goomentoCommon.helpers.upperCaseWords\"),goomentoCommon.helpers.upperCaseWords(e)},disableElementEvents:function(e){e.each(function(){var e=this.style.pointerEvents;\"none\"!==e&&jQuery(this).data(\"backup-pointer-events\",e).css(\"pointer-events\",\"none\")})},enableElementEvents:function(e){e.each(function(){var e=jQuery(this),t=e.data(\"backup-pointer-events\");void 0!==t&&e.removeData(\"backup-pointer-events\").css(\"pointer-events\",t)})},getColorPickerPaletteIndex:function(e){return[\"7\",\"8\",\"1\",\"5\",\"2\",\"3\",\"6\",\"4\"].indexOf(e)},wpColorPicker:function(e,t){var n=this,o=goomento.schemes.getScheme(\"color-picker\"),o=_.sortBy(o.items,function(e){return n.getColorPickerPaletteIndex(e.key)}),o={width:220,palettes:_.pluck(o,\"value\")};return t&&_.extend(o,t),e.wpColorPicker(o)},isInViewport:function(e,t){e=e.getBoundingClientRect();return t=t||document.documentElement,0<=e.top&&0<=e.left&&e.bottom<=(window.innerHeight||t.clientHeight)&&e.right<=(window.innerWidth||t.clientWidth)},scrollToView:function(o,e,i){void 0===e&&(e=500);var r=i,a=goomentoFrontend.elements.$window;i||(i=a,r=goomento.$previewContents.find(\"html, body\")),setTimeout(function(){var e=i.height(),t=i.scrollTop(),n=i===a?o.offset().top:o[0].offsetTop,t=n-t;0<t&&t<e||(t=n-e/2,r.stop(!0).animate({scrollTop:t},1e3))},e)},getElementInlineStyle:function(e,t){var n={},o=e[0].style;return t.forEach(function(e){n[e]=void 0!==o[e]?o[e]:\"\"}),n},cssWithBackup:function(e,t,n){var o=this.getElementInlineStyle(e,(0,r.default)(n));e.data(\"css-backup-\"+t,o).css(n)},recoverCSSBackup:function(e,t){t=\"css-backup-\"+t;e.css(e.data(t)),e.removeData(t)},elementSizeToUnit:function(e,t,n){var o=goomentoFrontend.elements.window;switch(n){case\"%\":t/=e.offsetParent().width()/100;break;case\"vw\":t/=o.innerWidth/100;break;case\"vh\":t/=o.innerHeight/100}return Math.round(1e3*t)/1e3},compareVersions:function(e,t,n){function o(e){return(e+=\"\").replace(/[^\\d.]+/,\".-1.\")}if((e=o(e))===(t=o(t)))return!n||/^={2,3}$/.test(n);for(var i=e.split(\".\").map(Number),r=t.split(\".\").map(Number),a=Math.max(i.length,r.length),l=0;l<a;l++){var s=i[l]||0,u=r[l]||0;if(s!==u)return goomento.conditions.compare(s,u,n)}}}},function(e,t,n){\"use strict\";var s=n(0)(n(44));e.exports=new function(){function r(e){var t,n=e.size;if(\"custom\"===n){e=e.dimension;if(!e.width&&!e.height)return\"full\";t=\"custom_\"+e.width+\"x\"+e.height}else t=n;return t}var n=this,a={},l=[],t={};n.updateOnReceiveImage=function(){var e=goomento.getPanelView().getCurrentPageView().getOption(\"editedElementView\");e.$el.addClass(\"gmt-loading\"),t[e.cid]=e,goomento.channels.editor.once(\"imagesManager:detailsReceived\",function(){_.isEmpty(t)||_(t).each(function(e){e.render(),e.$el.removeClass(\"gmt-loading\")}),t={}})},n.getImageUrl=function(e){n.registerItem(e);var t=n.getItem(e);if(!t){if(\"custom\"===e.size)return void($e.routes.isPartOf(\"panel/editor\")&&e.model&&n.updateOnReceiveImage());t=e.url}return t},n.getItem=function(e){var t=r(e),e=e.id;return!!t&&!(!a[e]||!a[e][t])&&a[e][t]},n.registerItem=function(e){\"\"===e.id||n.getItem(e)||(l.push(e),n.debounceGetRemoteItems())},n.getRemoteItems=function(){var e,t=[];if(0!==(0,s.default)(l).length){for(e in l){var n=l[e],o=r(n),n=n.id,i=!a[n]||0===(0,s.default)(a[n]).length;t.push({id:n,size:o,is_first_time:i})}goomentoCommon.ajax.send(\"get_images_details\",{data:{items:t},success:function(e){var t,n;for(t in e)for(n in a[t]||(a[t]={}),e[t])a[t][n]=e[t][n];l=[],goomento.channels.editor.trigger(\"imagesManager:detailsReceived\",e)}})}},n.debounceGetRemoteItems=_.debounce(n.getRemoteItems,300)}},function(e,t,n){\"use strict\";var l=n(0)(n(162));n(28),n(33);var s=n(257),u=n(230);e.exports=new function(){function t(n){var o=i.getWidgetSchemeControls(n);_.each(o,function(e){var t;t=n.widget_type,u.addControlStyleRules(r,e,o,function(e){return i.getSchemeValue(e.scheme.type,e.scheme.value,e.scheme.key).value},[\"{{WRAPPER}}\"],[a+t])})}var i=this,r=new s,o={},a=\".gmt-widget-\",e={};this.init=function(){return e.$style=jQuery(\"<style>\",{id:\"gmt-style-scheme\"}),e.$previewHead=goomento.$previewContents.find(\"head\"),e.$previewHead.append(e.$style),o=goomentoCommon.helpers.cloneObject(goomento.config.schemes.items),i},this.getWidgetSchemeControls=function(e){return _.filter(e.controls,function(e){return _.isObject(e.scheme)})},this.getSchemes=function(){return o},this.getEnabledSchemesTypes=function(){return goomento.config.schemes.enabled_schemes},this.getScheme=function(e){return o[e]},this.getSchemeValue=function(e,t,n){return!(this.getEnabledSchemesTypes().indexOf(e)<0)&&(e=i.getScheme(e).items[t],n&&_.isObject(e)?((t=goomentoCommon.helpers.cloneObject(e)).value=e.value[n],t):e)},this.printSchemesStyle=function(){r.empty(),_.each(goomento.config.widgets,function(e){t(e)}),e.$style.text(r)},this.resetSchemes=function(e){o[e]=goomentoCommon.helpers.cloneObject(goomento.config.schemes.items[e])},this.getItemsToSave=function(e){goomento.config.schemes.items[e].items=goomentoCommon.helpers.cloneObject(o[e].items);var n={};return _.each(o[e].items,function(e,t){n[t]=e.value}),n},this.saveScheme=function(e){var t=this.getItemsToSave(e);NProgress.start(),goomentoCommon.ajax.addRequest(\"apply_scheme\",{data:{scheme_name:e,data:(0,l.default)(t)},success:function(){NProgress.done()},error:function(e){var t;NProgress.done(),_.isString(e)?t=e:e.statusText?(t=goomento.createAjaxErrorMessage(e),0===e.readyState&&(t+=\" Saving has been disabled until you\u2019re reconnected.\")):e[0]&&e[0].code&&(t=\"Server error \"+e[0].code),goomento.notifications.showToast({message:t})}})},this.setSchemeValue=function(e,t,n){o[e].items[t].value=n}}},function(e,t,n){\"use strict\";n(113),e.exports={getPresetsDictionary:function(){return{11:100/9,12:12.5,14:100/7,16:100/6,33:100/3,66:2/3*100,83:5/6*100}},getAbsolutePresetValues:function(e){var n=goomentoCommon.helpers.cloneObject(e),o=this.getPresetsDictionary();return _.each(n,function(e,t){o[e]&&(n[t]=o[e])}),n},getPresets:function(e,t){var n=goomentoCommon.helpers.cloneObject(goomento.config.elements.section.presets);return e&&(n=n[e]),n=t?n[t]:n},getPresetByStructure:function(e){e=this.getParsedStructure(e);return this.getPresets(e.columnsCount,e.presetIndex)},getParsedStructure:function(e){return{columnsCount:(e+=\"\").slice(0,-1),presetIndex:e.substr(-1)}},getPresetSVG:function(e,t,n,o){t=t||100,n=n||50,o=o||2;e=this.getAbsolutePresetValues(e),e=this._generatePresetSVGPath(e,t,n,o);return this._createSVGPreset(e,t,n)},_createSVGPreset:function(e,t,n){var o=document.createElementNS(\"http://www.w3.org/2000/svg\",\"svg\"),t=(o.setAttributeNS(\"http://www.w3.org/2000/xmlns/\",\"xmlns:xlink\",\"http://www.w3.org/1999/xlink\"),o.setAttribute(\"viewBox\",\"0 0 \"+t+\" \"+n),document.createElementNS(\"http://www.w3.org/2000/svg\",\"path\"));return t.setAttribute(\"d\",e),o.appendChild(t),o},_generatePresetSVGPath:function(e,t,n,o){for(var i=t-o*(e.length-1),r=0,a=\"\",l=0;l<e.length;l++){l&&(a+=\" \");var s=e[l]/100*i,a=(a=a+(\"M\"+ +(r+=s).toFixed(4)+\",0\")+(\"V\"+n))+(\"H\"+ +(r-s).toFixed(4))+\"V0Z\";r+=o}return a}}},function(e,t,n){\"use strict\";var o=n(0),s=o(n(66));n(33);var u=o(n(162)),c=o(n(382)),d=n(395);e.exports=new function(){this.modalConfig={},this.currentPage=1,this.isLastPage=!1;var e,t,o,i=this,r={},a={},l={};this.init=function(){var n={saveDialog:{description:\"Your designs will be available for export and reuse on any page or website\"},ajaxParams:{success:function(e){$e.route(\"library/templates/my-templates\",{onBefore:function(){!o||o.findWhere({template_id:e.template_id})||o.add(e)}})},error:function(e){i.showErrorDialog(e)}}};_.each([\"page\",\"template\",\"section\",goomento.config.document.type],function(e){var t=jQuery.extend(!0,{},n,{saveDialog:{title:\"Save your \"+e}});i.registerTemplateType(e,t)}),l={text:{callback:function(t){t=t.toLowerCase();var e=this.get(\"title\");return!!(e&&0<=e.toLowerCase().indexOf(t))||_.any(this.get(\"tags\"),function(e){return 0<=e.toLowerCase().indexOf(t)})}},type:{},subtype:{},favorite:{}},this.component=$e.components.register(new c.default({manager:this})),goomento.addBackgroundClickListener(\"libraryToggleMore\",{element:\".gmt-template-library-template-more\"}),o=new d},this.getTemplateTypes=function(e){return e?r[e]:r},this.registerTemplateType=function(e,t){r[e]=t},this.deleteTemplate=function(t,n){var e=i.getDeleteDialog();e.onConfirm=function(){n.onConfirm&&n.onConfirm(),goomentoCommon.ajax.addRequest(\"delete_template\",{data:{source:t.get(\"source\"),template_id:t.get(\"template_id\")},success:function(e){o.remove(t,{silent:!0}),n.onSuccess&&n.onSuccess(e)}})},e.show()},this.importTemplate=function(n,o){o=o||{},i.layout.showLoadingView(),i.requestTemplateContent(n.get(\"source\"),n.get(\"template_id\"),{data:{page_settings:o.withPageSettings},success:function(e){var t=jQuery.extend({},i.modalConfig.importOptions);i.layout.hideLoadingView(),i.layout.hideModal(),goomento.channels.data.trigger(\"template:before:insert\",n),goomento.getPreviewView().addChildModel(e.content,t),goomento.channels.data.trigger(\"template:after:insert\",n),o.withPageSettings&&goomento.settings.page.model.setExternalChange(e.page_settings)},error:function(e){i.showErrorDialog(e)},complete:function(){i.layout.hideLoadingView()}})},this.saveTemplate=function(e,t){var n=r[e],e=(_.extend(t,{source:\"local\",type:e}),(t=n.prepareSavedData?n.prepareSavedData(t):t).content=(0,u.default)(t.content),{data:t});n.ajaxParams&&_.extend(e,n.ajaxParams),goomentoCommon.ajax.addRequest(\"save_template\",e)},this.requestTemplateContent=function(e,t,n){e={unique_id:t,data:{source:e,edit_mode:!0,display:!0,template_id:t}};return n&&jQuery.extend(!0,e,n),goomentoCommon.ajax.addRequest(\"get_template_data\",e)},this.getDeleteDialog=function(){return e=e||goomentoCommon.dialogsManager.createWidget(\"confirm\",{id:\"gmt-template-library-delete-dialog\",headerMessage:\"Delete template\",strings:{confirm:\"Delete\"}})},this.getErrorDialog=function(){return t=t||goomentoCommon.dialogsManager.createWidget(\"alert\",{id:\"gmt-template-library-error-dialog\",headerMessage:\"An error occurred\"})},this.getTemplatesCollection=function(){return o},this.getConfig=function(e){return e?a[e]||{}:a},this.addTemplates=function(e){e.forEach(function(e){var t=o.findWhere({template_id:e.template_id});t&&o.remove(t,{silent:!0}),o.add(e,{silent:!0})})},this.requestLibraryData=function(){var e,t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.isLastPage?n.onUpdate&&n.onUpdate():(n.onBeforeUpdate&&n.onBeforeUpdate(),e={data:{page:this.currentPage},success:function(e){_.isEmpty(e)?t.isLastPage=!0:(t.addTemplates(e.templates),e.config&&(a=e.config)),n.onUpdate&&n.onUpdate(),t.currentPage++},error:function(e){_.isString(e)&&goomento.notifications.showToast({message:e}),n.onError&&n.onError(),i.layout.hideModal()}},n.forceSync&&(e.data.sync=!0),goomentoCommon.ajax.addRequest(\"get_library_data\",e))},this.getFilter=function(e){return goomento.channels.templates.request(\"filter:\"+e)},this.setFilter=function(e,t,n){goomento.channels.templates.reply(\"filter:\"+e,t),n||goomento.channels.templates.trigger(\"filter:change\")},this.getFilterTerms=function(e){return e?l[e]:l},this.setScreen=function(e){goomento.channels.templates.stopReplying(),i.setFilter(\"source\",e.source,!0),i.setFilter(\"type\",e.type,!0),i.setFilter(\"subtype\",e.subtype,!0),i.showTemplates()},this.loadTemplates=function(e){i.requestLibraryData({onBeforeUpdate:i.layout.showLoadingView.bind(i.layout),onUpdate:function(){i.layout.hideLoadingView(),e&&e()}})},this.showTemplates=function(){i.layout.setHeaderDefaultParts(),i.loadTemplates(function(){var e=i.filterTemplates();i.layout.showTemplatesView(new d(e))})},this.filterTemplates=function(){var t=i.getFilter(\"source\");return o.filter(function(e){return t===e.get(\"source\")&&(!(e=r[e.get(\"type\")])||!1!==e.showInLibrary)})},this.showErrorDialog=function(e){var t;e instanceof XMLHttpRequest&&(e=e.responseText),\"object\"===(0,s.default)(e)?(t=\"\",_.each(e,function(e){t+=\"<div>\"+e.message+\".</div>\"}),e=t):e?e+=\"\":e=\"<i>&#60;The error message is empty&#62;</i>\",i.getErrorDialog().setMessage('The following error(s occurred while processing the request:<div id=\"gmt-template-library-error-info\">'+e+\"</div>\").show()}}},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,n(33),r(n(243))),l=r(n(3)),i=r(n(4)),s=r(n(50)),u=r(n(25)),c=r(n(5)),r=r(n(6)),d=n(383),c=(n=goomentoModules.common.ComponentModal,(0,c.default)(f,n),o=(0,r.default)(f),(0,i.default)(f,[{key:\"__construct\",value:function(e){this.docLibraryConfig=goomento.config.document.remoteLibrary,(0,s.default)((0,u.default)(f.prototype),\"__construct\",this).call(this,e),this.setDefaultRoute(\"templates/my-templates\")}},{key:\"getNamespace\",value:function(){return\"library\"}},{key:\"getModalLayout\",value:function(){return d}},{key:\"defaultTabs\",value:function(){return{\"templates/my-templates\":{title:\"My Templates\",filter:{source:\"local\"}}}}},{key:\"defaultRoutes\",value:function(){var t=this;return{import:function(){t.manager.layout.showImportView()},\"save-template\":function(e){t.manager.layout.showSaveTemplateView(e.model)},preview:function(e){t.manager.layout.showPreviewView(e.model)}}}},{key:\"defaultCommands\",value:function(){return(0,a.default)((0,s.default)((0,u.default)(f.prototype),\"defaultCommands\",this).call(this),{open:this.show})}},{key:\"defaultShortcuts\",value:function(){return{open:{keys:\"ctrl+shift+l\"}}}},{key:\"getTabsWrapperSelector\",value:function(){return\"#gmt-template-library-header-menu\"}},{key:\"renderTab\",value:function(e){this.manager.setScreen(this.tabs[e].filter)}},{key:\"activateTab\",value:function(e){$e.routes.saveState(\"library\"),(0,s.default)((0,u.default)(f.prototype),\"activateTab\",this).call(this,e)}},{key:\"open\",value:function(){return(0,s.default)((0,u.default)(f.prototype),\"open\",this).call(this),this.manager.layout||(this.manager.layout=this.layout),!0}},{key:\"close\",value:function(){return!!(0,s.default)((0,u.default)(f.prototype),\"close\",this).call(this)&&(this.manager.modalConfig={},!0)}},{key:\"show\",value:function(e){!(this.manager.modalConfig=e).toDefault&&$e.routes.restoreState(\"library\")||$e.route(this.getDefaultRoute())}}]),f);function f(){return(0,l.default)(this,f),o.apply(this,arguments)}t.default=c},function(e,t,n){\"use strict\";var o=n(384),i=n(385),r=n(386),a=n(387),l=n(388),s=n(392),u=n(393),c=n(394);e.exports=goomentoModules.common.views.modal.Layout.extend({getModalOptions:function(){return{id:\"gmt-template-library-modal\"}},getLogoOptions:function(){return{title:\"Library\",click:function(){$e.run(\"library/open\",{toDefault:!0})}}},getTemplateActionButton:function(e){e=goomento.hooks.applyFilters(\"pagebuilder/editor/template-library/template/action-button\",\"#tmpl-gmt-template-library-insert-button\",e),e=Marionette.TemplateCache.get(e);return Marionette.Renderer.render(e)},setHeaderDefaultParts:function(){var e=this.getHeaderView();e.tools.show(new o),e.menuArea.show(new i),this.showLogo()},showTemplatesView:function(e){this.modalContent.show(new l({collection:e}))},showImportView:function(){this.modalContent.show(new u)},showSaveTemplateView:function(e){this.modalContent.show(new s({model:e}))},showPreviewView:function(e){this.modalContent.show(new c({url:e.get(\"url\")}));var t=this.getHeaderView();t.menuArea.reset(),t.tools.show(new r({model:e})),t.logoArea.show(new a)}})},function(e,t,n){\"use strict\";e.exports=Marionette.ItemView.extend({template:\"#tmpl-gmt-template-library-header-actions\",id:\"gmt-template-library-header-actions\",ui:{import:\"#gmt-template-library-header-import i\",sync:\"#gmt-template-library-header-sync i\",save:\"#gmt-template-library-header-save i\"},events:{\"click @ui.import\":\"onImportClick\",\"click @ui.sync\":\"onSyncClick\",\"click @ui.save\":\"onSaveClick\"},onImportClick:function(){$e.route(\"library/import\")},onSyncClick:function(){var e=this;e.ui.sync.addClass(\"spinning\"),goomento.templates.requestLibraryData({onUpdate:function(){e.ui.sync.removeClass(\"spinning\"),$e.routes.refreshContainer(\"library\")},onError:function(){elf.ui.sync.removeClass(\"spinning\")},forceUpdate:!0,forceSync:!0})},onSaveClick:function(){$e.route(\"library/save-template\")}})},function(e,t,n){\"use strict\";e.exports=Marionette.ItemView.extend({template:\"#tmpl-gmt-template-library-header-menu\",id:\"gmt-template-library-header-menu\",templateHelpers:function(){return{tabs:$e.components.get(\"library\").getTabs()}}})},function(e,t,n){\"use strict\";n=n(261);e.exports=Marionette.ItemView.extend({template:\"#tmpl-gmt-template-library-header-preview\",id:\"gmt-template-library-header-preview\",behaviors:{insertTemplate:{behaviorClass:n}}})},function(e,t,n){\"use strict\";e.exports=Marionette.ItemView.extend({template:\"#tmpl-gmt-template-library-header-back\",id:\"gmt-template-library-header-preview-back\",events:{click:\"onClick\"},onClick:function(){$e.routes.restoreState(\"library\")}})},function(e,t,n){\"use strict\";var o=n(389),i=n(390),r=Marionette.CompositeView.extend({template:\"#tmpl-gmt-template-library-templates\",id:\"gmt-template-library-templates\",childViewContainer:\"#gmt-template-library-templates-container\",reorderOnSort:!0,emptyView:function(){return new(n(391))},ui:{textFilter:\"#gmt-template-library-filter-text\",selectFilter:\".gmt-template-library-filter-select\",myFavoritesFilter:\"#gmt-template-library-filter-my-favorites\",orderInputs:\".gmt-template-library-order-input\",orderLabels:\"label.gmt-template-library-order-label\",loadMore:\".gmt-template-load-more\"},events:{\"input @ui.textFilter\":\"onTextFilterInput\",\"change @ui.selectFilter\":\"onSelectFilterChange\",\"change @ui.myFavoritesFilter\":\"onMyFavoritesFilterChange\",\"mousedown @ui.orderLabels\":\"onOrderLabelsClick\",\"click @ui.loadMore\":\"onLoadMoreClick\"},comparators:{title:function(e){return e.get(\"title\").toLowerCase()},popularityIndex:function(e){return-(e.get(\"popularityIndex\")||e.get(\"date\"))},trendIndex:function(e){return-(e.get(\"trendIndex\")||e.get(\"date\"))}},getChildView:function(e){return\"remote\"===e.get(\"source\")?i:o},initialize:function(){this.listenTo(goomento.channels.templates,\"filter:change\",this._renderChildren)},filter:function(o){var e=goomento.templates.getFilterTerms(),i=!0;return jQuery.each(e,function(e){var t,n=goomento.templates.getFilter(e);if(n)return this.callback?((t=this.callback.call(o,n))||(i=!1),t):((t=n===o.get(e))||(i=!1),t)}),i},order:function(e,t){e=this.comparators[e]||e;t&&(e=this.reverseOrder(e)),this.collection.comparator=e,this.collection.sort()},reverseOrder:function(n){var t;return\"function\"!=typeof n&&(t=n,n=function(e){return e.get(t)}),function(e,t){e=n(e),t=n(t);return void 0===e?-1:void 0===t||e<t?1:t<e?-1:0}},addSourceData:function(){var e=this.children.isEmpty();this.$el.attr(\"data-template-source\",e?\"empty\":goomento.templates.getFilter(\"source\"))},setFiltersUI:function(){this.$(this.ui.selectFilter).select2({placeholder:\"Category\",allowClear:!0,width:150})},setMasonrySkin:function(){var e=new goomentoModules.utils.Masonry({container:this.$childViewContainer,items:this.$childViewContainer.children()});this.$childViewContainer.imagesLoaded(e.run.bind(e))},toggleFilterClass:function(){this.$el.toggleClass(\"gmt-templates-filter-active\",!(!goomento.templates.getFilter(\"text\")&&!goomento.templates.getFilter(\"favorite\")))},onRender:function(){\"remote\"===goomento.templates.getFilter(\"source\")&&\"page\"!==goomento.templates.getFilter(\"type\")&&this.setFiltersUI()},onRenderCollection:function(){this.addSourceData(),this.toggleFilterClass(),\"remote\"===goomento.templates.getFilter(\"source\")&&\"page\"!==goomento.templates.getFilter(\"type\")&&this.setMasonrySkin()},onBeforeRenderEmpty:function(){this.addSourceData()},onTextFilterInput:function(){goomento.templates.setFilter(\"text\",this.ui.textFilter.val())},onSelectFilterChange:function(e){var e=jQuery(e.currentTarget),t=e.data(\"gmt-filter\");goomento.templates.setFilter(t,e.val())},onMyFavoritesFilterChange:function(){goomento.templates.setFilter(\"favorite\",this.ui.myFavoritesFilter[0].checked)},onLoadMoreClick:function(){var e=this,t=goomento.templates.getTemplatesCollection().length;goomento.templates.requestLibraryData({onUpdate:function(){goomento.templates.getTemplatesCollection().length!==t?$e.routes.refreshContainer(\"library\"):e.ui.loadMore.hide()}})},onOrderLabelsClick:function(e){var t,e=jQuery(e.currentTarget.control);e[0].checked||(t=\"asc\"!==e.data(\"default-ordering-direction\")),e.toggleClass(\"gmt-template-library-order-reverse\",t),this.order(e.val(),e.hasClass(\"gmt-template-library-order-reverse\"))}});e.exports=r},function(e,t,n){\"use strict\";var o=n(262),n=o.extend({template:\"#tmpl-gmt-template-library-template-local\",ui:function(){return _.extend(o.prototype.ui.apply(this,arguments),{deleteButton:\".gmt-template-library-template-delete\",morePopup:\".gmt-template-library-template-more\",toggleMore:\".gmt-template-library-template-more-toggle\",toggleMoreIcon:\".gmt-template-library-template-more-toggle i\"})},events:function(){return _.extend(o.prototype.events.apply(this,arguments),{\"click @ui.deleteButton\":\"onDeleteButtonClick\",\"click @ui.toggleMore\":\"onToggleMoreClick\"})},onDeleteButtonClick:function(){goomento.templates.deleteTemplate(this.model,{onConfirm:function(){},onSuccess:function(){goomento.templates.showTemplates()}})},onToggleMoreClick:function(){this.ui.morePopup.show()},onPreviewButtonClick:function(){open(this.model.get(\"url\"),\"_blank\")}});e.exports=n},function(e,t,n){\"use strict\";var o=n(262),n=o.extend({template:\"#tmpl-gmt-template-library-template-remote\",ui:function(){return jQuery.extend(o.prototype.ui.apply(this,arguments),{favoriteCheckbox:\".gmt-template-library-template-favorite-input\"})},onPreviewButtonClick:function(){$e.route(\"library/preview\",{model:this.model})}});e.exports=n},function(e,t,n){\"use strict\";var o=Marionette.ItemView.extend({id:\"gmt-template-library-templates-empty\",template:\"#tmpl-gmt-template-library-templates-empty\",ui:{title:\".gmt-template-library-blank-title\",message:\".gmt-template-library-blank-message\"},modesStrings:{empty:{title:\"Haven\u2019t Saved Templates Yet?\",message:\"This is where your templates should be. Design it. Save it. Reuse it.\"},noResults:{title:\"No Results Found\",message:\"Please make sure your search is spelled correctly or try a different words.\"},noFavorites:{title:\"No Favorite Templates\",message:\"Please make sure your search is spelled correctly or try a different words.\"}},getCurrentMode:function(){return goomento.templates.getFilter(\"text\")?\"noResults\":goomento.templates.getFilter(\"favorite\")?\"noFavorites\":\"empty\"},onRender:function(){var e=this.modesStrings[this.getCurrentMode()];this.ui.title.html(e.title),this.ui.message.html(e.message)}});e.exports=o},function(e,t,n){\"use strict\";var o=Marionette.ItemView.extend({id:\"gmt-template-library-save-template\",template:\"#tmpl-gmt-template-library-save-template\",ui:{form:\"#gmt-template-library-save-template-form\",submitButton:\"#gmt-template-library-save-template-submit\"},events:{\"submit @ui.form\":\"onFormSubmit\"},getSaveType:function(){return this.model?this.model.get(\"elType\"):goomento.config.document.library&&goomento.config.document.library.save_as_same_type?goomento.config.document.type:\"template\"},templateHelpers:function(){var e=this.getSaveType();return goomento.templates.getTemplateTypes(e).saveDialog},onFormSubmit:function(e){e.preventDefault();var e=this.ui.form.goomentoSerializeObject(),t=this.getSaveType(),n={remove:[\"default\"]};e.content=this.model?[this.model.toJSON(n)]:goomento.elements.toJSON(n),this.ui.submitButton.addClass(\"gmt-button-state\"),goomento.templates.saveTemplate(t,e)}});e.exports=o},function(e,t,n){\"use strict\";n(41),n(62),n=Marionette.ItemView.extend({template:\"#tmpl-gmt-template-library-import\",id:\"gmt-template-library-import\",ui:{uploadForm:\"#gmt-template-library-import-form\",fileInput:\"#gmt-template-library-import-form-input\"},events:{\"change @ui.fileInput\":\"onFileInputChange\"},droppedFiles:null,submitForm:function(){var t,n=this,e=(this.droppedFiles?(t=this.droppedFiles[0],this.droppedFiles=null):(t=this.ui.fileInput[0].files[0],this.ui.uploadForm[0].reset()),new FileReader);e.onload=function(e){return n.importTemplate(t.name,e.target.result.replace(/^[^,]+,/,\"\"))},e.readAsDataURL(t)},importTemplate:function(e,t){var n=goomento.templates.layout;goomentoCommon.ajax.addRequest(\"import_template\",{data:{fileName:e,fileData:t},success:function(e){goomento.templates.getTemplatesCollection().add(e),$e.route(\"library/templates/my-templates\")},error:function(e){goomento.templates.showErrorDialog(e),n.showImportView()},complete:function(){n.hideLoadingView()}}),n.showLoadingView()},onRender:function(){this.ui.uploadForm.on({\"drag dragstart dragend dragover dragenter dragleave drop\":this.onFormActions.bind(this),dragenter:this.onFormDragEnter.bind(this),\"dragleave drop\":this.onFormDragLeave.bind(this),drop:this.onFormDrop.bind(this)})},onFormActions:function(e){e.preventDefault(),e.stopPropagation()},onFormDragEnter:function(){this.ui.uploadForm.addClass(\"gmt-drag-over\")},onFormDragLeave:function(e){jQuery(e.relatedTarget).closest(this.ui.uploadForm).length||this.ui.uploadForm.removeClass(\"gmt-drag-over\")},onFormDrop:function(e){this.droppedFiles=e.originalEvent.dataTransfer.files,this.submitForm()},onFileInputChange:function(){this.submitForm()}}),e.exports=n},function(e,t,n){\"use strict\";var o=Marionette.ItemView.extend({template:\"#tmpl-gmt-template-library-preview\",id:\"gmt-template-library-preview\",ui:{iframe:\"> iframe\"},onRender:function(){this.ui.iframe.attr(\"src\",this.getOption(\"url\"))}});e.exports=o},function(e,t,n){\"use strict\";n=n(396),n=Backbone.Collection.extend({model:n});e.exports=n},function(e,t,n){\"use strict\";e.exports=Backbone.Model.extend({defaults:{template_id:0,title:\"\",source:\"\",type:\"\",subtype:\"\",author:\"\",thumbnail:\"\",url:\"\",export_link:\"\",tags:[]}})},function(e,t,n){\"use strict\";n(98),n(41),e.exports=new function(){var r=this;this.compare=function(e,t,n){switch(n){case\"==\":return e==t;case\"!=\":return e!=t;case\"!==\":return e!==t;case\"in\":return-1!==t.indexOf(e);case\"!in\":return-1===t.indexOf(e);case\"contains\":return-1!==e.indexOf(t);case\"!contains\":return-1===e.indexOf(t);case\"<\":return e<t;case\"<=\":return e<=t;case\">\":return t<e;case\">=\":return t<=e;default:return e===t}},this.check=function(e,n){var o=\"or\"===e.relation,i=!o;return jQuery.each(e.terms,function(){var e,t=this.terms?r.check(this,n):(t=this.name.match(/([^\\.!]+)(?:\\.([^\\.!]+))?/),e=n[t[1]],t[2]&&(e=e[t[2]]),r.compare(e,this.value,this.operator));return o?(t&&(i=!0),!t):t?void 0:i=!1}),i}}},function(e,t,n){\"use strict\";n(28),e.exports=Marionette.Behavior.extend({previewWindow:null,ui:function(){return{buttonPreview:\"#gmt-panel-control-saver-preview\",buttonPublish:\"#gmt-panel-saver-button-publish\",buttonSaveOptions:\"#gmt-panel-saver-button-save-options\",buttonPublishLabel:\"#gmt-panel-saver-button-publish-label\",lastEditedWrapper:\".gmt-last-edited-wrapper\"}},events:function(){return{\"click @ui.buttonPreview\":\"onClickButtonPreview\",\"click @ui.buttonPublish\":\"onClickButtonPublish\"}},initialize:function(){goomento.saver.on(\"before:save\",this.onBeforeSave.bind(this)).on(\"after:save\",this.onAfterSave.bind(this)).on(\"after:saveError\",this.onAfterSaveError.bind(this)).on(\"after:save:publish\",this.onPublished.bind(this)).on(\"after:save:pending\",this.onPublished.bind(this)),goomento.settings.page.model.on(\"change\",this.onPageSettingsChange.bind(this)),goomento.channels.editor.on(\"editor:change\",this.activateSaveButtons.bind(this))},onPublished:function(){goomento.channels.editor.reply(\"saved:status\",\"\"),this.setSaveButtonState(\"disabled\"),this.ui.buttonPublishLabel.html(\"Saved\"),this.ui.buttonPublishLabel.parent().attr(\"data-tooltip\",\"Saved\"),goomento.notifications.showToast({message:\"You published the change\"})},setSaveButtonState:function(e,t,n){this.ui.buttonPublish.toggleClass(\"gmt-button-state\",\"saving\"===e),this.ui.buttonPublish.toggleClass(\"gmt-disabled\",\"enabled\"!==e),this.ui.buttonSaveOptions.toggleClass(\"gmt-disabled\",\"enabled\"!==e),t&&(n=n||t,\"enabled\"===e&&(n=n+\" (\"+(goomento.env.mac?\"\u2318\":\"Ctrl\")+\" + S)\"),this.ui.buttonPublishLabel.text(t),this.ui.buttonPublishLabel.parent().attr(\"data-tooltip\",n))},activateSaveButtons:function(e){goomento.channels.editor.reply(\"saved:status\",\"\"),this.setSaveButtonState(e?\"enabled\":\"disabled\",\"Save Draft\")},onRender:function(){},onPageSettingsChange:function(e){e=e.changed;goomento.channels.editor.reply(\"saved:status\",\"\"),this.setSaveButtonState(\"enabled\",\"Save draft\"),_.isUndefined(e.status)||(this.refreshPreview(),$e.routes.isPartOf(\"page/settings\")&&$e.routes.refreshContainer(\"panel\"))},onBeforeSave:function(e){NProgress.start(),\"autosave\"!==e.status&&this.setSaveButtonState(\"saving\",\"Saving\")},onAfterSave:function(e,t){NProgress.done();var n=e.message;n&&goomento.notifications.showToast({message:n}),\"autosave\"!==t.status&&(goomento.userCan(\"publish\")?(goomento.channels.editor.reply(\"saved:status\",\"revision\"),this.setSaveButtonState(\"enabled\",\"Publish\")):(goomento.channels.editor.reply(\"saved:status\",\"\"),this.setSaveButtonState(\"disabled\",\"Saved\"))),this.refreshPreview(),this.setLastEdited(e)},setLastEdited:function(e){this.ui.lastEditedWrapper.removeClass(\"gmt-button-state\").find(\".gmt-last-edited\").html(e.config.document.last_edited)},onAfterSaveError:function(){NProgress.done(),this.activateSaveButtons(!0)},onClickButtonPreview:function(){this.previewWindow=open(goomento.config.document.urls.system_preview,\"system-preview-\"+goomento.config.document.id),goomento.saver.isEditorChanged()&&(goomento.saver.isSaving&&(goomento.saver.isSaving=!1),goomento.saver.doAutoSave())},onClickButtonPublish:function(){this.ui.buttonPublish.hasClass(\"gmt-disabled\")||goomento.saver.defaultSave()},refreshPreview:function(){if(this.previewWindow)try{this.previewWindow.location.href=goomento.config.document.urls.system_preview}catch(e){}}})},function(e,t,n){\"use strict\";var o=n(193);e.exports=o.extend({ui:function(){var e=o.prototype.ui.apply(this,arguments);return e.button=\"button\",e},events:{\"click @ui.button\":\"onButtonClick\"},onButtonClick:function(){var e=this.model.get(\"event\");goomento.channels.editor.trigger(e,this)}})},function(e,t,n){\"use strict\";var o=n(87),n=o.extend({ui:function(){var e=o.prototype.ui.apply(this,arguments);return e.editor=\".gmt-code-editor\",e},onReady:function(){var e,o,t=this;\"undefined\"!=typeof ace&&(e=ace.require(\"ace/ext/language_tools\"),t.editor=ace.edit(this.ui.editor[0]),jQuery(t.editor.container).addClass(\"gmt-input-style gmt-code-editor\"),t.editor.setOptions({mode:\"ace/mode/\"+t.model.attributes.language,minLines:10,maxLines:1/0,showGutter:!0,useWorker:!0,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),t.editor.getSession().setUseWrapMode(!0),goomento.panel.$el.on(\"resize.aceEditor\",t.onResize.bind(this)),\"css\"===t.model.attributes.language&&e.addCompleter({getCompletions:function(e,t,n,o,i){var r=[],t=t.getTokenAt(n.row,n.column);i(null,r=0<o.length&&\"selector\".match(o)&&\"constant\"===t.type?[{name:\"selector\",value:\"selector\",score:1,meta:\"Goomento\"}]:r)}}),t.editor.setValue(t.getControlValue(),-1),t.editor.on(\"change\",function(){t.setValue(t.editor.getValue())}),\"html\"===t.model.attributes.language)&&(o=t.editor.getSession()).on(\"changeAnnotation\",function(){for(var e=o.getAnnotations()||[],t=e.length,n=e.length;n--;)/doctype first\\. Expected/.test(e[n].text)&&e.splice(n,1);t>e.length&&o.setAnnotations(e)})},onResize:function(){this.editor.resize()},onDestroy:function(){goomento.panel.$el.off(\"resize.aceEditor\")}});e.exports=n},function(e,t,n){\"use strict\";var o=n(87),n=o.extend({applySavedValue:function(){o.prototype.applySavedValue.apply(this,arguments);var e=this,t=e.getControlValue();e.ui.input.data(\"wpColorPicker\")?(e.ui.input.wpColorPicker(\"color\",t),t||e.ui.input.data(\"a8cIris\")._change()):goomento.helpers.wpColorPicker(e.ui.input,{change:function(){e.setValue(e.ui.input.wpColorPicker(\"color\"))},clear:function(){e.setValue(\"\")}})},onBeforeDestroy:function(){this.ui.input.data(\"wpColorPicker\")&&this.ui.input.wpColorPicker(\"close\"),this.$el.remove()}});e.exports=n},function(e,t,n){\"use strict\";n(403),n(33);var o=n(265),n=o.extend({ui:function(){var e=o.prototype.ui.apply(this,arguments);return e.controls=\".gmt-control-dimension > input:enabled\",e.link=\"button.gmt-link-dimensions\",e},events:function(){return _.extend(o.prototype.events.apply(this,arguments),{\"click @ui.link\":\"onLinkDimensionsClicked\"})},defaultDimensionValue:0,initialize:function(){o.prototype.initialize.apply(this,arguments),this.model.set(\"allowed_dimensions\",this.filterDimensions(this.model.get(\"allowed_dimensions\")))},getPossibleDimensions:function(){return[\"top\",\"right\",\"bottom\",\"left\"]},filterDimensions:function(e){e=e||\"all\";var t=this.getPossibleDimensions();return\"all\"===e?t:(_.isArray(e)||(\"horizontal\"===e?e=[\"right\",\"left\"]:\"vertical\"===e&&(e=[\"top\",\"bottom\"])),e)},onReady:function(){var o=this,i=o.getControlValue();o.isLinkedDimensions()||(o.ui.link.addClass(\"unlinked\"),o.ui.controls.each(function(e,t){var n=i[t.dataset.setting];_.isEmpty(n)&&(n=o.defaultDimensionValue),o.$(t).val(n)})),o.fillEmptyDimensions()},updateDimensionsValue:function(){var n={},e=this.getPossibleDimensions(),o=this.ui.controls,i=this.defaultDimensionValue;e.forEach(function(e){var t=o.filter('[data-setting=\"'+e+'\"]');n[e]=t.length?t.val():i}),this.setValue(n)},fillEmptyDimensions:function(){var e=this.getPossibleDimensions(),n=this.model.get(\"allowed_dimensions\"),o=this.ui.controls,i=this.defaultDimensionValue;this.isLinkedDimensions()||e.forEach(function(e){var t=o.filter('[data-setting=\"'+e+'\"]');-1!==_.indexOf(n,e)&&t.length&&_.isEmpty(t.val())&&t.val(i)})},updateDimensions:function(){this.fillEmptyDimensions(),this.updateDimensionsValue()},resetDimensions:function(){this.ui.controls.val(\"\"),this.updateDimensionsValue()},onInputChange:function(e){var t=e.target.dataset.setting;\"unit\"===t&&this.resetDimensions(),_.contains(this.getPossibleDimensions(),t)&&(this.isLinkedDimensions()&&(t=this.$(e.target),this.ui.controls.val(t.val())),this.updateDimensions())},onLinkDimensionsClicked:function(e){e.preventDefault(),e.stopPropagation(),this.ui.link.toggleClass(\"unlinked\"),this.setValue(\"isLinked\",!this.ui.link.hasClass(\"unlinked\")),this.isLinkedDimensions()&&this.ui.controls.val(this.ui.controls.eq(0).val()),this.updateDimensions()},isLinkedDimensions:function(){return this.getControlValue(\"isLinked\")}});e.exports=n},function(e,t,n){\"use strict\";n(404)(\"link\",function(t){return function(e){return t(this,\"a\",\"href\",e)}})},function(e,t,n){function o(e,t,n,o){var e=String(a(e)),i=\"<\"+t;return\"\"!==n&&(i+=\" \"+n+'=\"'+String(o).replace(l,\"&quot;\")+'\"'),i+\">\"+e+\"</\"+t+\">\"}var i=n(26),r=n(21),a=n(38),l=/\"/g;e.exports=function(t,e){var n={};n[t]=e(o),i(i.P+i.F*r(function(){var e=\"\"[t]('\"');return e!==e.toLowerCase()||3<e.split('\"').length}),\"String\",n)}},function(e,t,n){\"use strict\";n(62),n(28),n(72),n(188);var o=n(190);e.exports=o.extend({_enqueuedFonts:[],$previewContainer:null,enqueueFont:function(e){if(-1===this._enqueuedFonts.indexOf(e)){var t;switch(goomento.config.controls.font.options[e]){case\"googlefonts\":t=\"https://fonts.googleapis.com/css?family=\"+e+\"&text=\"+e;break;case\"earlyaccess\":t=\"https://fonts.googleapis.com/earlyaccess/\"+e.replace(/\\s+/g,\"\").toLowerCase()+\".css\"}_.isEmpty(t)||jQuery(\"head\").find(\"link:last\").after('<link href=\"'+t+'\" rel=\"stylesheet\" type=\"text/css\">'),this._enqueuedFonts.push(e)}},getSelect2Options:function(){return{dir:goomentoCommon.config.isRTL?\"rtl\":\"ltr\",templateSelection:this.fontPreviewTemplate,templateResult:this.fontPreviewTemplate}},onReady:function(){var e=this;this.ui.select.select2(this.getSelect2Options()),this.ui.select.on(\"select2:open\",function(){e.$previewContainer=jQuery('.select2-results__options[role=\"tree\"]:visible'),setTimeout(function(){e.enqueueFontsInView()},100),jQuery(\"input.select2-search__field:visible\").on(\"keyup\",function(){e.typeStopDetection.action.apply(e)}),e.$previewContainer.on(\"scroll\",function(){e.scrollStopDetection.onScroll.apply(e)})})},typeStopDetection:{idle:350,timeOut:null,action:function(){var e=this,t=this.typeStopDetection;clearTimeout(t.timeOut),t.timeOut=setTimeout(function(){e.enqueueFontsInView()},t.idle)}},scrollStopDetection:{idle:350,timeOut:null,onScroll:function(){var e=this,t=this.scrollStopDetection;clearTimeout(t.timeOut),t.timeOut=setTimeout(function(){e.enqueueFontsInView()},t.idle)}},enqueueFontsInView:function(){var t=this,o=this.$previewContainer.offset().top,i=o+this.$previewContainer.innerHeight(),r=[];this.$previewContainer.children().find(\"li:visible\").each(function(e,t){var t=jQuery(t),n=t.offset();n&&n.top>o&&n.top<i&&r.push(t)}),r.forEach(function(e){e=jQuery(e).find(\"span\").html();t.enqueueFont(e)})},fontPreviewTemplate:function(e){return e.id?jQuery(\"<span>\",{text:e.text,css:{\"font-family\":e.element.value.toString()}}):e.text},templateHelpers:function(){var e=o.prototype.templateHelpers.apply(this,arguments),t=this.model.get(\"options\");return e.getFontsByGroups=function(n){var o={};return _.each(t,function(e,t){(_.isArray(n)&&_.contains(n,e)||e===n)&&(o[t]=t)}),o},e}})},function(e,t,n){\"use strict\";n=n(0)(n(87));e.exports=n.default.extend({},{onPasteStyle:function(){return!1}})},function(e,t,n){\"use strict\";var o=n(190),n=o.extend({initialize:function(){o.prototype.initialize.apply(this,arguments),this.filterIcons()},filterIcons:function(){var t,n=this.model.get(\"options\"),e=this.model.get(\"include\"),o=this.model.get(\"exclude\");e?(t={},_.each(e,function(e){t[e]=n[e]}),this.model.set(\"options\",t)):o&&_.each(o,function(e){delete n[e]})},iconsList:function(e){return e.id?jQuery('<span><i class=\"'+e.id+'\"></i> '+e.text+\"</span>\"):e.text},getSelect2Options:function(){return{allowClear:!0,templateResult:this.iconsList.bind(this),templateSelection:this.iconsList.bind(this)}}});e.exports=n},function(e,t,n){\"use strict\";var i,o=n(0),r=o(n(3)),a=o(n(4)),l=o(n(50)),s=o(n(25)),u=o(n(5)),o=o(n(6)),c=n(177),n=((0,u.default)(d,c),i=(0,o.default)(d),(0,a.default)(d,[{key:\"enqueueIconFonts\",value:function(e){e=goomento.helpers.getIconLibrarySettings(e);!1!==e&&(e.enqueue&&e.enqueue.forEach(function(e){goomento.helpers.enqueueEditorStylesheet(e),goomento.helpers.enqueuePreviewStylesheet(e)}),e.url)&&(goomento.helpers.enqueueEditorStylesheet(e.url),goomento.helpers.enqueuePreviewStylesheet(e.url))}},{key:\"ui\",value:function(){var e=(0,l.default)((0,s.default)(d.prototype),\"ui\",this).call(this);return e.controlMedia=\".gmt-control-media\",e.svgUploader=\".gmt-control-svg-uploader\",e.iconPickers=\".gmt-control-icon-picker, .gmt-control-media__preview, .gmt-control-media-upload-button\",e.deleteButton=\".gmt-control-media__remove\",e.previewPlaceholder=\".gmt-control-media__preview\",e.previewContainer=\".gmt-control-preview-area\",e}},{key:\"events\",value:function(){return jQuery.extend(c.prototype.events.apply(this,arguments),{\"click @ui.iconPickers\":\"openPicker\",\"click @ui.deleteButton\":\"deleteIcon\"})}},{key:\"getControlValue\",value:function(){var e,t=(0,l.default)((0,s.default)(d.prototype),\"getControlValue\",this).call(this),n=this.model;return this.getValueToMigrate()?(e=this.elementSettingsModel.get(this.dataKeys.migratedKey),n=n.get(\"name\"),this.cache.migratedFlag[n]||(e&&e[n]?t:void 0)):t}},{key:\"setControlAsMigrated\",value:function(e){var t=this.elementSettingsModel.get(this.dataKeys.migratedKey)||{};t[e]=!0,this.elementSettingsModel.set(this.dataKeys.migratedKey,t,{silent:!0})}},{key:\"isMigrationAllowed\",value:function(){return!1}},{key:\"getValueToMigrate\",value:function(){var e=this.model.get(this.dataKeys.fa4MigrationFlag);return e&&this.elementSettingsModel.get(e)||!1}},{key:\"onReady\",value:function(){var e=this,t=this.model.get(\"name\");this.cache.migratedFlag[t]&&(this.setControlAsMigrated(t),setTimeout(function(){e.setValue(e.cache.migratedFlag[t])},10))}},{key:\"onRender\",value:function(){(0,l.default)((0,s.default)(d.prototype),\"onRender\",this).call(this)}},{key:\"setUploadMimeType\",value:function(e,t){var n=_wpPluploadSettings.defaults.filters.mime_types[0].extensions;e.on(\"ready\",function(){_wpPluploadSettings.defaults.filters.mime_types[0].extensions=t}),this.frame.on(\"close\",function(){_wpPluploadSettings.defaults.filters.mime_types[0].extensions=n})}},{key:\"selectSvg\",value:function(){this.trigger(\"before:select\");var e=this.frame.state().get(\"selection\").first().toJSON();e.url&&(this.setValue({value:{url:e.url,id:e.id},library:\"svg\"}),this.applySavedValue()),this.trigger(\"after:select\")}},{key:\"openPicker\",value:function(){goomento.iconManager.show({view:this})}},{key:\"applySavedValue\",value:function(){var t=this,e=this.getControlValue(),n=e.value,e=e.library;if(this.ui.controlMedia.toggleClass(\"gmt-media-empty\",!n),n){if(\"svg\"===e)return goomento.helpers.fetchInlineSvg(n.url,function(e){t.ui.previewPlaceholder.html(e)});this.ui.previewPlaceholder.html('<i class=\"'+n+'\"></i>'),this.enqueueIconFonts(e)}else this.ui.previewPlaceholder.html(\"\")}},{key:\"deleteIcon\",value:function(e){e.stopPropagation(),this.setValue({value:\"\",library:\"\"}),this.applySavedValue()}},{key:\"onBeforeDestroy\",value:function(){this.$el.remove()}}]),d);function d(){var e;(0,r.default)(this,d);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=i.call.apply(i,[this].concat(n))).cache={loaded:!1,dialog:!1,enableClicked:!1,fa4Mapping:!1,migratedFlag:{}},e.dataKeys={migratedKey:\"__fa4_migrated\",fa4MigrationFlag:\"fa4compatibility\"},e}e.exports=n},function(e,t,n){\"use strict\";var o=n(87),n=o.extend({ui:function(){var e=o.prototype.ui.apply(this,arguments);return e.addImages=\".gmt-control-gallery-add\",e.clearGallery=\".gmt-control-gallery-clear\",e.galleryThumbnails=\".gmt-control-gallery-thumbnails\",e.status=\".gmt-control-gallery-status-title\",e},events:function(){return _.extend(o.prototype.events.apply(this,arguments),{\"click @ui.addImages\":\"onAddImagesClick\",\"click @ui.clearGallery\":\"onClearGalleryClick\",\"click @ui.galleryThumbnails\":\"onGalleryThumbnailsClick\"})},onReady:function(){this.initRemoveDialog()},applySavedValue:function(){var e=this.getControlValue().length,t=!!e,n=(this.$el.toggleClass(\"gmt-gallery-has-images\",t).toggleClass(\"gmt-gallery-empty\",!t),this.ui.galleryThumbnails);n.empty(),this.ui.status.text(t?\"Selected image \"+e:\"Empty\"),t&&this.getControlValue().forEach(function(e){var t=jQuery(\"<div>\",{class:\"gmt-control-gallery-thumbnail\"});t.css(\"background-image\",\"url(\"+e.url+\")\"),n.append(t)})},hasImages:function(){return!!this.getControlValue().length},openFrame:function(e){this.initFrame(e),mediaBucket.openFrame()},initFrame:function(e){mediaBucket.onSelected(this.select.bind(this))},menuRender:function(e){e.unset(\"insert\"),e.unset(\"featured-image\")},gallerySettings:function(e){e.sidebar.on(\"ready\",function(){e.sidebar.unset(\"gallery\")})},select:function(e){var t=this.getControlValue(),n=mediaBucket.get();t.push({url:n.url}),this.setValue(t),this.applySavedValue()},onBeforeDestroy:function(){this.$el.remove()},resetGallery:function(){this.setValue([]),this.applySavedValue()},initRemoveDialog:function(){var e;this.getRemoveDialog=function(){return e=e||goomentoCommon.dialogsManager.createWidget(\"confirm\",{message:\"Are you sure you want to reset this gallery?\",headerMessage:\"Delete Gallery\",strings:{confirm:\"Delete\",cancel:\"Cancel\"},defaultOption:\"confirm\",onConfirm:this.resetGallery.bind(this)})}},onAddImagesClick:function(){this.openFrame(this.hasImages()?\"add\":\"create\")},onClearGalleryClick:function(){this.getRemoveDialog().show()},onGalleryThumbnailsClick:function(){this.openFrame(\"edit\")}});e.exports=n},function(e,t,n){\"use strict\";n=n(177).extend({ui:function(){return{inputWidth:'input[data-setting=\"width\"]',inputHeight:'input[data-setting=\"height\"]',btnApply:\"button.gmt-image-dimensions-apply-button\"}},events:function(){return{\"click @ui.btnApply\":\"onApplyClicked\",\"keyup @ui.inputWidth\":\"onDimensionKeyUp\",\"keyup @ui.inputHeight\":\"onDimensionKeyUp\"}},onDimensionKeyUp:function(e){13===e.keyCode&&this.onApplyClicked(e)},onApplyClicked:function(e){e.preventDefault(),this.setValue({width:this.ui.inputWidth.val(),height:this.ui.inputHeight.val()})}});e.exports=n},function(e,t,n){\"use strict\";var o=n(177),n=o.extend({ui:function(){var e=o.prototype.ui.apply(this,arguments);return e.controlMedia=\".gmt-control-media\",e.mediaImage=\".gmt-control-media__preview\",e.frameOpeners=\".gmt-control-preview-area\",e.removeButton=\".gmt-control-media__remove\",e},events:function(){return _.extend(o.prototype.events.apply(this,arguments),{\"click @ui.frameOpeners\":\"openFrame\",\"click @ui.removeButton\":\"deleteImage\"})},getMediaType:function(){return this.model.get(\"media_type\")},applySavedValue:function(){var e=this.getControlValue(\"url\");\"image\"===this.getMediaType()&&this.ui.mediaImage&&this.ui.mediaImage.css(\"background-image\",e?\"url(\"+e+\")\":\"\"),this.ui.controlMedia.toggleClass(\"gmt-media-empty\",!e)},openFrame:function(){mediaBucket.onSelected(this.select.bind(this)),mediaBucket.openFrame()},deleteImage:function(e){e.stopPropagation(),this.setValue({url:\"\"}),this.applySavedValue()},select:function(){this.trigger(\"before:select\");var e=mediaBucket.get();e.url&&(this.setValue({url:e.url}),this.applySavedValue()),this.trigger(\"after:select\")},onBeforeDestroy:function(){this.$el.remove()}});e.exports=n},function(e,t,n){\"use strict\";var i=n(87),r=n(413),n=i.extend({registerValidators:function(){i.prototype.registerValidators.apply(this,arguments);var n={},o=this.model;[\"min\",\"max\"].forEach(function(e){var t=o.get(e);_.isFinite(t)&&(n[e]=t)}),_.isEmpty(n)||this.addValidator(new r({validationTerms:n}))}});e.exports=n},function(e,t,n){\"use strict\";n=n(218);e.exports=n.extend({validationMethod:function(e){var t=this.getSettings(\"validationTerms\"),n=[];return _.isFinite(e)&&(void 0!==t.min&&e<t.min&&n.push(\"Value is less than minimum\"),void 0!==t.max)&&e>t.max&&n.push(\"Value is greater than maximum\"),n}})},function(e,t,n){\"use strict\";var o=n(177),n=o.extend({ui:function(){var e=o.prototype.ui.apply(this,arguments);return e.reverseOrderLabel=\".gmt-control-order-label\",e},changeLabelTitle:function(){var e=this.getControlValue(\"reverse_order\");this.ui.reverseOrderLabel.attr(\"title\",e?\"Asc\":\"Desc\")},onRender:function(){o.prototype.onRender.apply(this,arguments),this.changeLabelTitle()},onInputChange:function(){this.changeLabelTitle()}});e.exports=n},function(e,t,n){\"use strict\";var o=n(264),n=o.extend({ui:function(){var e=o.prototype.ui.apply(this,arguments);return e.popoverToggle=\".gmt-control-popover-toggle-toggle\",e},events:function(){return _.extend(o.prototype.events.apply(this,arguments),{\"click @ui.popoverToggle\":\"onPopoverToggleClick\"})},onPopoverToggleClick:function(){this.$el.next(\".gmt-controls-popover\").toggle()}},{onPasteStyle:function(e,t){return!t||t===e.return_value}});e.exports=n},function(e,t,n){\"use strict\";var r=n(0)(n(44));n(28),n(255),n(41);var o=n(87),n=n(266),n=o.extend({ui:{btnAddRow:\".gmt-repeater-add\",fieldContainer:\".gmt-repeater-fields-wrapper\"},events:function(){return{\"click @ui.btnAddRow\":\"onButtonAddRowClick\",\"sortstart @ui.fieldContainer\":\"onSortStart\",\"sortupdate @ui.fieldContainer\":\"onSortUpdate\",\"sortstop @ui.fieldContainer\":\"onSortStop\"}},childView:n,childViewContainer:\".gmt-repeater-fields-wrapper\",templateHelpers:function(){return{itemActions:this.model.get(\"item_actions\"),data:_.extend({},this.model.toJSON(),{controlValue:[]})}},childViewOptions:function(){return{controlFields:this.model.get(\"fields\"),titleField:this.model.get(\"title_field\"),itemActions:this.model.get(\"item_actions\")}},createItemModel:function(e,t,n){return(t=t||{}).controls=n.model.get(\"fields\"),e._id||(e._id=goomento.helpers.getUniqueID()),new goomentoModules.editor.elements.models.BaseSettings(e,t)},fillCollection:function(){var e=this.model.get(\"name\");this.collection=this.elementSettingsModel.get(e),this.collection instanceof Backbone.Collection||(this.collection=new Backbone.Collection(this.collection,{model:_.partial(this.createItemModel,_,_,this)}),this.elementSettingsModel.set(e,this.collection,{silent:!0}),this.listenTo(this.collection,\"change\",this.onRowControlChange),this.listenTo(this.collection,\"update\",this.onRowUpdate,this))},initialize:function(){o.prototype.initialize.apply(this,arguments),this.fillCollection(),this.listenTo(this.collection,\"change\",this.onRowControlChange),this.listenTo(this.collection,\"update\",this.onRowUpdate,this)},addRow:function(e,t){var n=goomento.helpers.getUniqueID();return e instanceof Backbone.Model?e.set(\"_id\",n):e._id=n,this.collection.add(e,t)},editRow:function(e){var t;this.currentEditableChild&&((t=this.currentEditableChild.getChildViewContainer(this.currentEditableChild)).removeClass(\"editable\"),t.parent().removeClass(\"editable\"),t.find(\".gmt-editor\").each(function(){tinymce.get(this.id).fire(\"hide\")})),this.currentEditableChild!==e?((t=e.getChildViewContainer(e)).addClass(\"editable\"),t.parent().addClass(\"editable\"),this.currentEditableChild=e,this.updateActiveRow()):delete this.currentEditableChild},toggleMinRowsClass:function(){this.model.get(\"prevent_empty\")&&this.$el.toggleClass(\"gmt-repeater-has-minimum-rows\",this.collection.length<=1)},updateActiveRow:function(){var e=1;this.currentEditableChild&&(e=this.currentEditableChild.itemIndex),this.setEditSetting(\"activeItemIndex\",e)},updateChildIndexes:function(){var t=this.collection;this.children.each(function(e){e.updateIndex(t.indexOf(e.model)+1),e.setTitle()})},onRender:function(){o.prototype.onRender.apply(this,arguments),this.model.get(\"item_actions\").sort&&this.ui.fieldContainer.sortable({axis:\"y\",handle:\".gmt-repeater-row-tools\"}),this.toggleMinRowsClass()},onSortStart:function(e,t){t.item.data(\"oldIndex\",t.item.index())},onSortStop:function(e,t){var n,o=this;-1!==t.item.index()&&(t=(n=o.children.findByIndex(t.item.index())).children._views,jQuery.each(t,function(){if(\"wysiwyg\"===this.model.get(\"type\"))return n.render(),delete o.currentEditableChild,!1}))},onSortUpdate:function(e,t){var n=t.item.data(\"oldIndex\"),n=this.collection.at(n),t=t.item.index();this.collection.remove(n),this.addRow(n,{at:t})},onAddChild:function(){this.updateChildIndexes(),this.updateActiveRow()},onRowUpdate:function(e,t){var n=this.elementSettingsModel,o=e.clone(),i=this.model.get(\"name\");t.add?o.remove(t.changes.added[0]):o.add(t.changes.removed[0],{at:t.index}),n.changed={},n.changed[i]=e,n._previousAttributes={},n._previousAttributes[i]=o.toJSON(),n.trigger(\"change\",n,n._pending),delete n.changed,delete n._previousAttributes,this.toggleMinRowsClass()},onRowControlChange:function(e){var t,n,o,i;(0,r.default)(e.changed).length&&(t=e.collection.toJSON(),n=e.collection.findIndex(e),o=this._parent.model.get(\"settings\"),i=this.model.get(\"name\"),t[n]=e._previousAttributes,o.changed={},o.changed[i]=e.collection,o._previousAttributes={},o._previousAttributes[i]=t,o.trigger(\"change\",o),delete o.changed,delete o._previousAttributes)},onButtonAddRowClick:function(){var t={},e=(_.each(this.model.get(\"fields\"),function(e){t[e.name]=e.default}),this.addRow(t)),e=this.children.findByModel(e);this.editRow(e)},onChildviewClickRemove:function(e){e.model.destroy(),e===this.currentEditableChild&&delete this.currentEditableChild,this.updateChildIndexes(),this.updateActiveRow()},onChildviewClickDuplicate:function(e){var t=this.createItemModel(e.model.toJSON(),{},this);this.addRow(t,{at:e.itemIndex})},onChildviewClickEdit:function(e){this.editRow(e)},onAfterExternalChange:function(){this.fillCollection(),o.prototype.onAfterExternalChange.apply(this,arguments)}});e.exports=n},function(e,t,n){\"use strict\";var o=n(193),n=o.extend({ui:function(){var e=o.prototype.ui.apply(this,arguments);return e.heading=\".gmt-panel-heading\",e},triggers:{click:\"control:section:clicked\"}});e.exports=n},function(e,t,n){\"use strict\";var o=n(87).extend({},{onPasteStyle:function(e,t){return e.groups?e.groups.some(function(e){return o.onPasteStyle(e,t)}):void 0!==e.options[t]}});e.exports=o},function(e,t,n){\"use strict\";var o=n(0)(n(44));n(72),n(86),n(119);var i=n(265),n=i.extend({ui:function(){var e=i.prototype.ui.apply(this,arguments);return e.slider=\".gmt-slider\",e},templateHelpers:function(){var e=i.prototype.templateHelpers.apply(this,arguments);return e.isMultiple=this.isMultiple(),e},isMultiple:function(){var e=this.getControlValue(\"sizes\");return!_.isEmpty(e)},initSlider:function(){this.destroySlider();var e,t=this.isMultiple(),n=goomentoCommon.helpers.cloneObject(this.getCurrentRange()),o=n.step,i=this.getSize(),r=(t?i=_.values(i):(i=[i],this.ui.input.attr(n)),delete n.step,this);t&&(e=[],i.forEach(function(){return e.push({to:function(e){return e+r.getControlValue(\"unit\")}})})),noUiSlider.create(this.ui.slider[0],{start:i,range:n,step:o,tooltips:e,connect:t,format:{to:function(e){return Math.round(1e3*e)/1e3},from:function(e){return+e}}}).on(\"slide\",this.onSlideChange.bind(this))},applySavedValue:function(){i.prototype.applySavedValue.apply(this,arguments),this.ui.slider[0].noUiSlider&&this.ui.slider[0].noUiSlider.set(this.getSize())},getSize:function(){return this.getControlValue(this.isMultiple()?\"sizes\":\"size\")},resetSize:function(){this.isMultiple()?this.setValue(\"sizes\",{}):this.setValue(\"size\",\"\"),this.initSlider()},destroySlider:function(){this.ui.slider[0].noUiSlider&&this.ui.slider[0].noUiSlider.destroy()},onReady:function(){this.isMultiple()&&this.$el.addClass(\"gmt-control-type-slider--multiple gmt-control-type-slider--handles-\"+this.model.get(\"handles\")),this.initSlider()},onSlideChange:function(e,t){var n;this.isMultiple()?((n=goomentoCommon.helpers.cloneObject(this.getSize()))[(0,o.default)(n)[t]]=e[t],this.setValue(\"sizes\",n)):(this.setValue(\"size\",e[0]),this.ui.input.val(e[0]))},onInputChange:function(e){e=e.currentTarget.dataset.setting;\"size\"===e?this.ui.slider[0].noUiSlider.set(this.getSize()):\"unit\"===e&&this.resetSize()},onBeforeDestroy:function(){this.destroySlider(),this.$el.remove()}});e.exports=n},function(e,t,n){\"use strict\";var o=n(87),n=o.extend({ui:function(){var e=o.prototype.ui.apply(this,arguments);return e.resetStructure=\".gmt-control-structure-reset\",e},events:function(){return _.extend(o.prototype.events.apply(this,arguments),{\"click @ui.resetStructure\":\"onResetStructureClick\"})},templateHelpers:function(){var e=o.prototype.templateHelpers.apply(this,arguments);return e.getMorePresets=this.getMorePresets.bind(this),e},getCurrentEditedSection:function(){return goomento.getPanelView().getCurrentPageView().getOption(\"editedElementView\")},getMorePresets:function(){var e=goomento.presetsFactory.getParsedStructure(this.getControlValue());return goomento.presetsFactory.getPresets(e.columnsCount)},onInputChange:function(){this.getCurrentEditedSection().redefineLayout(),this.render()},onResetStructureClick:function(){this.getCurrentEditedSection().resetColumnsCustomSize()}});e.exports=n},function(e,t,n){\"use strict\";n=n(87);e.exports=n.extend({setInputValue:function(e,t){this.$(e).prop(\"checked\",this.model.get(\"return_value\")===t)}},{onPasteStyle:function(e,t){return!t||t===e.return_value}})},function(e,t,n){\"use strict\";n=n(193).extend({triggers:{click:{event:\"control:tab:clicked\",stopPropagation:!1}}});e.exports=n},function(e,t,n){\"use strict\";n=n(177);e.exports=n.extend({onReady:function(){goomentoCommon.config.isRTL},onBeforeDestroy:function(){this.ui.input.data(\"autocomplete\")&&this.ui.input.autocomplete(\"destroy\"),this.$el.remove()}})},function(e,t,n){\"use strict\";n(76),n(62);var o=n(87);window.tinyMCEPreInit={mceInit:{},qtInit:{}},n=o.extend({editor:null,tinymce_pre_init:{toolbar:\"undo redo | formatselect | styleselect | fontsizeselect | bold italic underline | alignleft aligncenter alignright | bullist numlist | link table charmap | forecolor backcolor\",plugins:\"advlist autolink lists link charmap media noneditable table contextmenu paste code help table textcolor colorpicker\",fontsize_formats:\"8px 9px 10px 11px 12px 14px 18px 24px 30px 36px 48px 60px 72px 96px\"},ui:function(){var e=o.prototype.ui.apply(this,arguments);return jQuery.extend(e,{inputWrapper:\".gmt-control-input-wrapper\"}),e},events:function(){return _.extend(o.prototype.events.apply(this,arguments),{\"keyup textarea.gmt-editor\":\"onBaseInputChange\"})},buttons:{addToBasic:{underline:\"italic\"},addToAdvanced:{},moveToAdvanced:{blockquote:\"removeformat\",alignleft:\"blockquote\",aligncenter:\"alignleft\",alignright:\"aligncenter\"},moveToBasic:{},removeFromBasic:[\"unlink\"],removeFromAdvanced:[]},initialize:function(){o.prototype.initialize.apply(this,arguments);var e,t=this;t.editorID=\"goomentoEditor\"+t.cid,_.defer(function(){var e;!t.isDestroyed&&goomento.config.rich_editing_enabled&&(e=tinyMCEPreInit.mceInit[t.editorID],goomento.controllerPanel.storage&&goomento.controllerPanel.storage.darkMode&&(e.content_css=\"dark\",e.skin=\"oxide-dark\"),tinymce.init(e))}),goomento.config.rich_editing_enabled?(e={id:t.editorID,selector:\"#\"+t.editorID,height:400,setup:function(e){t.editor=e}},tinyMCEPreInit.mceInit[t.editorID]=_.extend(_.clone(t.tinymce_pre_init),e)):t.$el.addClass(\"gmt-rich-editing-disabled\")},applySavedValue:function(){var e;this.editor&&(e=this.getControlValue(),this.editor.setContent(e),jQuery(\"#\"+this.editorID).val(e))},saveEditor:function(){this.editor.save(),this.setValue(this.editor.getContent())},moveButtons:function(e,i,r){r||(r=i,i=null),_.each(e,function(e,t){var n=r.indexOf(e);if(i){var o=i.indexOf(t);if(-1===o)throw new ReferenceError(\"Trying to move non-existing button `\"+t+\"`\");i.splice(o,1)}if(-1===n)throw new ReferenceError(\"Trying to move button after non-existing button `\"+e+\"`\");r.splice(n+1,0,t)})},rearrangeButtons:function(){var e=tinyMCEPreInit.mceInit[this.editorID],t=e.toolbar1.split(\",\"),n=e.toolbar2.split(\",\"),t=_.difference(t,this.buttons.removeFromBasic),n=_.difference(n,this.buttons.removeFromAdvanced);this.moveButtons(this.buttons.moveToBasic,n,t),this.moveButtons(this.buttons.moveToAdvanced,t,n),this.moveButtons(this.buttons.addToBasic,t),this.moveButtons(this.buttons.addToAdvanced,n),e.toolbar1=t.join(\",\"),e.toolbar2=n.join(\",\")},onReady:function(){var e=this,t=document.getElementById(\"tmpl-gmt-wysiwyg-editor-config\").innerHTML,t=jQuery(t.replace(/goomentoEditor/g,this.editorID).replace(\"%%EDITORCONTENT%%\",this.getControlValue()));this.ui.inputWrapper.html(t),setTimeout(function(){e.isDestroyed||e.editor.on(\"keyup change undo redo SetContent\",e.saveEditor.bind(e))},100)},onBeforeDestroy:function(){goomento.config.rich_editing_enabled&&(tinymce.EditorManager.execCommand(\"mceRemoveEditor\",!0,this.editorID),delete tinyMCEPreInit.mceInit[this.editorID])}}),e.exports=n},function(e,t,n){\"use strict\";e.exports=goomentoModules.editor.elements.models.BaseSettings.extend({defaults:{_column_size:100}})},function(e,t,n){\"use strict\";var o=n(0);n(28);var i=o(n(427)),r=o(n(428)),a=n(207),o=a.extend({_templateType:null,toggleEditTools:!0,getTemplate:function(){var e=this.getEditModel();return\"remote\"!==this.getTemplateType()?Marionette.TemplateCache.get(\"#tmpl-gmt-\"+e.get(\"widgetType\")+\"-content\"):_.template(\"\")},className:function(){return a.prototype.className.apply(this,arguments)+\" gmt-widget \"+goomento.getElementData(this.getEditModel()).html_wrapper_class},events:function(){var e=a.prototype.events.apply(this,arguments);return e.click=\"onClickEdit\",e},behaviors:function(){var e=a.prototype.behaviors.apply(this,arguments);return _.extend(e,{InlineEditing:{behaviorClass:n(429),inlineEditingClass:\"gmt-inline-editing\"},Draggable:{behaviorClass:i.default},Resizable:{behaviorClass:r.default}}),goomento.hooks.applyFilters(\"elements/widget/behaviors\",e,this)},getEditButtons:function(){var e=goomento.getElementData(this.model),t={};return t.edit={title:\"Edit %1\".replace(\"%1\",e.title),icon:\"fas fa-pencil-alt\"},t},initialize:function(){a.prototype.initialize.apply(this,arguments);var e=this.getEditModel(),t=(e.on({\"before:remote:render\":this.onModelBeforeRemoteRender.bind(this),\"remote:render\":this.onModelRemoteRender.bind(this)}),\"remote\"!==this.getTemplateType()||this.getEditModel().getHtmlCache()||e.renderRemoteServer(),this.onRender);this.render=_.throttle(this.render,300),this.onRender=function(){_.defer(t.bind(this))}},getContextMenuGroups:function(){var e=a.prototype.getContextMenuGroups.apply(this,arguments);return e.indexOf(_.findWhere(e,{name:\"transfer\"})),e},render:function(){this.model.isRemoteRequestActive()?(this.handleEmptyWidget(),this.$el.addClass(\"gmt-element\")):Marionette.CompositeView.prototype.render.apply(this,arguments)},handleEmptyWidget:function(){this.$el.addClass(\"gmt-widget-empty\").append('<i class=\"gmt-widget-empty-icon '+this.getEditModel().getIcon()+'\"></i>')},getTemplateType:function(){var e;return null===this._templateType&&(e=this.getEditModel(),e=jQuery(\"#tmpl-gmt-\"+e.get(\"widgetType\")+\"-content\"),this._templateType=e.length?\"js\":\"remote\"),this._templateType},getHTMLContent:function(e){return this.getEditModel().getHtmlCache()||e},attachElContent:function(e){var t=this;return _.defer(function(){goomentoFrontend.elements.window.jQuery(t.el).empty().append(t.getHandlesOverlay(),t.getHTMLContent(e)),t.bindUIElements()}),this},addInlineEditingAttributes:function(e,t){this.addRenderAttribute(e,{class:\"gmt-inline-editing\",\"data-gmt-setting-key\":e}),t&&this.addRenderAttribute(e,{\"data-gmt-inline-editing-toolbar\":t})},getRepeaterSettingKey:function(e,t,n){return[t,n,e].join(\".\")},onModelBeforeRemoteRender:function(){this.$el.addClass(\"gmt-loading\")},onBeforeDestroy:function(){goomento.$previewContents.find(\"#gmt-style-\"+this.model.cid).remove()},onModelRemoteRender:function(){this.isDestroyed||(this.$el.removeClass(\"gmt-loading\"),this.render())},onRender:function(){var e=this,t=(a.prototype.onRender.apply(e,arguments),e.getEditModel());e.$el.attr(\"data-widget_type\",t.get(\"widgetType\")).removeClass(\"gmt-widget-empty\").children(\".gmt-widget-empty-icon\").remove(),e.$el.imagesLoaded().always(function(){setTimeout(function(){e.$el.children(\".gmt-widget-container\").outerHeight()||e.handleEmptyWidget()},1e3)}),goomentoFrontend.triggerContentUpdated()},onClickEdit:function(){this.model.trigger(\"request:edit\")}});e.exports=o},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(50)),s=r(n(25)),u=r(n(5)),r=r(n(6)),u=(n=Marionette.Behavior,(0,u.default)(c,n),o=(0,r.default)(c),(0,i.default)(c,[{key:\"events\",value:function(){return{dragstart:\"onDragStart\",dragstop:\"onDragStop\"}}},{key:\"initialize\",value:function(){var i=this,r=((0,l.default)((0,s.default)(c.prototype),\"initialize\",this).call(this),this.listenTo(goomento.channels.dataEditMode,\"switch\",this.toggle),this.view),a=r.onSettingsChanged;r.onSettingsChanged=function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];a.call.apply(a,[r].concat(n)),(e=i.onSettingsChanged).call.apply(e,[i].concat(n))}}},{key:\"activate\",value:function(){this.$el.draggable({addClasses:!1})}},{key:\"deactivate\",value:function(){this.$el.data(\"draggable\")&&this.$el.draggable(\"destroy\")}},{key:\"toggle\",value:function(){var e=\"edit\"===goomento.channels.dataEditMode.request(\"activeMode\"),t=this.view.getEditModel().getSetting(\"_position\");this.deactivate(),e&&t&&goomento.userCan(\"save\")&&this.activate()}},{key:\"onRender\",value:function(){var e=this;_.defer(function(){return e.toggle()})}},{key:\"onDestroy\",value:function(){this.deactivate()}},{key:\"onDragStart\",value:function(e){e.stopPropagation(),this.view.model.trigger(\"request:edit\")}},{key:\"onDragStop\",value:function(e,t){var n=this,e=(e.stopPropagation(),goomentoFrontend.getCurrentDeviceMode()),e=\"desktop\"===e?\"\":\"_\"+e,o=this.view.getEditModel(),i=o.getSetting(\"_offset_orientation_h\"),r=o.getSetting(\"_offset_orientation_v\"),a={},l=goomentoFrontend.config.is_rtl,s=this.$el.offsetParent().width(),u=this.$el.outerWidth(!0),c=t.position.left,l=l?s-c-u:c,c=t.position.top,t=\"_offset_x\",d=\"_offset_y\",i=(\"end\"===i&&(l=s-l-u,t=\"_offset_x_end\"),o.getSetting(t+e).unit),l=goomento.helpers.elementSizeToUnit(this.$el,l,i),s=this.$el.offsetParent().height(),u=this.$el.outerHeight(!0),r=(\"end\"===r&&(c=s-c-u,d=\"_offset_y_end\"),o.getSetting(d+e).unit),c=goomento.helpers.elementSizeToUnit(this.$el,c,r);a[t+e]={size:l,unit:i},a[d+e]={size:c,unit:r},o.get(\"settings\").setExternalChange(a),setTimeout(function(){n.$el.css({top:\"\",left:\"\",right:\"\",bottom:\"\",width:\"\",height:\"\"})},250)}},{key:\"onSettingsChanged\",value:function(e){void 0!==(e=e.changed?e.changed:e)._position&&this.toggle()}}]),c);function c(){return(0,a.default)(this,c),o.apply(this,arguments)}t.default=u},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(50)),s=r(n(25)),u=r(n(5)),r=r(n(6)),u=(n=Marionette.Behavior,(0,u.default)(c,n),o=(0,r.default)(c),(0,i.default)(c,[{key:\"events\",value:function(){return{resizestart:\"onResizeStart\",resizestop:\"onResizeStop\",resize:\"onResize\"}}},{key:\"initialize\",value:function(){var i=this,r=((0,l.default)((0,s.default)(c.prototype),\"initialize\",this).call(this),this.listenTo(goomento.channels.dataEditMode,\"switch\",this.toggle),this.view),a=r.onSettingsChanged;r.onSettingsChanged=function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];a.call.apply(a,[r].concat(n)),(e=i.onSettingsChanged).call.apply(e,[i].concat(n))}}},{key:\"activate\",value:function(){this.$el.resizable({handles:\"e, w\"})}},{key:\"deactivate\",value:function(){this.$el.data(\"resizable\")&&this.$el.resizable(\"destroy\")}},{key:\"toggle\",value:function(){var e=this.view.getEditModel(),t=\"edit\"===goomento.channels.dataEditMode.request(\"activeMode\"),n=e.getSetting(\"_position\"),e=\"initial\"===e.getSetting(\"_element_width\");this.deactivate(),t&&(n||e)&&goomento.userCan(\"save\")&&this.activate()}},{key:\"onRender\",value:function(){var e=this;_.defer(function(){return e.toggle()})}},{key:\"onDestroy\",value:function(){this.deactivate()}},{key:\"onResizeStart\",value:function(e){e.stopPropagation(),this.view.model.trigger(\"request:edit\")}},{key:\"onResizeStop\",value:function(e,t){e.stopPropagation();var e=goomentoFrontend.getCurrentDeviceMode(),e=\"desktop\"===e?\"\":\"_\"+e,n=this.view.getEditModel(),o=n.getSetting(\"_element_custom_width\"+e).unit,t=goomento.helpers.elementSizeToUnit(this.$el,t.size.width,o),i={};i[\"_element_width\"+e]=\"initial\",i[\"_element_custom_width\"+e]={unit:o,size:t},n.get(\"settings\").setExternalChange(i),this.$el.css({width:\"\",height:\"\"})}},{key:\"onResize\",value:function(e){e.stopPropagation()}},{key:\"onSettingsChanged\",value:function(e){void 0===(e=e.changed?e.changed:e)._position&&void 0===e._element_width||this.toggle()}}]),c);function c(){return(0,a.default)(this,c),o.apply(this,arguments)}t.default=u},function(e,t,n){\"use strict\";n(76),n=Marionette.Behavior.extend({editing:!1,$currentEditingArea:null,ui:function(){return{inlineEditingArea:\".\"+this.getOption(\"inlineEditingClass\")}},events:function(){return{\"click @ui.inlineEditingArea\":\"onInlineEditingClick\",\"input @ui.inlineEditingArea\":\"onInlineEditingUpdate\"}},initialize:function(){this.onInlineEditingBlur=this.onInlineEditingBlur.bind(this)},getEditingSettingKey:function(){return this.$currentEditingArea.data().gmtSettingKey},startEditing:function(e){var t,n,o,i;this.editing||\"edit\"!==goomento.channels.dataEditMode.request(\"activeMode\")||this.view.model.isRemoteRequestActive()||(n=3===(t=(o=e.data().gmtSettingKey).split(\".\")).length,i=this.view.getEditModel().get(\"settings\"),n&&(i=i.get(t[0]).models[t[1]],o=t[2]),(n=i.get(\"__dynamic__\"))&&n[o])||(this.$currentEditingArea=e,t=this.getEditingSettingKey(),(i=this.view.getEditModel()).hasSetting(t)&&(n=this.$currentEditingArea.data().gmtInlineEditingToolbar,o=i.getSetting(t),e=[\"\"],\"basic\"===n?e=[\"bold\",\"italic\",\"underline\"]:\"advanced\"===n&&(e=[\"blockquote\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"p\",\"insertorderedlist\",\"insertunorderedlist\",\"indent\",\"outdent\",\"bold\",\"italic\",\"underline\"]),this.$currentEditingArea.html(o),i=goomentoFrontend.elements.window.Pen,this.editing=!0,this.view.allowRender=!1,this.view.model.setHtmlCache(\"\"),this.editor=new i({linksInNewWindow:!0,stay:!1,debug:goomento.config.debug,mode:n,editor:this.$currentEditingArea[0],list:e}),this.editor.focus(),jQuery(this.editor._menu).children().on(\"mousedown\",function(e){e.preventDefault()}),this.$currentEditingArea.on(\"blur\",this.onInlineEditingBlur),goomentoCommon.elements.$body.on(\"mousedown\",this.onInlineEditingBlur)))},stopEditing:function(){this.editing=!1,this.$currentEditingArea.off(\"blur\",this.onInlineEditingBlur),goomentoCommon.elements.$body.off(\"mousedown\",this.onInlineEditingBlur),this.editor.destroy(),this.view.allowRender=!0,\"advanced\"===this.$currentEditingArea.data().goomentoInlineEditingToolbar&&this.view.getEditModel().renderRemoteServer()},onInlineEditingClick:function(e){var t=this,n=jQuery(e.currentTarget);setTimeout(function(){t.startEditing(n)},30)},onInlineEditingBlur:function(e){var t=this;\"mousedown\"!==e.type?setTimeout(function(){var e=goomentoFrontend.elements.window.getSelection();jQuery(e.focusNode).closest(\".pen-input-wrapper\").length||t.stopEditing()},20):this.stopEditing()},onInlineEditingUpdate:function(){this.view.getEditModel().setSetting(this.getEditingSettingKey(),this.editor.getContent())}}),e.exports=n},function(e,t,n){\"use strict\";n=Marionette.CollectionView.extend({childView:n(269),id:\"gmt-panel-elements\",initialize:function(){this.listenTo(goomento.channels.panelElements,\"filter:change\",this.onFilterChanged)},filter:function(e){var t=goomento.channels.panelElements.request(\"filter:value\");return!t||-1!==e.get(\"title\").toLowerCase().indexOf(t.toLowerCase())||_.any(e.get(\"keywords\"),function(e){return-1!==e.toLowerCase().indexOf(t.toLowerCase())})},onFilterChanged:function(){goomento.channels.panelElements.request(\"filter:value\")||this.onFilterEmpty(),this._renderChildren(),this.triggerMethod(\"children:render\")},onFilterEmpty:function(){$e.routes.refreshContainer(\"panel\")}});e.exports=n},function(e,t,n){\"use strict\";var o=n(0),i=(n(62),n(41),n(98),o(n(162))),r=o(n(44));e.exports=goomentoModules.Module.extend({CACHE_KEY_NOT_FOUND_ERROR:\"Cache key not found\",tags:{Base:n(432)},cache:{},cacheRequests:{},cacheCallbacks:[],addCacheRequest:function(e){this.cacheRequests[this.createCacheKey(e)]=!0},createCacheKey:function(e){return btoa(e.getOption(\"name\"))+\"-\"+btoa(encodeURIComponent((0,i.default)(e.model)))},loadTagDataFromCache:function(e){var t=this.createCacheKey(e);if(void 0!==this.cache[t])return this.cache[t];this.cacheRequests[t]||this.addCacheRequest(e)},loadCacheRequests:function(){var t=this.cache,e=this.cacheRequests,n=this.cacheCallbacks;this.cacheRequests={},this.cacheCallbacks=[],goomentoCommon.ajax.addRequest(\"render_tags\",{data:{tags:(0,r.default)(e)},success:function(e){jQuery.extend(t,e),n.forEach(function(e){e()})}})},refreshCacheFromServer:function(e){this.cacheCallbacks.push(e),this.loadCacheRequests()},getConfig:function(e){return this.getItems(goomento.config.dynamicTags,e)},parseTagsText:function(e,t,n){var o=this;return\"object\"===t.returnType?o.parseTagText(e,t,n):e.replace(/\\[gmt-tag[^\\]]+]/g,function(e){return o.parseTagText(e,t,n)})},parseTagText:function(e,t,n){e=this.tagTextToTagData(e);return e?n(e.id,e.name,e.settings):\"object\"===t.returnType?{}:\"\"},tagTextToTagData:function(e){var t=e.match(/id=\"(.*?(?=\"))\"/),n=e.match(/name=\"(.*?(?=\"))\"/),e=e.match(/settings=\"(.*?(?=\"]))/);return!!(t&&n&&e)&&{id:t[1],name:n[1],settings:JSON.parse(decodeURIComponent(e[1]))}},createTag:function(e,t,n){var o=this.getConfig(\"tags.\"+t);if(o)return new(this.tags[t]||this.tags.Base)({id:e,name:t,model:new goomentoModules.editor.elements.models.BaseSettings(n,{controls:o.controls})})},getTagDataContent:function(e,t,n){e=this.createTag(e,t,n);if(e)return e.getContent()},tagDataToTagText:function(e,t,n){return'[gmt-tag id=\"'+e+'\" name=\"'+t+'\" settings=\"'+encodeURIComponent((0,i.default)(n&&n.toJSON({remove:[\"default\"]})||{}))+'\"]'},cleanCache:function(){this.cache={}},onInit:function(){this.loadCacheRequests=_.debounce(this.loadCacheRequests,300)}})},function(e,t,n){\"use strict\";e.exports=Marionette.ItemView.extend({hasTemplate:!0,tagName:\"span\",className:function(){return\"gmt-tag\"},getTemplate:function(){return!!this.hasTemplate&&Marionette.TemplateCache.get(\"#tmpl-gmt-tag-\"+this.getOption(\"name\")+\"-content\")},initialize:function(){try{this.getTemplate()}catch(e){this.hasTemplate=!1}},getConfig:function(e){var t=goomento.dynamicTags.getConfig(\"tags.\"+this.getOption(\"name\"));return e?t[e]:t},getContent:function(){var e,t=this.getConfig(\"content_type\");if(!this.hasTemplate&&void 0===(e=goomento.dynamicTags.loadTagDataFromCache(this)))throw new Error(goomento.dynamicTags.CACHE_KEY_NOT_FOUND_ERROR);if(\"ui\"===t){if(this.render(),this.hasTemplate)return this.el.outerHTML;this.getConfig(\"wrapped_tag\")&&(e=jQuery(e).html()),this.$el.html(e)}return e},onRender:function(){this.el.id=\"gmt-tag-\"+this.getOption(\"id\")}})},function(e,t,n){\"use strict\";e.exports=goomentoModules.Module.extend({modules:{base:n(234),general:n(434),page:n(436)},panelPages:{base:n(438)},onInit:function(){this.initSettings()},initSettings:function(){var o=this;_.each(goomento.config.settings,function(e,t){var n=o.modules[t]||o.modules.base;o[t]=new n(e)})}})},function(e,t,n){\"use strict\";var o=n(0)(n(435)),i=n(234);e.exports=i.extend({onInit:function(){i.prototype.onInit.apply(this),$e.components.register(new o.default({manager:this}))},addPanelPage:function(){goomento.menu.addMenuItem({name:\"global-settings\",icon:\"fas fa-cogs\",title:\"Global settings\",type:\"page\",callback:function(){return $e.route(\"global/settings/style\")}},\"settings\",\"settings\")},onGoomentoPreviewLoaded:function(){i.prototype.onGoomentoPreviewLoaded.apply(this);var e=goomento.config.styles.global_css;\"\"!==e.trim()&&this.getControlsCSS().elements.$stylesheetElement.append(\"/* Start Global CSS */\".concat(e,\"/* End Global CSS */\")),this.addPanelPage()}})},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),r=r(n(6)),l=(n=goomentoModules.common.Component,(0,l.default)(s,n),o=(0,r.default)(s),(0,i.default)(s,[{key:\"getNamespace\",value:function(){return\"global/settings\"}},{key:\"defaultTabs\",value:function(){return{style:{title:\"Style\"},lightbox:{title:\"Lightbox\"}}}},{key:\"getView\",value:function(){var e=goomento.settings.panelPages.base;return this.view=new e({model:this.manager.model,controls:this.manager.model.controls,name:\"general\"}),this.view}},{key:\"renderTab\",value:function(e){var t=this.getView();goomento.menu.setActiveView(t),t.activateTab(e)}},{key:\"getTabsWrapperSelector\",value:function(){return\"#gmt-panel-general-settings .gmt-panel-navigation\"}}]),s);function s(){return(0,a.default)(this,s),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";var o=n(0),i=(n(28),o(n(437))),r=o(n(234));e.exports=r.default.extend({onInit:function(){r.default.prototype.onInit.apply(this),$e.components.register(new i.default({manager:this}))},save:function(){},changeCallbacks:{title:function(e){goomentoFrontend.elements.$document.find(goomento.config.page_title_selector).text(e)},layout:function(e){goomento.saver.saveAutoSave({onSuccess:function(){goomento.reloadPreview(e),goomento.once(\"preview:loaded\",function(){$e.route(\"page/settings/settings\")})}})}},onModelChange:function(){goomento.saver.setFlagEditorChange(!0),r.default.prototype.onModelChange.apply(this,arguments)},getDataToSave:function(e){return e.id=goomento.config.document.id,e}})},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),s=r(n(6)),n=(r=r(n(206)).default,(0,l.default)(u,r),o=(0,s.default)(u),(0,i.default)(u,[{key:\"getNamespace\",value:function(){return\"page/settings\"}},{key:\"getModalOptions\",value:function(){return{id:\"gmt-control-page-settings\",position:{of:\"#gmt-panel-control-settings\"},hide:{ignore:\"#gmt-panel-control-settings\"}}}},{key:\"defaultTabs\",value:function(){return{settings:{title:\"Settings\"},style:{title:\"Style\"},advanced:{title:\"Advanced\"}}}},{key:\"defaultCommands\",value:function(){var e=this;return{toggle:function(){return e.toggleModal()}}}},{key:\"defaultRoutes\",value:function(){var e=this;return{close:function(){return e.hideModal()}}}},{key:\"renderTab\",value:function(e){var t,n;this.currentPageView||(t=goomento.settings.panelPages.base,n=goomento.settings.page,this.currentPageView=new t({model:n.model,controls:n.model.controls,name:\"page\"}),this.setDialogContent(this.currentPageView)),this.currentPageView.activateTab(e)}},{key:\"onModalShow\",value:function(){$e.route(this.getNamespace()+\"/settings\"),jQuery(\"#gmt-panel-control-settings\").addClass(\"active\")}},{key:\"onModalHide\",value:function(){$e.routes.clearCurrent(\"page/settings\"),jQuery(\"#gmt-panel-control-settings\").removeClass(\"active\")}},{key:\"getTabsWrapperSelector\",value:function(){return\"#gmt-panel-page-settings .gmt-panel-navigation\"}}]),u);function u(){return(0,a.default)(this,u),o.apply(this,arguments)}t.default=n},function(e,t,n){\"use strict\";e.exports=goomentoModules.editor.views.ControlsStack.extend({id:function(){return\"gmt-panel-\"+this.getOption(\"name\")+\"-settings\"},getTemplate:function(){return\"#tmpl-gmt-panel-\"+this.getOption(\"name\")+\"-settings\"},childViewContainer:function(){return\"#gmt-panel-\"+this.getOption(\"name\")+\"-settings-controls\"},childViewOptions:function(){return{elementSettingsModel:this.model}}})},function(e,t,n){\"use strict\";e.exports=goomentoModules.Module.extend({autoSaveTimer:null,autosaveInterval:6e4,isSaving:!1,isChangedDuringSave:!1,__construct:function(){this.setWorkSaver()},startTimer:function(e){clearTimeout(this.autoSaveTimer),e&&0<this.autosaveInterval&&(this.autoSaveTimer=setTimeout(_.bind(this.doAutoSave,this),this.autosaveInterval))},doAutoSave:function(){\"edit\"===goomento.channels.dataEditMode.request(\"activeMode\")&&this.saveAutoSave({label:\"Autosave\"})},saveAutoSave:function(e){this.isEditorChanged()&&(e=_.extend({status:\"autosave\"},e),this.saveEditor(e))},discard:function(){var e=this;goomentoCommon.ajax.addRequest(\"discard_changes\",{success:function(){e.setFlagEditorChange(!1),location.href=goomento.config.document.urls.exit_to_dashboard}})},update:function(e){e=_.extend({status:\"revision\"},e),this.saveEditor(e)},publish:function(e){e=_.extend({status:goomento.settings.page.model.get(\"origin_status\")},e),this.saveEditor(e)},setFlagEditorChange:function(e){e&&this.isSaving&&(this.isChangedDuringSave=!0),this.startTimer(e),goomento.channels.editor.reply(\"status\",e).trigger(\"editor:change\",e)},isEditorChanged:function(){return!0===goomento.channels.editor.request(\"status\")},setWorkSaver:function(){var t=this;goomentoCommon.elements.$window.on(\"beforeunload\",function(e){if(t.isEditorChanged())return(e||window.event).returnValue=\"Changes you made may not be saved\"})},defaultSave:function(){$(\"#gmt-panel-saver-button-publish\").hasClass(\"gmt-disabled\")||(\"revision\"===goomento.channels.editor.request(\"saved:status\")?this.publish():this.update())},saveEditor:function(n){var o,t,e;this.isSaving||(n=_.extend({status:\"pending\",onSuccess:null},n),o=this,t=goomento.elements.toJSON({remove:[\"default\",\"editSettings\",\"defaultEditSettings\"]}),e=goomento.settings.page.model.toJSON({remove:[\"default\"]}),o.trigger(\"before:save\",n).trigger(\"before:save:\"+n.status,n),o.isSaving=!0,o.isChangedDuringSave=!1,e.status=n.status,delete e.origin_status,goomentoCommon.ajax.addRequest(\"save_builder\",{data:{status:n.status,elements:t,settings:e,label:n.label},success:function(e){o.afterAjax(),\"autosave\"===n.status||o.isChangedDuringSave||o.setFlagEditorChange(!1),e.config&&jQuery.extend(!0,goomento.config,e.config),goomento.config.data=t,goomento.channels.editor.trigger(\"saved\",e),_.isFunction(n.onSuccess)&&n.onSuccess.call(this,e),o.trigger(\"after:save\",e,n).trigger(\"after:save:\"+n.status,e,n)},error:function(e){var t;o.afterAjax(),o.trigger(\"after:saveError\",e).trigger(\"after:saveError:\"+n.status,e),_.isString(e)?t=e:e&&e.statusText?(t=goomento.createAjaxErrorMessage(e),0===e.readyState&&(t+=\" Saving Disabled\")):t=e&&e[0]&&e[0].code?\"Server error:  \"+e[0].code:\"Something when wrong when saving your content.\",goomento.notifications.showToast({message:t})}}),this.trigger(\"save\",n))},afterAjax:function(){this.isSaving=!1}})},function(e,t,n){\"use strict\";var o=n(0)(n(160));e.exports=goomentoModules.Module.extend({initToast:function(){var n=goomentoCommon.dialogsManager.createWidget(\"buttons\",{id:\"gmt-toast\",position:{my:\"center bottom\",at:\"center top-10\",of:\"#gmt-controller\",autoRefresh:!0},hide:{onClick:!0},effects:{show:function(){var e=n.getElements(\"widget\"),t=(e.show(),n.refreshPosition(),(0,o.default)(e.css(\"top\"),10));e.hide().css(\"top\",t+100),e.animate({opacity:\"show\",height:\"show\",paddingBottom:\"show\",paddingTop:\"show\",top:t},{easing:\"linear\",duration:300})},hide:function(){var e=n.getElements(\"widget\"),t=(0,o.default)(e.css(\"top\"),10);e.animate({opacity:\"hide\",height:\"hide\",paddingBottom:\"hide\",paddingTop:\"hide\",top:t+100},{easing:\"linear\",duration:300})}},button:{tag:\"div\"}});this.getToast=function(){return n}},showToast:function(e){var t=this.getToast();t.setMessage(e.message),t.getElements(\"buttonsWrapper\").empty(),e.buttons&&e.buttons.forEach(function(e){t.addButton(e)}),t.show()},onInit:function(){this.initToast()}})},function(e,t,n){\"use strict\";n(62),e.exports=new function(){function e(e,t){var n=t.getEditModel().get(\"settings\").get(\"custom_css\");return n&&(e+=n.replace(/selector/g,\".gmt-element.gmt-element-\"+t.model.id)),e}function t(){var e=goomento.settings.page.model.get(\"custom_css\");e&&(e=e.replace(/selector/g,goomento.config.settings.page.cssWrapperSelector),goomento.settings.page.getControlsCSS().elements.$stylesheetElement.append(e))}jQuery(window).on(\"goomento:init\",function(){goomento.hooks.addFilter(\"editor/style/styleText\",e),goomento.settings.page.model.on(\"change\",t),goomento.on(\"preview:loaded\",t)})}},function(e,t,n){\"use strict\";var o=n(217);e.exports=o.extend({el:\"#gmt-panel\",isLastShown:null,getStorageKey:function(){return\"panel\"},getDefaultStorage:function(){return{docked:!0,size:{width:\"280px\",height:\"\",top:\"50px\",bottom:\"50px\",right:\"\",left:\"\"}}},constructor:function(){o.prototype.constructor.apply(this,arguments);var e=n(443);this.isDocked=!1,this.opened=!1,this.show(new e),this.listenTo(goomento.channels.dataEditMode,\"switch\",this.onEditModeSwitched).listenTo(goomento.channels.panelElements,\"element:drag:start\",this.onElementDragStart).listenTo(goomento.channels.panelElements,\"element:drag:end\",this.onElementDragEnd),goomento.channels.data.on(\"element:after:add\",this.onElementDragEnd.bind(this)).on(\"element:drag:end\",this.onElementDragEnd.bind(this)).on(\"drag:after:update\",this.onElementDragEnd.bind(this)).on(\"section:after:drop\",this.onElementDragEnd.bind(this)),this.ensurePosition(),this.open()},ensurePosition:function(){var e;this.isDocked||((e=this.$el.offset()).right>innerWidth&&this.$el.css({left:\"\",right:\"\"}),e.top>innerHeight&&this.$el.css({top:\"\",bottom:\"\"}))},setSize:function(){this.storage.size&&this.storage.size.width?this.$el.css(this.storage.size):jQuery(\"#gmt-panel\").position({my:\"center bottom\",at:\"center top-15\",of:\"#gmt-panel-control-panel\"})},resizable:function(){var e=this;e.$el.resizable({minWidth:250,maxWidth:680,start:function(){goomento.$previewWrapper.addClass(\"ui-resizable-resizing\")},stop:function(){goomento.$previewWrapper.removeClass(\"ui-resizable-resizing\"),goomento.getPanelView().updateScrollbar(),e.saveSize()}}),e.$el.draggable({iframeFix:!0,handle:\"#gmt-panel-header-wrapper\",drag:this.onDrag.bind(this),stop:this.onDragStop.bind(this)})},dock:function(){goomentoCommon.elements.$body.addClass(\"gmt-panel-docked\");var n=goomentoCommon.config.isRTL?\"right\":\"left\",e=this.getResizableOptions();this.$el.css({height:\"\",top:0,bottom:0,left:\"\",right:\"\"}),goomento.$previewWrapper.css(n,this.storage.size.width),this.$el.resizable(\"destroy\"),e.handles=goomentoCommon.config.isRTL?\"w\":\"e\",e.resize=function(e,t){goomento.$previewWrapper.css(n,t.size.width)},this.$el.resizable(e),this.isDocked=!0,this.saveStorage(\"docked\",!0)},getResizableOptions:function(){var e=this;return{minWidth:250,maxWidth:680,handles:\"all\",containment:\"document\",start:function(){goomento.$previewWrapper.addClass(\"ui-resizable-resizing\")},stop:function(){goomento.$previewWrapper.removeClass(\"ui-resizable-resizing\"),goomento.getPanelView().updateScrollbar(),this.isDocked?(this.storage.size.width=goomento.helpers.getElementInlineStyle(this.$el,[\"width\"]).width,goomentoCommon.storage.set(\"panel\",this.storage)):e.saveSize()}}},undock:function(e){goomentoCommon.elements.$body.removeClass(\"gmt-panel-docked\"),goomento.$previewWrapper.css(goomentoCommon.config.isRTL?\"right\":\"left\",\"\"),this.setSize(),this.$el.resizable(\"destroy\"),this.$el.resizable(this.getResizableOptions()),this.isDocked=!1,e||this.saveStorage(\"docked\",!1)},onDrag:function(e,t){if(this.isDocked)if(t.position.left===t.originalPosition.left){if(t.position.top!==t.originalPosition.top)return!1}else this.undock();else{t.position.top<0&&(t.position.top=0);var n=t.position.left<0,o=t.position.left+this.el.offsetWidth>innerWidth;goomentoCommon.config.isRTL?n&&(t.position.left=0):o&&(t.position.left=innerWidth-this.el.offsetWidth),goomentoCommon.elements.$body.toggleClass(\"gmt-panel--dock-hint\",goomentoCommon.config.isRTL?o:n)}},onDragStop:function(e,t){var n;this.isDocked||(this.saveSize(),n=t.position.left+this.el.offsetWidth,(t.position.left<0||n>innerWidth)&&this.dock(),goomentoCommon.elements.$body.removeClass(\"gmt-panel--dock-hint\"))},onEditModeSwitched:function(e){\"edit\"===e?this.restore():this.close(!0)},close:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.isLastShown=null,e&&this.isOpened()&&(this.isLastShown=!0),this.isDocked&&this.undock(!0),this.$el.hide(),jQuery(\"#gmt-panel-control-panel\").removeClass(\"active\")},open:function(){\"edit\"===goomento.channels.dataEditMode.request(\"activeMode\")&&(this.opened||(this.resizable(),this.opened=!0),this.$el.show(),this.setSize(),this.storage.docked?(this.dock(),this.$el.css(\"width\",this.storage.size.width)):this.setSize(),this.ensurePosition(),this.isLastShown=null,jQuery(\"#gmt-panel-control-panel\").addClass(\"active\"))},isOpened:function(){return this.$el.is(\":visible\")},toggle:function(){this.isOpened()?this.close():this.open()},restore:function(){!0!==this.isLastShown||this.isOpened()||this.open()},onElementDragStart:function(){this.isDocked||setTimeout(this.close.bind(this,!0),50)},onElementDragEnd:function(){this.isDocked||this.restore()}})},function(e,t,n){\"use strict\";var o=n(0),i=o(n(444)),r=o(n(445)),a=o(n(446)),o=Marionette.LayoutView.extend({template:\"#tmpl-gmt-panel\",id:\"gmt-panel-inner\",regions:{content:\"#gmt-panel-content-wrapper\",header:\"#gmt-panel-header-wrapper\"},pages:{},childEvents:{\"click:add\":function(){$e.route(\"panel/elements/categories\")},\"editor:destroy\":function(){$e.route(\"panel/elements/categories\",{autoFocusSearch:!1})}},currentPageName:null,currentPageView:null,perfectScrollbar:null,initialize:function(){$e.components.register(new i.default({manager:this})),$e.components.register(new r.default({manager:this})),$e.components.register(new a.default({manager:this})),this.initPages()},buildPages:function(){return{elements:{view:n(447),title:'<span class=\"goomento-text\"></span>'},editor:{view:n(454)}}},initPages:function(){var n;this.getPages=function(e){return n=n||this.buildPages(),e?n[e]:n},this.addPage=function(e,t){(n=n||this.buildPages())[e]=t}},getHeaderView:function(){return this.getChildView(\"header\")},getCurrentPageName:function(){return this.currentPageName},getCurrentPageView:function(){return this.currentPageView},setPage:function(e,t,n){var o=this.getPages(),o=(\"elements\"!==e||goomento.userCan(\"save\")||o.page_settings&&(e=\"page_settings\"),o[e]);if(!o)throw new ReferenceError(\"Goomento panel doesn't have page named '\"+e+\"'\");o.options&&(n=_.extend(o.options,n));var i=o.view;return o.getView&&(i=o.getView()),this.currentPageName=e,this.currentPageView=new i(n),this.showChildView(\"content\",this.currentPageView),this.trigger(\"set:page\",this.currentPageView).trigger(\"set:page:\"+e,this.currentPageView),this.currentPageView},onBeforeShow:function(){this.updateScrollbar=_.throttle(this.updateScrollbar,100),this.getRegion(\"content\").on(\"before:show\",this.onEditorBeforeShow.bind(this)).on(\"empty\",this.onEditorEmpty.bind(this)).on(\"show\",this.updateScrollbar.bind(this))},onEditorBeforeShow:function(){_.defer(this.updateScrollbar.bind(this))},onEditorEmpty:function(){this.updateScrollbar()},updateScrollbar:function(){this.perfectScrollbar?this.perfectScrollbar.update():(this.perfectScrollbar=new PerfectScrollbar(this.content.el,{suppressScrollX:!0}),this.perfectScrollbar.isRtl=!1)}});e.exports=o},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),r=r(n(6)),l=(n=goomentoModules.common.Component,(0,l.default)(s,n),o=(0,r.default)(s),(0,i.default)(s,[{key:\"getNamespace\",value:function(){return\"panel\"}},{key:\"defaultCommands\",value:function(){return{open:function(){return goomento.controls.open()},close:function(){return goomento.panel.close()},toggle:function(){return goomento.panel.toggle()},toggleMode:function(){var e=\"edit\"===goomento.channels.dataEditMode.request(\"activeMode\")?\"preview\":\"edit\";goomento.changeEditMode(e)},exit:function(){return $e.route(\"panel/elements/categories\")},\"change-device-mode\":function(e){var t,n=[\"desktop\",\"tablet\",\"mobile\"];e.device||(t=goomento.channels.deviceMode.request(\"currentMode\"),t=n.indexOf(t),++t>=n.length&&(t=0),e.device=n[t]),goomento.changeDeviceMode(e.device)}}}},{key:\"defaultShortcuts\",value:function(){return{toggleMode:{keys:\"ctrl+p\"},toggle:{keys:\"ctrl+shift+p\"},exit:{keys:\"esc\",dependency:function(){return!jQuery(\".dialog-widget:visible\").length},scopes:[\"panel\",\"preview\"]},\"change-device-mode\":{keys:\"ctrl+shift+m\"}}}}]),s);function s(){return(0,a.default)(this,s),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),r=r(n(6)),l=(n=goomentoModules.common.Component,(0,l.default)(s,n),o=(0,r.default)(s),(0,i.default)(s,[{key:\"getNamespace\",value:function(){return\"panel/elements\"}},{key:\"defaultTabs\",value:function(){return{categories:{title:\"Elements\"}}}},{key:\"getTabsWrapperSelector\",value:function(){return\"#gmt-panel #gmt-panel-elements-navigation\"}},{key:\"renderTab\",value:function(e){this.manager.setPage(\"elements\").showView(e)}}]),s);function s(){return(0,a.default)(this,s),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,n(28),r(n(3))),i=r(n(4)),l=r(n(50)),s=r(n(25)),u=r(n(5)),r=r(n(6)),u=(n=goomentoModules.common.Component,(0,u.default)(c,n),o=(0,r.default)(c),(0,i.default)(c,[{key:\"__construct\",value:function(e){(0,l.default)((0,s.default)(c.prototype),\"__construct\",this).call(this,e),this.activeTabs={}}},{key:\"getNamespace\",value:function(){return\"panel/editor\"}},{key:\"defaultTabs\",value:function(){return{content:{title:\"Content\"},style:{title:\"Style\"},advanced:{title:\"Advanced\"},layout:{title:\"Layout\"}}}},{key:\"defaultCommands\",value:function(){var n=this;return{open:function(e){n.openEditor(e.model,e.view),n.setDefaultTab(e),$e.route(n.getDefaultRoute(),e);var t=\"panel/open_editor/\"+e.model.get(\"elType\");goomento.hooks.doAction(t,n.manager,e.model,e.view),goomento.hooks.doAction(t+\"/\"+e.model.get(\"widgetType\"),n.manager,e.model,e.view)}}}},{key:\"defaultRoutes\",value:function(){return{close:function(){return $e.run(\"panel/exit\")}}}},{key:\"getTabsWrapperSelector\",value:function(){return\"#gmt-panel .gmt-panel-navigation\"}},{key:\"renderTab\",value:function(e){this.manager.getCurrentPageView().activateTab(e)}},{key:\"activateTab\",value:function(e){this.activeTabs[this.manager.getCurrentPageView().model.id]=e,(0,l.default)((0,s.default)(c.prototype),\"activateTab\",this).call(this,e)}},{key:\"setDefaultTab\",value:function(e){e=this.activeTabs[e.model.id]||jQuery(this.getTabsWrapperSelector()).find(\".gmt-component-tab\").eq(1).data(\"tab\");this.setDefaultRoute(e)}},{key:\"openEditor\",value:function(e,t){var n=\"Edit %1\".replace(\"%1\",goomento.getElementData(e).title);return goomento.getPanelView().setPage(\"editor\",n,{model:e,controls:goomento.getElementControls(e),editedElementView:t})}}]),c);function c(){return(0,a.default)(this,c),o.apply(this,arguments)}t.default=u},function(e,t,n){\"use strict\";n(448);var i=n(450),o=n(271),r=n(451),a=goomento.modules.layouts.panel.pages.elements.views.Elements,l=n(453),n=Marionette.LayoutView.extend({template:\"#tmpl-gmt-panel-elements\",id:\"gmt-panel-page-elements\",options:{autoFocusSearch:!0},regions:{elements:\"#gmt-panel-elements-wrapper\",search:\"#gmt-panel-elements-search-area\"},regionViews:{},elementsCollection:null,categoriesCollection:null,initialize:function(){this.listenTo(goomento.channels.panelElements,\"element:selected\",this.destroy),this.initElementsCollection(),this.initCategoriesCollection(),this.initRegionViews()},initRegionViews:function(){var e={elements:{region:this.elements,view:a,options:{collection:this.elementsCollection}},categories:{region:this.elements,view:r,options:{collection:this.categoriesCollection}},search:{region:this.search,view:l}};this.regionViews=goomento.hooks.applyFilters(\"panel/elements/regionViews\",e)},initElementsCollection:function(){var t=new o,e=goomento.config.elements.section;t.add({title:\"Inner section\",elType:\"section\",categories:[\"basic\"],keywords:[\"row\",\"columns\",\"nested\"],icon:e.icon}),_.each(goomento.config.widgets,function(e){(e=goomento.config.document.panel.widgets_settings[e.widget_type]?_.extend(e,goomento.config.document.panel.widgets_settings[e.widget_type]):e).show_in_panel&&t.add({title:e.title,elType:e.elType,categories:e.categories,keywords:e.keywords,icon:e.icon,widgetType:e.widget_type,previewHelper:e.preview_helper,isBuildable:!!e.is_buildable,custom:e.custom})}),this.elementsCollection=t},initCategoriesCollection:function(){var n={},o=(this.elementsCollection.each(function(t){_.each(t.get(\"categories\"),function(e){n[e]||(n[e]=[]),n[e].push(t)})}),new i);_.each(goomento.config.document.panel.elements_categories,function(e,t){n[t]&&(void 0===e.active&&(e.active=!0),void 0===e.icon&&(e.icon=\"font\"),o.add({name:t,title:e.title,icon:e.icon,defaultActive:e.active,items:n[t]}))}),this.categoriesCollection=o},showView:function(e){var e=this.regionViews[e],t=e.options||{};e.region.show(new e.view(t))},clearSearchInput:function(){this.getChildView(\"search\").clearInput()},changeFilter:function(e){goomento.channels.panelElements.reply(\"filter:value\",e).trigger(\"filter:change\")},clearFilters:function(){this.changeFilter(null),this.clearSearchInput()},focusSearch:function(){goomento.userCan(\"save\")&&this.search&&this.search.currentView&&this.search.currentView.ui.input.focus()},onChildviewChildrenRender:function(){goomento.getPanelView().updateScrollbar()},onChildviewSearchChangeInput:function(e){this.changeFilter(e.ui.input.val(),\"search\")},onDestroy:function(){goomento.channels.panelElements.reply(\"filter:value\",null)},onShow:function(){this.showView(\"search\"),this.options.autoFocusSearch&&setTimeout(this.focusSearch.bind(this))}});e.exports=n},function(e,t,n){\"use strict\";var l=n(20),s=n(449),u=n(88);n(90)(\"search\",1,function(o,i,r,a){return[function(e){var t=o(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,t):new RegExp(e)[i](String(t))},function(e){var t,n=a(r,e,this);return n.done?n.value:(n=l(e),e=String(this),t=n.lastIndex,s(t,0)||(n.lastIndex=0),e=u(n,e),s(n.lastIndex,t)||(n.lastIndex=t),null===e?-1:e.index)}]})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){\"use strict\";n=n(270),n=Backbone.Collection.extend({model:n});e.exports=n},function(e,t,n){\"use strict\";var o=n(0)(n(247)),n=n(452),n=Marionette.CompositeView.extend({template:\"#tmpl-gmt-panel-categories\",childView:n,childViewContainer:\"#gmt-panel-categories\",id:\"gmt-panel-elements-categories\",initialize:function(){this.listenTo(goomento.channels.panelElements,\"filter:change\",this.onPanelElementsFilterChange)},onPanelElementsFilterChange:function(){goomento.channels.panelElements.request(\"filter:value\")&&goomento.getPanelView().getCurrentPageView().showView(\"elements\")},onRender:function(){this.$el.append(o.default.d(\"3a626f70266f623b24616b722b766768636a2b6773726e697424383a626f7038526e67686d75266069742673756f6861264169696b636872693a29626f70383a67267267746163723b2459646a67686d24266e7463603b246e727276753c2929616f726e73642865696b294169696b63687269295667616344736f6a6263742438516e6772217526686371393a2967383a29626f7038\"))}});e.exports=n},function(e,t,n){\"use strict\";var o=n(271),n=Marionette.CompositeView.extend({template:\"#tmpl-gmt-panel-elements-category\",className:\"gmt-panel-category\",ui:{title:\".gmt-panel-category-title\",items:\".gmt-panel-category-items\"},events:{\"click @ui.title\":\"onTitleClick\"},id:function(){return\"gmt-panel-category-\"+this.model.get(\"name\")},childView:n(269),childViewContainer:\".gmt-panel-category-items\",initialize:function(){this.collection=new o(this.model.get(\"items\"))},onRender:function(){var e=goomento.channels.panelElements.request(\"category:\"+this.model.get(\"name\")+\":active\");(e=void 0===e?this.model.get(\"defaultActive\"):e)&&(this.$el.addClass(\"gmt-active\"),this.ui.items.css(\"display\",\"block\"))},onTitleClick:function(){var e=this.ui.items,t=this.$el.hasClass(\"gmt-active\"),n=t?\"slideUp\":\"slideDown\";goomento.channels.panelElements.reply(\"category:\"+this.model.get(\"name\")+\":active\",!t),this.$el.toggleClass(\"gmt-active\",!t),e[n](300,function(){goomento.getPanelView().updateScrollbar()})}});e.exports=n},function(e,t,n){\"use strict\";var o=Marionette.ItemView.extend({template:\"#tmpl-gmt-panel-element-search\",id:\"gmt-panel-elements-search-wrapper\",ui:{input:\"input\"},events:{\"input @ui.input\":\"onInputChanged\"},clearInput:function(){this.ui.input.val(\"\")},onInputChanged:function(e){27===e.keyCode&&this.clearInput(),this.triggerMethod(\"search:change:input\")}});e.exports=o},function(e,t,n){\"use strict\";var o=goomentoModules.editor.views.ControlsStack,i=o.extend({template:Marionette.TemplateCache.get(\"#tmpl-editor-content\"),id:\"gmt-panel-page-editor\",childViewContainer:\"#gmt-controls\",childViewOptions:function(){return{elementSettingsModel:this.model.get(\"settings\"),elementEditSettings:this.model.get(\"editSettings\")}},getNamespaceArray:function(){var e=goomentoModules.editor.views.ControlsStack.prototype.getNamespaceArray(),t=this.getOption(\"editedElementView\").getEditModel(),n=t.get(\"elType\");return e.push(n),\"widget\"===n&&e.push(t.get(\"widgetType\")),e},initialize:function(){o.prototype.initialize.apply(this,arguments);var e=this.model.get(\"editSettings\").get(\"panel\");e&&(this.activeTab=e.activeTab,this.activeSection=e.activeSection)},activateSection:function(){return o.prototype.activateSection.apply(this,arguments),this.model.get(\"editSettings\").set(\"panel\",{activeTab:this.activeTab,activeSection:this.activeSection}),this},openActiveSection:function(){o.prototype.openActiveSection.apply(this,arguments),goomento.channels.editor.trigger(\"section:activated\",this.activeSection,this)},isVisibleSectionControl:function(e){return o.prototype.isVisibleSectionControl.apply(this,arguments)&&goomento.helpers.isActiveControl(e,this.model.get(\"settings\").attributes)},scrollToEditedElement:function(){goomento.helpers.scrollToView(this.getOption(\"editedElementView\").$el)},onDestroy:function(){var e=this.getOption(\"editedElementView\");e&&e.$el.removeClass(\"gmt-element-editable\"),this.model.trigger(\"editor:close\"),this.triggerMethod(\"editor:destroy\")},onRender:function(){var e=this.getOption(\"editedElementView\");e&&e.$el.addClass(\"gmt-element-editable\")},onDeviceModeChange:function(){o.prototype.onDeviceModeChange.apply(this,arguments),this.scrollToEditedElement()},onChildviewSettingsChange:function(e){var t=this.getOption(\"editedElementView\"),n=t.model.get(\"elType\");\"widget\"===n&&(n=t.model.get(\"widgetType\")),goomento.channels.editor.trigger(\"change\",e,t).trigger(\"change:\"+n,e,t).trigger(\"change:\"+n+\":\"+e.model.get(\"name\"),e,t)}});e.exports=i},function(e,t,n){\"use strict\";var o=n(0)(n(456)),i=n(217);e.exports=i.extend({el:\"#gmt-controller\",getStorageKey:function(){return\"controller\"},getDefaultStorage:function(){return{darkMode:0,size:{}}},constructor:function(){i.prototype.constructor.apply(this,arguments),$e.components.register(new o.default({manager:this}));var e=n(457);this.show(new e),this.storage.darkMode&&$e.run(\"controller/darkmode/on\")}})},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),r=r(n(6)),l=(n=goomentoModules.common.Component,(0,l.default)(s,n),o=(0,r.default)(s),(0,i.default)(s,[{key:\"getNamespace\",value:function(){return\"controller/darkmode\"}},{key:\"defaultCommands\",value:function(){var e=this;return{on:function(){e.manager.saveStorage(\"darkMode\",1),goomento.channels.editor.trigger(\"darkmode:switch\",1)},off:function(){e.manager.saveStorage(\"darkMode\",0),goomento.channels.editor.trigger(\"darkmode:switch\",0)},toggle:function(){e.manager.storage.darkMode?$e.run(\"controller/darkmode/off\"):$e.run(\"controller/darkmode/on\")}}}}]),s);function s(){return(0,a.default)(this,s),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";n(33),e.exports=Marionette.ItemView.extend({template:\"#tmpl-gmt-panel-controls-content\",tagName:\"nav\",id:\"gmt-panel-controls\",possibleRotateModes:[\"portrait\",\"landscape\"],ui:{menuButtons:\".gmt-panel-control-tool\",settings:\"#gmt-panel-control-settings\",editing:\"#gmt-panel-control-editing\",generalSettings:\"#gmt-panel-control-general-settings\",darkMode:\"#gmt-panel-control-dark-mode\",backToDashboard:\"#gmt-panel-control-back-to-dashboard\",deviceModeIcon:\"#gmt-panel-control-responsive > i\",deviceModeButtons:\"#gmt-panel-control-responsive .gmt-panel-control-responsive-device\",saveTemplate:\"#gmt-panel-control-sub-menu-item-save-template\",panel:\"#gmt-panel-control-panel\",history:\"#gmt-panel-control-history\",revision:\"#gmt-panel-control-revision\",navigator:\"#gmt-panel-control-navigator\"},events:{\"click @ui.menuButtons\":\"onMenuButtonsClick\",\"click @ui.settings\":\"onSettingsClick\",\"click @ui.editing\":\"onEditingClick\",\"click @ui.generalSettings\":\"onGeneralSettingsClick\",\"click @ui.darkMode\":\"toggleDarkMode\",\"click @ui.deviceModeButtons\":\"onResponsiveButtonsClick\",\"click @ui.saveTemplate\":\"onSaveTemplateClick\",\"click @ui.history\":\"onHistoryClick\",\"click @ui.revision\":\"onRevisionClick\",\"click @ui.navigator\":\"onNavigatorClick\",\"click @ui.panel\":\"onPanelClick\",\"click @ui.backToDashboard\":\"backToDashboard\"},behaviors:function(){var e={saver:{behaviorClass:goomento.modules.components.saver.behaviors.FooterSaver}};return goomento.hooks.applyFilters(\"panel/footer/behaviors\",e,this)},initialize:function(){this.listenTo(goomento.channels.deviceMode,\"change\",this.onDeviceModeChange),this.listenTo(goomento.channels.dataEditMode,\"switch\",this.onEditModeChanged),this.listenTo(goomento.channels.editor,\"darkmode:switch\",this.onDarkModeChange)},getDeviceModeButton:function(e){return this.ui.deviceModeButtons.filter('[data-device-mode=\"'+e+'\"]')},onDarkModeChange:function(e){e?(this.ui.darkMode.addClass(\"active\"),jQuery(\"body\").addClass(\"gmt-dark-mode\")):(this.ui.darkMode.removeClass(\"active\"),jQuery(\"body\").removeClass(\"gmt-dark-mode\"))},toggleDarkMode:function(){$e.run(\"controller/darkmode/toggle\")},backToDashboard:function(){var e;window!==window.parent?(e=new URL(window.location.href).searchParams.get(\"exitCallback\"),window.parent[e]&&\"function\"==typeof window.parent[e]?!0===goomento.channels.editor.request(\"status\")&&!window.confirm(\"Changes you made may not be saved\")||(window.close(),window.parent[e].apply()):window.close()):window.location.href=goomento.config.document.urls.exit_to_dashboard},onMenuButtonsClick:function(e){var t=jQuery(e.currentTarget);t.hasClass(\"gmt-toggle-state\")&&!jQuery(e.target).closest(\".gmt-panel-footer-sub-menu-item\").length&&(e=t.hasClass(\"gmt-open\"),this.ui.menuButtons.not(\".gmt-leave-open\").removeClass(\"gmt-open\"),e||t.addClass(\"gmt-open\"))},onSettingsClick:function(){$e.run(\"page/settings/toggle\")},onPanelClick:function(){$e.run(\"panel/toggle\")},onGeneralSettingsClick:function(){$e.run(\"global/settings/toggle\")},onRevisionClick:function(){$e.run(\"revision/panel/toggle\")},onDeviceModeChange:function(){var e=goomento.channels.deviceMode.request(\"previousMode\"),t=goomento.channels.deviceMode.request(\"currentMode\");this.getDeviceModeButton(e).removeClass(\"active\"),this.getDeviceModeButton(t).addClass(\"active\"),this.ui.deviceModeIcon.removeClass(\"fa-\"+e).addClass(\"fa-\"+t)},onResponsiveButtonsClick:function(e){e=this.$(e.currentTarget).data(\"device-mode\");goomento.changeDeviceMode(e)},onSaveTemplateClick:function(){$e.route(\"library/save-template\")},onHistoryClick:function(){$e.run(\"history/panel/toggle\")},onEditingClick:function(){$e.run(\"panel/toggleMode\")},onNavigatorClick:function(){$e.run(\"navigator/toggle\")},onEditModeChanged:function(){\"edit\"===goomento.channels.dataEditMode.request(\"activeMode\")?this.ui.editing.addClass(\"active\"):this.ui.editing.removeClass(\"active\")}})},function(e,t,n){\"use strict\";var o=n(0)(n(459)),i=n(460),r=i.extend({template:Marionette.TemplateCache.get(\"#tmpl-gmt-preview\"),className:\"gmt-inner\",childViewContainer:\".gmt-section-wrap\",behaviors:function(){var e=i.prototype.behaviors.apply(this,arguments),t={contextMenu:{behaviorClass:n(208),groups:this.getContextMenuGroups()}};return jQuery.extend(e,t)},getContextMenuGroups:function(){function e(){return 0<goomento.elements.length}return[{name:\"paste\",actions:[{name:\"paste\",title:\"Paste\",callback:this.paste.bind(this),isEnabled:this.isPasteEnabled.bind(this)}]},{name:\"content\",actions:[{name:\"copy_all_content\",title:\"Copy All Content\",callback:this.copy.bind(this),isEnabled:e},{name:\"delete_all_content\",title:\"Delete All Content\",callback:goomento.clearPage.bind(goomento),isEnabled:e}]}]},copy:function(){goomentoCommon.storage.set(\"transfer\",{type:\"copy\",elementsType:\"section\",elements:goomento.elements.toJSON({copyHtmlCache:!0})})},paste:function(e){var t,n=this,o=goomentoCommon.storage.get(\"transfer\"),i=void 0!==e?e:this.collection.length;goomento.channels.data.trigger(\"element:before:add\",o.elements[0]),\"section\"===o.elementsType?o.elements.forEach(function(e){n.addChildElement(e,{at:i,edit:!1,clone:!0}),i++}):\"column\"===o.elementsType?((t=n.addChildElement({allowEmpty:!0},{at:e})).model.unset(\"allowEmpty\"),i=0,o.elements.forEach(function(e){t.addChildElement(e,{at:i,clone:!0}),i++}),t.redefineLayout()):(t=n.addChildElement(null,{at:e}),i=0,o.elements.forEach(function(e){t.addChildElement(e,{at:i,clone:!0}),i++})),goomento.channels.data.trigger(\"element:after:add\",o.elements[0])},isPasteEnabled:function(){return goomentoCommon.storage.get(\"transfer\")},onRender:function(){var e;goomento.userCan(\"save\")&&((e=new o.default).render(),this.$el.append(e.$el))}});e.exports=r},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),a=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),l=r(n(5)),s=r(n(6)),n=(r=r(n(260)).default,(0,l.default)(u,r),o=(0,s.default)(u),(0,i.default)(u,[{key:\"id\",get:function(){return\"gmt-add-new-section\"}},{key:\"onCloseButtonClick\",value:function(){this.closeSelectPresets()}}]),u);function u(){return(0,a.default)(this,u),o.apply(this,arguments)}t.default=n},function(e,t,n){\"use strict\";n(28);var o=n(259),i=n(258),o=i.extend({childView:o,behaviors:function(){var e={Sortable:{behaviorClass:n(231),elChildType:\"section\"}};return goomento.hooks.applyFilters(\"elements/base-section-container/behaviors\",e,this)},getSortableOptions:function(){return{handle:\"> .gmt-element-overlay .gmt-editor-element-edit\",items:\"> .gmt-section\"}},getChildType:function(){return[\"section\"]},initialize:function(){i.prototype.initialize.apply(this,arguments),this.listenTo(this.collection,\"add remove reset\",this.onCollectionChanged).listenTo(goomento.channels.panelElements,\"element:drag:start\",this.onPanelElementDragStart).listenTo(goomento.channels.panelElements,\"element:drag:end\",this.onPanelElementDragEnd)},onCollectionChanged:function(){goomento.saver.setFlagEditorChange(!0)},onPanelElementDragStart:function(){this.$el.find(\".gmt-background-video-embed\").hide(),goomento.helpers.disableElementEvents(this.$el.find(\"iframe\"))},onPanelElementDragEnd:function(){this.$el.find(\".gmt-background-video-embed\").show(),goomento.helpers.enableElementEvents(this.$el.find(\"iframe\"))}});e.exports=o}],o={},i.m=n,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i(i.s=276);function i(e){var t;return(o[e]||(t=o[e]={i:e,l:!1,exports:{}},n[e].call(t.exports,t,t.exports,i),t.l=!0,t)).exports}var n,o});","Goomento_PageBuilder/build/frontend-modules.min.js":"!function(t,e){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var n,r=e();for(n in r)(\"object\"==typeof exports?exports:t)[n]=r[n]}}(window,function(){return n=[function(t,e){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t=t.exports={version:\"2.6.12\"};\"number\"==typeof __e&&(__e=t)},function(t,e,n){t.exports=n(126)},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var o=n(2);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),o(t,r.key,r)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var r=n(107),o=n(133);t.exports=function(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function\");t.prototype=r(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var o=n(81),i=n(25),u=n(144),c=n(145);t.exports=function(n){var r=u();return function(){var t,e=i(n);return t=r?(t=i(this).constructor,o(e,arguments,t)):e.apply(this,arguments),c(this,t)}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){function v(t,e,n){var r,o,i,u=t&v.F,c=t&v.G,s=t&v.S,f=t&v.P,a=t&v.B,l=t&v.W,p=c?y:y[e]||(y[e]={}),d=p.prototype,h=c?g:s?g[e]:(g[e]||{}).prototype;for(r in n=c?e:n)(o=!u&&h&&void 0!==h[r])&&b(p,r)||(i=(o?h:n)[r],p[r]=c&&\"function\"!=typeof h[r]?n[r]:a&&o?x(i,g):l&&h[r]==i?function(r){function t(t,e,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,e)}return new r(t,e,n)}return r.apply(this,arguments)}return t.prototype=r.prototype,t}(i):f&&\"function\"==typeof i?x(Function.call,i):i,f&&((p.virtual||(p.virtual={}))[r]=i,t&v.R)&&d&&!d[r]&&m(d,r,i))}var g=n(8),y=n(1),x=n(59),m=n(19),b=n(11);v.F=1,v.G=2,v.S=4,v.P=8,v.B=16,v.W=32,v.U=64,v.R=128,t.exports=v},function(t,e){t=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=t)},function(t,e){t.exports=function(t){return\"object\"==typeof t?null!==t:\"function\"==typeof t}},function(t,e,n){var r=n(63)(\"wks\"),o=n(64),i=n(17).Symbol,u=\"function\"==typeof i;(t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)(\"Symbol.\"+t))}).store=r},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=!n(18)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(t,e,n){var r=n(9);t.exports=function(t){if(r(t))return t;throw TypeError(t+\" is not an object!\")}},function(t,e,n){var r=n(13),o=n(77),i=n(52),u=Object.defineProperty;e.f=n(12)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return u(t,e,n)}catch(t){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(55)(\"wks\"),o=n(37),i=n(8).Symbol,u=\"function\"==typeof i;(t.exports=function(t){return r[t]||(r[t]=u&&i[t]||(u?i:o)(\"Symbol.\"+t))}).store=r},function(t,e,n){var r=n(108),o=n(42);t.exports=function(t){return r(o(t))}},function(t,e){t=t.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=t)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(14),o=n(31);t.exports=n(12)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(24);t.exports=function(t){if(r(t))return t;throw TypeError(t+\" is not an object!\")}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(39),o=n(83);t.exports=n(23)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(21)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return\"object\"==typeof t?null!==t:\"function\"==typeof t}},function(e,t,n){var r=n(80),o=n(141);function i(t){return e.exports=i=r?o:function(t){return t.__proto__||o(t)},e.exports.default=e.exports,e.exports.__esModule=!0,i(t)}e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},function(t,e,n){function d(t,e,n){var r,o,i,u=t&d.F,c=t&d.G,s=t&d.P,f=t&d.B,a=c?h:t&d.S?h[e]||(h[e]={}):(h[e]||{}).prototype,l=c?v:v[e]||(v[e]={}),p=l.prototype||(l.prototype={});for(r in n=c?e:n)o=((i=!u&&a&&void 0!==a[r])?a:n)[r],i=f&&i?x(o,h):s&&\"function\"==typeof o?x(Function.call,o):o,a&&y(a,r,o,t&d.U),l[r]!=o&&g(l,r,i),s&&p[r]!=o&&(p[r]=o)}var h=n(17),v=n(51),g=n(22),y=n(30),x=n(71);h.core=v,d.F=1,d.G=2,d.S=4,d.P=8,d.B=16,d.W=32,d.U=64,d.R=128,t.exports=d},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){\"use strict\";var r=n(26),o=n(73)(5),i=!0;\"find\"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,\"Array\",{find:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}}),n(99)(\"find\")},function(t,e,n){var r=n(42);t.exports=function(t){return Object(r(t))}},function(t,e,n){var i=n(17),u=n(22),c=n(47),s=n(64)(\"src\"),r=n(121),f=(\"\"+r).split(\"toString\");n(51).inspectSource=function(t){return r.call(t)},(t.exports=function(t,e,n,r){var o=\"function\"==typeof n;o&&!c(n,\"name\")&&u(n,\"name\",e),t[e]!==n&&(o&&!c(n,s)&&u(n,s,t[e]?\"\"+t[e]:f.join(String(e))),t===i?t[e]=n:r?t[e]?t[e]=n:u(t,e,n):(delete t[e],u(t,e,n)))})(Function.prototype,\"toString\",function(){return\"function\"==typeof this&&this[s]||r.call(this)})},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(79),o=n(56);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){\"use strict\";var r=n(26),o=n(73)(2);r(r.P+r.F*!n(110)([].filter,!0),\"Array\",{filter:function(t){return o(this,t,arguments[1])}})},function(t,e,n){var r=n(46),o=Math.min;t.exports=function(t){return 0<t?o(r(t),9007199254740991):0}},function(t,e,n){function r(){}var o=n(13),i=n(114),u=n(56),c=n(54)(\"IE_PROTO\"),s=function(){var t=n(78)(\"iframe\"),e=u.length;for(t.style.display=\"none\",n(132).appendChild(t),t.src=\"javascript:\",(t=t.contentWindow.document).open(),t.write(\"<script>document.F=Object<\\/script>\"),t.close(),s=t.F;e--;)delete s.prototype[u[e]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(r.prototype=o(t),n=new r,r.prototype=null,n[c]=t):n=s(),void 0===e?n:i(n,e)}},function(t,e){t.exports=!0},function(t,e){var n=0,r=Math.random();t.exports=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++n+r).toString(36))}},function(t,e){t.exports=function(t){if(null==t)throw TypeError(\"Can't call method on  \"+t);return t}},function(t,e,n){var r=n(20),o=n(112),i=n(104),u=Object.defineProperty;e.f=n(23)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return u(t,e,n)}catch(t){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(45),o=n(31),i=n(16),u=n(52),c=n(11),s=n(77),f=Object.getOwnPropertyDescriptor;e.f=n(12)?f:function(t,e){if(t=i(t),e=u(e,!0),s)try{return f(t,e)}catch(t){}if(c(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(39).f,o=Function.prototype,i=/^\\s*function ([^ (]*)/;\"name\"in o||n(23)&&r(o,\"name\",{configurable:!0,get:function(){try{return(\"\"+this).match(i)[1]}catch(t){return\"\"}}})},function(t,e){t.exports=function(t){if(null==t)throw TypeError(\"Can't call method on  \"+t);return t}},function(t,e){t.exports={}},function(t,e,n){t.exports=n(171)},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e){t.exports=function(t){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\");return t}},function(t,e,n){var r=n(14).f,o=n(11),i=n(15)(\"toStringTag\");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(r,t,e){var o=e(165),i=e(157),u=e(170);function c(t,e,n){return\"undefined\"!=typeof Reflect&&o?r.exports=c=o:r.exports=c=function(t,e,n){var t=u(t,e);if(t)return(t=i(t,e)).get?t.get.call(n):t.value},r.exports.default=r.exports,r.exports.__esModule=!0,c(t,e,n||t)}r.exports=c,r.exports.default=r.exports,r.exports.__esModule=!0},function(t,e){t=t.exports={version:\"2.6.12\"};\"number\"==typeof __e&&(__e=t)},function(t,e,n){var o=n(9);t.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&\"function\"==typeof(n=t.toString)&&!o(r=n.call(t))||\"function\"==typeof(n=t.valueOf)&&!o(r=n.call(t))||!e&&\"function\"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError(\"Can't convert object to primitive value\")}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:n)(t)}},function(t,e,n){var r=n(55)(\"keys\"),o=n(37);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(1),o=n(8),i=o[\"__core-js_shared__\"]||(o[\"__core-js_shared__\"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})(\"versions\",[]).push({version:r.version,mode:n(36)?\"pure\":\"global\",copyright:\"\u00a9 2020 Denis Pushkarev (zloirock.ru)\"})},function(t,e){t.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},function(t,e,n){e.f=n(15)},function(t,e,n){var r=n(8),o=n(1),i=n(36),u=n(57),c=n(14).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=!i&&r.Symbol||{});\"_\"==t.charAt(0)||t in e||c(e,t,{value:u.f(t)})}},function(t,e,n){var i=n(48);t.exports=function(r,o,t){if(i(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}}},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var r=n(11),o=n(29),i=n(54)(\"IE_PROTO\"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:\"function\"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},,function(t,e,n){var r=n(51),o=n(17),i=o[\"__core-js_shared__\"]||(o[\"__core-js_shared__\"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})(\"versions\",[]).push({version:r.version,mode:n(89)?\"pure\":\"global\",copyright:\"\u00a9 2020 Denis Pushkarev (zloirock.ru)\"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return\"Symbol(\".concat(void 0===t?\"\":t,\")_\",(++n+r).toString(36))}},function(t,e,n){var o=n(7),i=n(1),u=n(18);t.exports=function(t,e){var n=(i.Object||{})[t]||Object[t],r={};r[t]=e(n),o(o.S+o.F*u(function(){n(1)}),\"Object\",r)}},function(e,t,n){var r=n(100),o=n(103);function i(t){return e.exports=i=\"function\"==typeof r&&\"symbol\"==typeof o?function(t){return typeof t}:function(t){return t&&\"function\"==typeof r&&t.constructor===r&&t!==r.prototype?\"symbol\":typeof t},e.exports.default=e.exports,e.exports.__esModule=!0,i(t)}e.exports=i,e.exports.default=e.exports,e.exports.__esModule=!0},function(t,e,n){\"use strict\";var r,o,u=n(111),c=RegExp.prototype.exec,s=String.prototype.replace,n=c,f=(o=/b*/g,c.call(r=/a/,\"a\"),c.call(o,\"a\"),0!==r.lastIndex||0!==o.lastIndex),a=void 0!==/()??/.exec(\"\")[1];t.exports=n=f||a?function(t){var e,n,r,o,i=this;return a&&(n=new RegExp(\"^\"+i.source+\"$(?!\\\\s)\",u.call(i))),f&&(e=i.lastIndex),r=c.call(i,t),f&&r&&(i.lastIndex=i.global?r.index+r[0].length:e),a&&r&&1<r.length&&s.call(r[0],n,function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)}),r}:n},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(38);t.exports=function(t){return Object(r(t))}},function(t,e,n){var i=n(84);t.exports=function(r,o,t){if(i(r),void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case 2:return function(t,e){return r.call(o,t,e)};case 3:return function(t,e,n){return r.call(o,t,e,n)}}return function(){return r.apply(o,arguments)}}},function(t,e,n){\"use strict\";var r=n(97),o={};o[n(10)(\"toStringTag\")]=\"z\",o+\"\"!=\"[object z]\"&&n(30)(Object.prototype,\"toString\",function(){return\"[object \"+r(this)+\"]\"},!0)},function(t,e,n){var m=n(71),b=n(92),S=n(70),_=n(34),r=n(123);t.exports=function(l,t){var p=1==l,d=2==l,h=3==l,v=4==l,g=6==l,y=5==l||g,x=t||r;return function(t,e,n){for(var r,o,i=S(t),u=b(i),c=m(e,n,3),s=_(u.length),f=0,a=p?x(t,s):d?x(t,0):void 0;f<s;f++)if((y||f in u)&&(o=c(r=u[f],f,i),l))if(p)a[f]=o;else if(o)switch(l){case 3:return!0;case 5:return r;case 6:return f;case 2:a.push(r)}else if(v)return!1;return g?-1:h||v?v:a}}},function(t,e,n){t.exports=n(19)},function(t,e,n){var r=n(79),o=n(56).concat(\"length\",\"prototype\");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){\"use strict\";var l=n(122),y=n(20),x=n(173),m=n(96),b=n(34),S=n(88),p=n(67),r=n(21),_=Math.min,d=[].push,O=\"length\",w=!r(function(){RegExp(4294967295,\"y\")});n(90)(\"split\",2,function(o,i,h,v){var g=\"c\"==\"abbc\".split(/(b)*/)[1]||4!=\"test\".split(/(?:)/,-1)[O]||2!=\"ab\".split(/(?:ab)*/)[O]||4!=\".\".split(/(.?)(.?)/)[O]||1<\".\".split(/()()/)[O]||\"\".split(/.?/)[O]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!l(t))return h.call(n,t,e);for(var r,o,i,u=[],c=(t.ignoreCase?\"i\":\"\")+(t.multiline?\"m\":\"\")+(t.unicode?\"u\":\"\")+(t.sticky?\"y\":\"\"),s=0,f=void 0===e?4294967295:e>>>0,a=new RegExp(t.source,c+\"g\");(r=p.call(a,n))&&!((o=a.lastIndex)>s&&(u.push(n.slice(s,r.index)),1<r[O]&&r.index<n[O]&&d.apply(u,r.slice(1)),i=r[0][O],s=o,f<=u[O]));)a.lastIndex===r.index&&a.lastIndex++;return s===n[O]?!i&&a.test(\"\")||u.push(\"\"):u.push(n.slice(s)),f<u[O]?u.slice(0,f):u}:\"0\".split(void 0,0)[O]?function(t,e){return void 0===t&&0===e?[]:h.call(this,t,e)}:h;return[function(t,e){var n=o(this),r=null==t?void 0:t[i];return void 0!==r?r.call(t,n,e):g.call(String(n),t,e)},function(t,e){var n=v(g,t,this,e,g!==h);if(n.done)return n.value;var n=y(t),r=String(this),t=x(n,RegExp),o=n.unicode,i=(n.ignoreCase?\"i\":\"\")+(n.multiline?\"m\":\"\")+(n.unicode?\"u\":\"\")+(w?\"y\":\"g\"),u=new t(w?n:\"^(?:\"+n.source+\")\",i),c=void 0===e?4294967295:e>>>0;if(0==c)return[];if(0===r.length)return null===S(u,r)?[r]:[];for(var s=0,f=0,a=[];f<r.length;){u.lastIndex=w?f:0;var l,p=S(u,w?r:r.slice(f));if(null===p||(l=_(b(u.lastIndex+(w?0:f)),r.length))===s)f=m(r,f,o);else{if(a.push(r.slice(s,f)),a.length===c)return a;for(var d=1;d<=p.length-1;d++)if(a.push(p[d]),a.length===c)return a;f=s=l}}return a.push(r.slice(s)),a}]})},function(t,e,n){t.exports=!n(12)&&!n(18)(function(){return 7!=Object.defineProperty(n(78)(\"div\"),\"a\",{get:function(){return 7}}).a})},function(t,e,n){var r=n(9),o=n(8).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var u=n(11),c=n(16),s=n(130)(!1),f=n(54)(\"IE_PROTO\");t.exports=function(t,e){var n,r=c(t),o=0,i=[];for(n in r)n!=f&&u(r,n)&&i.push(n);for(;e.length>o;)!u(r,n=e[o++])||~s(i,n)||i.push(n);return i}},function(t,e,n){t.exports=n(134)},function(t,e,n){t.exports=n(137)},function(t,e,n){\"use strict\";function y(){return this}var x=n(36),m=n(7),b=n(74),S=n(19),_=n(43),O=n(153),w=n(49),E=n(61),j=n(15)(\"iterator\"),M=!([].keys&&\"next\"in[].keys());t.exports=function(t,e,n,r,o,i,u){O(n,e,r);function c(t){if(!M&&t in p)return p[t];switch(t){case\"keys\":case\"values\":return function(){return new n(this,t)}}return function(){return new n(this,t)}}var s,f,r=e+\" Iterator\",a=\"values\"==o,l=!1,p=t.prototype,d=p[j]||p[\"@@iterator\"]||o&&p[o],h=d||c(o),v=o?a?c(\"entries\"):h:void 0,g=\"Array\"==e&&p.entries||d;if(g&&(g=E(g.call(new t)))!==Object.prototype&&g.next&&(w(g,r,!0),x||\"function\"==typeof g[j]||S(g,j,y)),a&&d&&\"values\"!==d.name&&(l=!0,h=function(){return d.call(this)}),x&&!u||!M&&!l&&p[j]||S(p,j,h),_[e]=h,_[r]=y,o)if(s={values:a?h:c(\"values\"),keys:i?h:c(\"keys\"),entries:v},u)for(f in s)f in p||b(p,f,s[f]);else m(m.P+m.F*(M||l),e,s);return s}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){if(\"function\"!=typeof t)throw TypeError(t+\" is not a function!\");return t}},function(t,e,n){var r=n(92),o=n(38);t.exports=function(t){return r(o(t))}},function(t,e,n){\"use strict\";var r=n(99),o=n(178),i=n(94),u=n(85);t.exports=n(179)(Array,\"Array\",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,\"keys\"==e?n:\"values\"==e?t[n]:[n,t[n]])},\"values\"),i.Arguments=i.Array,r(\"keys\"),r(\"values\"),r(\"entries\")},,function(t,e,n){\"use strict\";var r=n(97),o=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if(\"function\"==typeof n){n=n.call(t,e);if(\"object\"!=typeof n)throw new TypeError(\"RegExp exec method returned something other than an Object or null\");return n}if(\"RegExp\"!==r(t))throw new TypeError(\"RegExp#exec called on incompatible receiver\");return o.call(t,e)}},function(t,e){t.exports=!1},function(t,e,n){\"use strict\";n(164);var r,s=n(30),f=n(22),a=n(21),l=n(38),p=n(10),d=n(67),h=p(\"species\"),v=!a(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:\"7\"},t},\"7\"!==\"\".replace(t,\"$<a>\")}),g=(r=(n=/(?:)/).exec,n.exec=function(){return r.apply(this,arguments)},2===(n=\"ab\".split(n)).length&&\"a\"===n[0]&&\"b\"===n[1]);t.exports=function(n,t,e){var i,r,o=p(n),u=!a(function(){var t={};return t[o]=function(){return 7},7!=\"\"[n](t)}),c=u?!a(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},\"split\"===n&&(e.constructor={},e.constructor[h]=function(){return e}),e[o](\"\"),!t}):void 0;u&&c&&(\"replace\"!==n||v)&&(\"split\"!==n||g)||(i=/./[o],e=(c=e(l,o,\"\"[n],function(t,e,n,r,o){return e.exec===d?u&&!o?{done:!0,value:i.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}))[0],r=c[1],s(String.prototype,n,e),f(RegExp.prototype,o,2==t?function(t,e){return r.call(t,this,e)}:function(t){return r.call(t,this)}))}},function(t,e,n){var r=n(24),o=n(17).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(27);t.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(t){return\"String\"==r(t)?t.split(\"\"):Object(t)}},function(t,e,n){var r=n(53),o=Math.min;t.exports=function(t){return 0<t?o(r(t),9007199254740991):0}},function(t,e){t.exports={}},function(t,e,n){var r=n(63)(\"keys\"),o=n(64);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){\"use strict\";var r=n(163)(!0);t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(27),o=n(10)(\"toStringTag\"),i=\"Arguments\"==r(function(){return arguments}());t.exports=function(t){var e;return void 0===t?\"Undefined\":null===t?\"Null\":\"string\"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=Object(t),o))?e:i?r(t):\"Object\"==(e=r(t))&&\"function\"==typeof t.callee?\"Arguments\":e}},,function(t,e,n){var r=n(10)(\"unscopables\"),o=Array.prototype;null==o[r]&&n(22)(o,r,{}),t.exports=function(t){o[r][t]=!0}},function(t,e,n){t.exports=n(146)},function(t,e,n){function r(t){c(t,o,{value:{i:\"O\"+ ++s,w:{}}})}var o=n(37)(\"meta\"),i=n(9),u=n(11),c=n(14).f,s=0,f=Object.isExtensible||function(){return!0},a=!n(18)(function(){return f(Object.preventExtensions({}))}),l=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!i(t))return\"symbol\"==typeof t?t:(\"string\"==typeof t?\"S\":\"P\")+t;if(!u(t,o)){if(!f(t))return\"F\";if(!e)return\"E\";r(t)}return t[o].i},getWeak:function(t,e){if(!u(t,o)){if(!f(t))return!0;if(!e)return!1;r(t)}return t[o].w},onFreeze:function(t){return a&&l.NEED&&f(t)&&!u(t,o)&&r(t),t}}},function(t,e,n){var r=n(68);t.exports=Array.isArray||function(t){return\"Array\"==r(t)}},function(t,e,n){t.exports=n(151)},function(t,e,n){var o=n(24);t.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&\"function\"==typeof(n=t.toString)&&!o(r=n.call(t))||\"function\"==typeof(n=t.valueOf)&&!o(r=n.call(t))||!e&&\"function\"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError(\"Can't convert object to primitive value\")}},function(t,e,n){n=n(17).document;t.exports=n&&n.documentElement},function(t,e,n){var r=n(46),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){t.exports=n(128)},function(t,e,n){var r=n(68);t.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(t){return\"String\"==r(t)?t.split(\"\"):Object(t)}},function(t,e,n){\"use strict\";var r=n(152)(!0);n(82)(String,\"String\",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i;return e>=t.length?{value:void 0,done:!0}:(t=r(t,e),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){\"use strict\";var r=n(21);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,n){\"use strict\";var r=n(20);t.exports=function(){var t=r(this),e=\"\";return t.global&&(e+=\"g\"),t.ignoreCase&&(e+=\"i\"),t.multiline&&(e+=\"m\"),t.unicode&&(e+=\"u\"),t.sticky&&(e+=\"y\"),e}},function(t,e,n){t.exports=!n(23)&&!n(21)(function(){return 7!=Object.defineProperty(n(91)(\"div\"),\"a\",{get:function(){return 7}}).a})},function(t,e,n){\"use strict\";var r=n(26),o=n(105),s=n(27),f=n(106),a=n(34),l=[].slice;r(r.P+r.F*n(21)(function(){o&&l.call(o)}),\"Array\",{slice:function(t,e){var n=a(this.length),r=s(this);if(e=void 0===e?n:e,\"Array\"==r)return l.call(this,t,e);for(var o=f(t,n),t=f(e,n),i=a(t-o),u=new Array(i),c=0;c<i;c++)u[c]=\"String\"==r?this.charAt(o+c):this[o+c];return u}})},function(t,e,n){var u=n(14),c=n(13),s=n(32);t.exports=n(12)?Object.defineProperties:function(t,e){c(t);for(var n,r=s(e),o=r.length,i=0;i<o;)u.f(t,n=r[i++],e[n]);return t}},function(A,R,t){\"use strict\";function r(t){var e=L[t]=S(w.prototype);return e._k=t,e}function u(t,e,n){return t===I&&u(T,e,n),y(t),e=m(e,!0),y(n),(f(L,e)?(n.enumerable?(f(t,M)&&t[M][e]&&(t[M][e]=!1),n=S(n,{enumerable:b(0,!1)})):(f(t,M)||O(t,M,b(1,{})),t[M][e]=!0),F):O)(t,e,n)}function n(t,e){y(t);for(var n,r=H(e=x(e)),o=0,i=r.length;o<i;)u(t,n=r[o++],e[n]);return t}function e(t){var e=Z.call(this,t=m(t,!0));return!(this===I&&f(L,t)&&!f(T,t))&&(!(e||!f(this,t)||!f(L,t)||f(this,M)&&this[M][t])||e)}function o(t,e){var n;if(t=x(t),e=m(e,!0),t!==I||!f(L,e)||f(T,e))return!(n=K(t,e))||!f(L,e)||f(t,M)&&t[M][e]||(n.enumerable=!0),n}function i(t){for(var e,n=Y(x(t)),r=[],o=0;n.length>o;)f(L,e=n[o++])||e==M||e==$||r.push(e);return r}function c(t){for(var e,n=t===I,r=Y(n?T:x(t)),o=[],i=0;r.length>i;)!f(L,e=r[i++])||n&&!f(I,e)||o.push(L[e]);return o}var s=t(8),f=t(11),a=t(12),l=t(7),p=t(74),$=t(101).KEY,d=t(18),h=t(55),v=t(49),N=t(37),g=t(15),G=t(57),V=t(58),H=t(147),Q=t(102),y=t(13),B=t(9),W=t(29),x=t(16),m=t(52),b=t(31),S=t(35),U=t(148),q=t(40),_=t(69),z=t(14),J=t(32),K=q.f,O=z.f,Y=U.f,w=s.Symbol,E=s.JSON,j=E&&E.stringify,M=g(\"_hidden\"),X=g(\"toPrimitive\"),Z={}.propertyIsEnumerable,P=h(\"symbol-registry\"),L=h(\"symbols\"),T=h(\"op-symbols\"),I=Object.prototype,h=\"function\"==typeof w&&!!_.f,C=s.QObject,k=!C||!C.prototype||!C.prototype.findChild,F=a&&d(function(){return 7!=S(O({},\"a\",{get:function(){return O(this,\"a\",{value:7}).a}})).a})?function(t,e,n){var r=K(I,e);r&&delete I[e],O(t,e,n),r&&t!==I&&O(I,e,r)}:O,D=h&&\"symbol\"==typeof w.iterator?function(t){return\"symbol\"==typeof t}:function(t){return t instanceof w};h||(p((w=function(){if(this instanceof w)throw TypeError(\"Symbol is not a constructor!\");var e=N(0<arguments.length?arguments[0]:void 0),n=function(t){this===I&&n.call(T,t),f(this,M)&&f(this[M],e)&&(this[M][e]=!1),F(this,e,b(1,t))};return a&&k&&F(I,e,{configurable:!0,set:n}),r(e)}).prototype,\"toString\",function(){return this._k}),q.f=o,z.f=u,t(75).f=U.f=i,t(45).f=e,_.f=c,a&&!t(36)&&p(I,\"propertyIsEnumerable\",e,!0),G.f=function(t){return r(g(t))}),l(l.G+l.W+l.F*!h,{Symbol:w});for(var tt=\"hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables\".split(\",\"),et=0;tt.length>et;)g(tt[et++]);for(var nt=J(g.store),rt=0;nt.length>rt;)V(nt[rt++]);l(l.S+l.F*!h,\"Symbol\",{for:function(t){return f(P,t+=\"\")?P[t]:P[t]=w(t)},keyFor:function(t){if(!D(t))throw TypeError(t+\" is not a symbol!\");for(var e in P)if(P[e]===t)return e},useSetter:function(){k=!0},useSimple:function(){k=!1}}),l(l.S+l.F*!h,\"Object\",{create:function(t,e){return void 0===e?S(t):n(S(t),e)},defineProperty:u,defineProperties:n,getOwnPropertyDescriptor:o,getOwnPropertyNames:i,getOwnPropertySymbols:c});C=d(function(){_.f(1)});l(l.S+l.F*C,\"Object\",{getOwnPropertySymbols:function(t){return _.f(W(t))}}),E&&l(l.S+l.F*(!h||d(function(){var t=w();return\"[null]\"!=j([t])||\"{}\"!=j({a:t})||\"{}\"!=j(Object(t))})),\"JSON\",{stringify:function(t){for(var e,n,r=[t],o=1;o<arguments.length;)r.push(arguments[o++]);if(n=e=r[1],(B(e)||void 0!==t)&&!D(t))return Q(e)||(e=function(t,e){if(\"function\"==typeof n&&(e=n.call(this,t,e)),!D(e))return e}),r[1]=e,j.apply(E,r)}}),w.prototype[X]||t(19)(w.prototype,X,w.prototype.valueOf),v(w,\"Symbol\"),v(Math,\"Math\",!0),v(s.JSON,\"JSON\",!0)},function(t,e){},function(t,e,n){n(154);for(var r=n(8),o=n(19),i=n(43),u=n(15)(\"toStringTag\"),c=\"CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList\".split(\",\"),s=0;s<c.length;s++){var f=c[s],a=r[f],a=a&&a.prototype;a&&!a[u]&&o(a,u,f),i[f]=i.Array}},function(t,e){t.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},function(t,e,n){for(var r=n(86),o=n(158),i=n(30),u=n(17),c=n(22),s=n(94),n=n(10),f=n(\"iterator\"),a=n(\"toStringTag\"),l=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=o(p),h=0;h<d.length;h++){var v,g=d[h],y=p[g],x=u[g],m=x&&x.prototype;if(m&&(m[f]||c(m,f,l),m[a]||c(m,a,g),s[g]=l,y))for(v in r)m[v]||i(m,v,r[v],!0)}},,function(t,e,n){t.exports=n(63)(\"native-function-to-string\",Function.toString)},function(t,e,n){var r=n(24),o=n(27),i=n(10)(\"match\");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:\"RegExp\"==o(t))}},function(t,e,n){var r=n(124);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(24),o=n(125),i=n(10)(\"species\");t.exports=function(t){var e;return void 0===(e=o(t)&&(\"function\"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e))&&null===(e=e[i])?void 0:e)?Array:e}},function(t,e,n){var r=n(27);t.exports=Array.isArray||function(t){return\"Array\"==r(t)}},function(t,e,n){n(127);var r=n(1).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(7);r(r.S+r.F*!n(12),\"Object\",{defineProperty:n(14).f})},function(t,e,n){n(129);var r=n(1).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(7);r(r.S,\"Object\",{create:n(35)})},function(t,e,n){var s=n(16),f=n(93),a=n(131);t.exports=function(c){return function(t,e,n){var r,o=s(t),i=f(o.length),u=a(n,i);if(c&&e!=e){for(;u<i;)if((r=o[u++])!=r)return!0}else for(;u<i;u++)if((c||u in o)&&o[u]===e)return c||u||0;return!c&&-1}}},function(t,e,n){var r=n(53),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){n=n(8).document;t.exports=n&&n.documentElement},function(n,t,e){var r=e(80);function o(t,e){return n.exports=o=r||function(t,e){return t.__proto__=e,t},n.exports.default=n.exports,n.exports.__esModule=!0,o(t,e)}n.exports=o,n.exports.default=n.exports,n.exports.__esModule=!0},function(t,e,n){n(135),t.exports=n(1).Object.setPrototypeOf},function(t,e,n){var r=n(7);r(r.S,\"Object\",{setPrototypeOf:n(136).set})},function(t,e,o){function i(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+\": can't set as prototype!\")}var n=o(9),r=o(13);t.exports={set:Object.setPrototypeOf||(\"__proto__\"in{}?function(t,n,r){try{(r=o(59)(Function.call,o(40).f(Object.prototype,\"__proto__\").set,2))(t,[]),n=!(t instanceof Array)}catch(t){n=!0}return function(t,e){return i(t,e),n?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:i}},function(t,e,n){n(138),t.exports=n(1).Reflect.construct},function(t,e,n){var r=n(7),o=n(35),i=n(48),u=n(13),c=n(9),s=n(18),f=n(139),a=(n(8).Reflect||{}).construct,l=s(function(){function t(){}return!(a(function(){},[],t)instanceof t)}),p=!s(function(){a(function(){})});r(r.S+r.F*(l||p),\"Reflect\",{construct:function(t,e){i(t),u(e);var n=arguments.length<3?t:i(arguments[2]);if(p&&!l)return a(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(f.apply(t,r))}r=n.prototype,n=o(c(r)?r:Object.prototype),r=Function.apply.call(t,n,e);return c(r)?r:n}})},function(t,e,n){\"use strict\";var r=n(48),o=n(9),a=n(140),l=[].slice,p={};t.exports=Function.bind||function(u){var c=r(this),s=l.call(arguments,1),f=function(){var t=s.concat(l.call(arguments));if(this instanceof f){var e=c,n=t.length,r=t;if(!(n in p)){for(var o=[],i=0;i<n;i++)o[i]=\"a[\"+i+\"]\";p[n]=Function(\"F,a\",\"return new F(\"+o.join(\",\")+\")\")}return p[n](e,r)}return a(c,t,u)};return o(c.prototype)&&(f.prototype=c.prototype),f}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){t.exports=n(142)},function(t,e,n){n(143),t.exports=n(1).Object.getPrototypeOf},function(t,e,n){var r=n(29),o=n(61);n(65)(\"getPrototypeOf\",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(81);t.exports=function(){if(\"undefined\"==typeof Reflect||!r)return!1;if(r.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],function(){})),!0}catch(t){return!1}},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){var r=n(66).default,o=n(60);t.exports=function(t,e){if(e&&(\"object\"===r(e)||\"function\"==typeof e))return e;if(void 0!==e)throw new TypeError(\"Derived constructors may only return object or undefined\");return o(t)},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){n(115),n(116),n(149),n(150),t.exports=n(1).Symbol},function(t,e,n){var c=n(32),s=n(69),f=n(45);t.exports=function(t){var e=c(t),n=s.f;if(n)for(var r,o=n(t),i=f.f,u=0;o.length>u;)i.call(t,r=o[u++])&&e.push(r);return e}},function(t,e,n){var r=n(16),o=n(75).f,i={}.toString,u=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){if(!u||\"[object Window]\"!=i.call(t))return o(r(t));var e=t;try{return o(e)}catch(e){return u.slice()}}},function(t,e,n){n(58)(\"asyncIterator\")},function(t,e,n){n(58)(\"observable\")},function(t,e,n){n(109),n(117),t.exports=n(57).f(\"iterator\")},function(t,e,n){var i=n(53),u=n(42);t.exports=function(o){return function(t,e){var n,t=String(u(t)),e=i(e),r=t.length;return e<0||r<=e?o?\"\":void 0:(n=t.charCodeAt(e))<55296||56319<n||e+1===r||(r=t.charCodeAt(e+1))<56320||57343<r?o?t.charAt(e):n:o?t.slice(e,e+2):r-56320+(n-55296<<10)+65536}}},function(t,e,n){\"use strict\";var r=n(35),o=n(31),i=n(49),u={};n(19)(u,n(15)(\"iterator\"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(u,{next:o(1,n)}),i(t,e+\" Iterator\")}},function(t,e,n){\"use strict\";var r=n(155),o=n(156),i=n(43),u=n(16);t.exports=n(82)(Array,\"Array\",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,\"keys\"==e?n:\"values\"==e?t[n]:[n,t[n]])},\"values\"),i.Arguments=i.Array,r(\"keys\"),r(\"values\"),r(\"entries\")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){t.exports=n(168)},function(t,e,n){var r=n(176),o=n(118);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(39).f,o=n(47),i=n(10)(\"toStringTag\");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){t.exports=n(184)},function(t,e){t.exports=\"\\t\\n\\v\\f\\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\\u2028\\u2029\\ufeff\"},,function(t,e,n){var i=n(46),u=n(38);t.exports=function(o){return function(t,e){var n,t=String(u(t)),e=i(e),r=t.length;return e<0||r<=e?o?\"\":void 0:(n=t.charCodeAt(e))<55296||56319<n||e+1===r||(r=t.charCodeAt(e+1))<56320||57343<r?o?t.charAt(e):n:o?t.slice(e,e+2):r-56320+(n-55296<<10)+65536}}},function(t,e,n){\"use strict\";var r=n(67);n(26)({target:\"RegExp\",proto:!0,forced:r!==/./.exec},{exec:r})},function(t,e,n){t.exports=n(166)},function(t,e,n){n(167),t.exports=n(1).Reflect.get},function(t,e,n){var i=n(40),u=n(61),c=n(11),r=n(7),s=n(9),f=n(13);r(r.S,\"Reflect\",{get:function t(e,n){var r,o=arguments.length<3?e:arguments[2];return f(e)===o?e[n]:(r=i.f(e,n))?c(r,\"value\")?r.value:void 0!==r.get?r.get.call(o):void 0:s(r=u(e))?t(r,n,o):void 0}})},function(t,e,n){n(169);var r=n(1).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var r=n(16),o=n(40).f;n(65)(\"getOwnPropertyDescriptor\",function(){return function(t,e){return o(r(t),e)}})},function(t,e,n){var r=n(25);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e,n){n(172),t.exports=n(1).Object.keys},function(t,e,n){var r=n(29),o=n(32);n(65)(\"keys\",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(20),o=n(84),i=n(10)(\"species\");t.exports=function(t,e){var t=r(t).constructor;return void 0===t||null==(t=r(t)[i])?e:o(t)}},function(t,e,n){var s=n(85),f=n(34),a=n(106);t.exports=function(c){return function(t,e,n){var r,o=s(t),i=f(o.length),u=a(n,i);if(c&&e!=e){for(;u<i;)if((r=o[u++])!=r)return!0}else for(;u<i;u++)if((c||u in o)&&o[u]===e)return c||u||0;return!c&&-1}}},function(t,e,n){function r(){}var o=n(20),i=n(181),u=n(118),c=n(95)(\"IE_PROTO\"),s=function(){var t=n(91)(\"iframe\"),e=u.length;for(t.style.display=\"none\",n(105).appendChild(t),t.src=\"javascript:\",(t=t.contentWindow.document).open(),t.write(\"<script>document.F=Object<\\/script>\"),t.close(),s=t.F;e--;)delete s.prototype[u[e]];return s()};t.exports=Object.create||function(t,e){var n;return null!==t?(r.prototype=o(t),n=new r,r.prototype=null,n[c]=t):n=s(),void 0===e?n:i(n,e)}},function(t,e,n){var u=n(47),c=n(85),s=n(174)(!1),f=n(95)(\"IE_PROTO\");t.exports=function(t,e){var n,r=c(t),o=0,i=[];for(n in r)n!=f&&u(r,n)&&i.push(n);for(;e.length>o;)!u(r,n=e[o++])||~s(i,n)||i.push(n);return i}},,function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){\"use strict\";function y(){return this}var x=n(89),m=n(26),b=n(30),S=n(22),_=n(94),O=n(180),w=n(159),E=n(182),j=n(10)(\"iterator\"),M=!([].keys&&\"next\"in[].keys());t.exports=function(t,e,n,r,o,i,u){O(n,e,r);function c(t){if(!M&&t in p)return p[t];switch(t){case\"keys\":case\"values\":return function(){return new n(this,t)}}return function(){return new n(this,t)}}var s,f,r=e+\" Iterator\",a=\"values\"==o,l=!1,p=t.prototype,d=p[j]||p[\"@@iterator\"]||o&&p[o],h=d||c(o),v=o?a?c(\"entries\"):h:void 0,g=\"Array\"==e&&p.entries||d;if(g&&(g=E(g.call(new t)))!==Object.prototype&&g.next&&(w(g,r,!0),x||\"function\"==typeof g[j]||S(g,j,y)),a&&d&&\"values\"!==d.name&&(l=!0,h=function(){return d.call(this)}),x&&!u||!M&&!l&&p[j]||S(p,j,h),_[e]=h,_[r]=y,o)if(s={values:a?h:c(\"values\"),keys:i?h:c(\"keys\"),entries:v},u)for(f in s)f in p||b(p,f,s[f]);else m(m.P+m.F*(M||l),e,s);return s}},function(t,e,n){\"use strict\";var r=n(175),o=n(83),i=n(159),u={};n(22)(u,n(10)(\"iterator\"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(u,{next:o(1,n)}),i(t,e+\" Iterator\")}},function(t,e,n){var u=n(39),c=n(20),s=n(158);t.exports=n(23)?Object.defineProperties:function(t,e){c(t);for(var n,r=s(e),o=r.length,i=0;i<o;)u.f(t,n=r[i++],e[n]);return t}},function(t,e,n){var r=n(47),o=n(70),i=n(95)(\"IE_PROTO\"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:\"function\"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},,function(t,e,n){n(185),t.exports=n(1).parseInt},function(t,e,n){var r=n(7),n=n(186);r(r.G+r.F*(parseInt!=n),{parseInt:n})},function(t,e,n){var r=n(8).parseInt,o=n(187).trim,n=n(161),i=/^[-+]?0[xX]/;t.exports=8!==r(n+\"08\")||22!==r(n+\"0x16\")?function(t,e){t=o(String(t),3);return r(t,e>>>0||(i.test(t)?16:10))}:r},function(t,e,n){function r(t,e,n){var r={},o=u(function(){return!!c[t]()||\"\u200b\u0085\"!=\"\u200b\u0085\"[t]()}),e=r[t]=o?e(a):c[t];n&&(r[n]=e),i(i.P+i.F*o,\"String\",r)}var i=n(7),o=n(42),u=n(18),c=n(161),n=\"[\"+c+\"]\",s=RegExp(\"^\"+n+n+\"*\"),f=RegExp(n+n+\"*$\"),a=r.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(s,\"\")),t=2&e?t.replace(f,\"\"):t};t.exports=r},,,,,,,,function(t,e,n){\"use strict\";function r(){var o,i=jQuery,t=arguments,u=this,r={};this.getItems=function(t,e){var n;return e?(n=(e=e.split(\".\")).splice(0,1),e.length?t[n]?this.getItems(t[n],e.join(\".\")):void 0:t[n]):t},this.getSettings=function(t){return this.getItems(o,t)},this.setSettings=function(t,e,n){var r;return n=n||o,\"object\"===(0,c.default)(t)?(i.extend(n,t),u):(r=(t=t.split(\".\")).splice(0,1),t.length?(n[r]||(n[r]={}),u.setSettings(t.join(\".\"),e,n[r])):(n[r]=e,u))},this.getErrorMessage=function(t,e){t=\"forceMethodImplementation\"===t?\"The method '\".concat(e,\"' must to be implemented in the inheritor child.\"):\"An error occurs\";return t},this.forceMethodImplementation=function(t){throw new Error(this.getErrorMessage(\"forceMethodImplementation\",t))},this.on=function(t,e){return\"object\"===(0,c.default)(t)?i.each(t,function(t){u.on(t,this)}):t.split(\" \").forEach(function(t){r[t]||(r[t]=[]),r[t].push(e)}),u},this.off=function(t,e){return r[t]&&(e?-1!==(e=r[t].indexOf(e))&&delete r[t][e]:delete r[t]),u},this.trigger=function(t){var e=\"on\"+t[0].toUpperCase()+t.slice(1),n=Array.prototype.slice.call(arguments,1),e=(u[e]&&u[e].apply(u,n),r[t]);return e&&i.each(e,function(t,e){e.apply(u,n)}),u},u.__construct.apply(u,t),i.each(u,function(t){var e=u[t];\"function\"==typeof e&&(u[t]=function(){return e.apply(u,arguments)})}),o=u.getDefaultSettings(),(t=t[0])&&i.extend(!0,o,t),u.trigger(\"init\")}var o=n(0),i=o(n(107)),c=o(n(66));n(76),n(113),n(41);r.prototype.__construct=function(){},r.prototype.getDefaultSettings=function(){return{}},r.prototype.getConstructorID=function(){return this.constructor.name},r.extend=function(t){function e(){return r.apply(this,arguments)}var n=jQuery,r=this;return n.extend(e,r),((e.prototype=(0,i.default)(n.extend({},r.prototype,t))).constructor=e).__super__=r.prototype,e},t.exports=r},function(t,e,n){\"use strict\";n=n(0)(n(195));t.exports=n.default.extend({elements:null,getDefaultElements:function(){return{}},bindEvents:function(){},onInit:function(){this.initElements(),this.bindEvents()},initElements:function(){this.elements=this.getDefaultElements()}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){\"use strict\";var r,o=n(2),i=n(0),u=(o(e,\"__esModule\",{value:!0}),e.default=void 0,n(28),i(n(3))),o=i(n(4)),c=i(n(50)),s=i(n(25)),f=i(n(5)),i=i(n(6)),f=(n=goomentoModules.ViewModule,(0,f.default)(a,n),r=(0,i.default)(a),(0,o.default)(a,[{key:\"getDefaultSettings\",value:function(){return{selectors:{elements:\".gmt-element\",nestedDocumentElements:\".goomento .gmt-element\"},classes:{editMode:\"gmt-edit-mode\"}}}},{key:\"getDefaultElements\",value:function(){var t=this.getSettings(\"selectors\");return{$elements:this.$element.find(t.elements).not(this.$element.find(t.nestedDocumentElements))}}},{key:\"getDocumentSettings\",value:function(t){var e,n;return this.isEdit?(e={},n=goomento.settings.page.model,jQuery.each(n.getActiveControls(),function(t){e[t]=n.attributes[t]})):e=this.$element.data(\"gmt-settings\")||{},this.getItems(e,t)}},{key:\"runElementsHandlers\",value:function(){this.elements.$elements.each(function(t,e){return goomentoFrontend.elementsHandler.runReadyTrigger(e)})}},{key:\"onInit\",value:function(){this.$element=this.getSettings(\"$element\"),(0,c.default)((0,s.default)(a.prototype),\"onInit\",this).call(this),this.isEdit=this.$element.hasClass(this.getSettings(\"classes.editMode\")),this.isEdit?goomento.settings.page.model.on(\"change\",this.onSettingsChange.bind(this)):this.runElementsHandlers()}},{key:\"onSettingsChange\",value:function(){}}]),a);function a(){return(0,u.default)(this,a),r.apply(this,arguments)}e.default=f},function(t,e,n){\"use strict\";var r=n(2),o=n(0),r=(r(e,\"__esModule\",{value:!0}),e.default=void 0,o(n(195))),i=o(n(196)),o=o(n(238)),n=window.goomentoModules={Module:r.default,ViewModule:i.default,utils:{Masonry:o.default}};e.default=n},function(t,e,n){\"use strict\";var r=n(0),s=r(n(160)),r=r(n(196));t.exports=r.default.extend({getDefaultSettings:function(){return{container:null,items:null,columnsCount:3,verticalSpaceBetween:30}},getDefaultElements:function(){return{$container:jQuery(this.getSettings(\"container\")),$items:jQuery(this.getSettings(\"items\"))}},run:function(){var o=[],i=this.elements.$container.position().top,u=this.getSettings(),c=u.columnsCount;i+=(0,s.default)(this.elements.$container.css(\"margin-top\"),10),this.elements.$items.each(function(t){var e=Math.floor(t/c),n=jQuery(this),r=n[0].getBoundingClientRect().height+u.verticalSpaceBetween;e?(t=n.position().top-i-o[e=t%c],t-=(0,s.default)(n.css(\"margin-top\"),10),n.css(\"margin-top\",(t*=-1)+\"px\"),o[e]+=r):o.push(r)})}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){\"use strict\";var r=n(0),o=r(n(237)),i=r(n(236)),u=r(n(497)),r=r(n(498));o.default.frontend={Document:i.default,tools:{StretchElement:u.default},handlers:{Base:r.default}},t.exports=o.default},function(t,e,n){\"use strict\";t.exports=goomentoModules.ViewModule.extend({getDefaultSettings:function(){return{element:null,direction:goomentoFrontend.config.is_rtl?\"right\":\"left\",selectors:{container:window}}},getDefaultElements:function(){return{$element:jQuery(this.getSettings(\"element\"))}},stretch:function(){var t,e=this.getSettings(\"selectors.container\");try{t=jQuery(e)}catch(t){}t&&t.length||(t=jQuery(this.getDefaultSettings().selectors.container)),this.reset();var n,e=this.elements.$element,r=t.outerWidth(),o=e.offset().left,i=\"fixed\"===e.css(\"position\"),u=i?0:o,o=(window!==t[0]&&(n=t.offset().left,i&&(u=n),n<o)&&(u=o-n),i||(u=-(u=goomentoFrontend.config.is_rtl?r-(e.outerWidth()+u):u)),{});o.width=r+\"px\",o[this.getSettings(\"direction\")]=u+\"px\",e.css(o)},reset:function(){var t={width:\"\"};t[this.getSettings(\"direction\")]=\"\",this.elements.$element.css(t)}})},function(t,e,n){\"use strict\";var r=n(0)(n(44));n(33),n(28),n(113),n(76),n(72),n(86),n(119),t.exports=goomentoModules.ViewModule.extend({$element:null,editorListeners:null,onElementChange:null,onEditSettingsChange:null,onGeneralSettingsChange:null,onPageSettingsChange:null,isEdit:null,__construct:function(t){this.$element=t.$element,this.isEdit=this.$element.hasClass(\"gmt-element-edit-mode\"),this.isEdit&&this.addEditorListeners()},findElement:function(t){var e=this.$element;return e.find(t).filter(function(){return jQuery(this).closest(\".gmt-element\").is(e)})},getUniqueHandlerID:function(t,e){return(t=t||this.getModelCID())+(e=e||this.$element).attr(\"data-element_type\")+this.getConstructorID()},initEditorListeners:function(){var t,e,n=this;n.editorListeners=[{event:\"element:destroy\",to:goomento.channels.data,callback:function(t){t.cid===n.getModelCID()&&n.onDestroy()}}],n.onElementChange&&(e=\"change\",\"global\"!==(t=n.getWidgetType()||n.getElementType())&&(e+=\":\"+t),n.editorListeners.push({event:e,to:goomento.channels.editor,callback:function(t,e){n.getUniqueHandlerID(e.model.cid,e.$el)===n.getUniqueHandlerID()&&n.onElementChange(t.model.get(\"name\"),t,e)}})),n.onEditSettingsChange&&n.editorListeners.push({event:\"change:editSettings\",to:goomento.channels.editor,callback:function(t,e){e.model.cid===n.getModelCID()&&n.onEditSettingsChange((0,r.default)(t.changed)[0])}}),[\"page\",\"general\"].forEach(function(t){var e=\"on\"+t[0].toUpperCase()+t.slice(1)+\"SettingsChange\";n[e]&&n.editorListeners.push({event:\"change\",to:goomento.settings[t].model,callback:function(t){n[e](t.changed)}})})},getEditorListeners:function(){return this.editorListeners||this.initEditorListeners(),this.editorListeners},addEditorListeners:function(){var e=this.getUniqueHandlerID();this.getEditorListeners().forEach(function(t){goomentoFrontend.addListenerOnce(e,t.event,t.callback,t.to)})},removeEditorListeners:function(){var e=this.getUniqueHandlerID();this.getEditorListeners().forEach(function(t){goomentoFrontend.removeListeners(e,t.event,null,t.to)})},getElementType:function(){return this.$element.data(\"element_type\")},getWidgetType:function(){var t=this.$element.data(\"widget_type\");if(t)return t.split(\".\")[0]},getID:function(){return this.$element.data(\"id\")},getModelCID:function(){return this.$element.data(\"model-cid\")},getElementSettings:function(t){var n,e,r,o={},i=this.getModelCID();return this.isEdit&&i?(i=goomentoFrontend.config.elements.data[i],e=(n=i.attributes).widgetType||n.elType,n.isInner&&(e=\"inner-\"+e),(r=goomentoFrontend.config.elements.keys[e])||(r=goomentoFrontend.config.elements.keys[e]=[],jQuery.each(i.controls,function(t,e){e.frontend_available&&r.push(t)})),jQuery.each(i.getActiveControls(),function(t){var e;-1!==r.indexOf(t)&&((e=n[t]).toJSON&&(e=e.toJSON()),o[t]=e)})):o=this.$element.data(\"settings\")||{},this.getItems(o,t)},getEditSettings:function(t){var e={};return this.isEdit&&(e=goomentoFrontend.config.elements.editSettings[this.getModelCID()].attributes),this.getItems(e,t)},getCurrentDeviceSetting:function(t){return goomentoFrontend.getCurrentDeviceSetting(this.getElementSettings(),t)},onDestroy:function(){this.isEdit&&this.removeEditorListeners(),this.unbindEvents&&this.unbindEvents()}})}],r={},o.m=n,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,\"a\",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=\"\",o(o.s=496);function o(t){var e;return(r[t]||(e=r[t]={i:t,l:!1,exports:{}},n[t].call(e.exports,e,e.exports,o),e.l=!0,e)).exports}var n,r});","Goomento_PageBuilder/build/frontend.min.js":"!function(e,t){if(\"object\"==typeof exports&&\"object\"==typeof module)module.exports=t();else if(\"function\"==typeof define&&define.amd)define([],t);else{var n,o=t();for(n in o)(\"object\"==typeof exports?exports:e)[n]=o[n]}}(window,function(){return n=[function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t){e=e.exports={version:\"2.6.12\"};\"number\"==typeof __e&&(__e=e)},function(e,t,n){e.exports=n(126)},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=n(2);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),i(e,o.key,o)}}e.exports=function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(107),i=n(133);e.exports=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function\");e.prototype=o(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var i=n(81),r=n(25),s=n(144),a=n(145);e.exports=function(n){var o=s();return function(){var e,t=r(n);return e=o?(e=r(this).constructor,i(t,arguments,e)):t.apply(this,arguments),a(this,e)}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){function h(e,t,n){var o,i,r,s=e&h.F,a=e&h.G,u=e&h.S,l=e&h.P,c=e&h.B,d=e&h.W,f=a?m:m[t]||(m[t]={}),p=f.prototype,g=a?v:u?v[t]:(v[t]||{}).prototype;for(o in n=a?t:n)(i=!s&&g&&void 0!==g[o])&&x(f,o)||(r=(i?g:n)[o],f[o]=a&&\"function\"!=typeof g[o]?n[o]:c&&i?y(r,v):d&&g[o]==r?function(o){function e(e,t,n){if(this instanceof o){switch(arguments.length){case 0:return new o;case 1:return new o(e);case 2:return new o(e,t)}return new o(e,t,n)}return o.apply(this,arguments)}return e.prototype=o.prototype,e}(r):l&&\"function\"==typeof r?y(Function.call,r):r,l&&((f.virtual||(f.virtual={}))[o]=r,e&h.R)&&p&&!p[o]&&b(p,o,r))}var v=n(8),m=n(1),y=n(59),b=n(19),x=n(11);h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,e.exports=h},function(e,t){e=e.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=e)},function(e,t){e.exports=function(e){return\"object\"==typeof e?null!==e:\"function\"==typeof e}},function(e,t,n){var o=n(63)(\"wks\"),i=n(64),r=n(17).Symbol,s=\"function\"==typeof r;(e.exports=function(e){return o[e]||(o[e]=s&&r[e]||(s?r:i)(\"Symbol.\"+e))}).store=o},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=!n(18)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(e,t,n){var o=n(9);e.exports=function(e){if(o(e))return e;throw TypeError(e+\" is not an object!\")}},function(e,t,n){var o=n(13),i=n(77),r=n(52),s=Object.defineProperty;t.f=n(12)?Object.defineProperty:function(e,t,n){if(o(e),t=r(t,!0),o(n),i)try{return s(e,t,n)}catch(e){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(e[t]=n.value),e}},function(e,t,n){var o=n(55)(\"wks\"),i=n(37),r=n(8).Symbol,s=\"function\"==typeof r;(e.exports=function(e){return o[e]||(o[e]=s&&r[e]||(s?r:i)(\"Symbol.\"+e))}).store=o},function(e,t,n){var o=n(108),i=n(42);e.exports=function(e){return o(i(e))}},function(e,t){e=e.exports=\"undefined\"!=typeof window&&window.Math==Math?window:\"undefined\"!=typeof self&&self.Math==Math?self:Function(\"return this\")();\"number\"==typeof __g&&(__g=e)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var o=n(14),i=n(31);e.exports=n(12)?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var o=n(24);e.exports=function(e){if(o(e))return e;throw TypeError(e+\" is not an object!\")}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var o=n(39),i=n(83);e.exports=n(23)?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){e.exports=!n(21)(function(){return 7!=Object.defineProperty({},\"a\",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){return\"object\"==typeof e?null!==e:\"function\"==typeof e}},function(t,e,n){var o=n(80),i=n(141);function r(e){return t.exports=r=o?i:function(e){return e.__proto__||i(e)},t.exports.default=t.exports,t.exports.__esModule=!0,r(e)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},function(e,t,n){function p(e,t,n){var o,i,r,s=e&p.F,a=e&p.G,u=e&p.P,l=e&p.B,c=a?g:e&p.S?g[t]||(g[t]={}):(g[t]||{}).prototype,d=a?h:h[t]||(h[t]={}),f=d.prototype||(d.prototype={});for(o in n=a?t:n)i=((r=!s&&c&&void 0!==c[o])?c:n)[o],r=l&&r?y(i,g):u&&\"function\"==typeof i?y(Function.call,i):i,c&&m(c,o,i,e&p.U),d[o]!=i&&v(d,o,r),u&&f[o]!=i&&(f[o]=i)}var g=n(17),h=n(51),v=n(22),m=n(30),y=n(71);g.core=h,p.F=1,p.G=2,p.S=4,p.P=8,p.B=16,p.W=32,p.U=64,p.R=128,e.exports=p},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){\"use strict\";var o=n(26),i=n(73)(5),r=!0;\"find\"in[]&&Array(1).find(function(){r=!1}),o(o.P+o.F*r,\"Array\",{find:function(e){return i(this,e,1<arguments.length?arguments[1]:void 0)}}),n(99)(\"find\")},function(e,t,n){var o=n(42);e.exports=function(e){return Object(o(e))}},function(e,t,n){var r=n(17),s=n(22),a=n(47),u=n(64)(\"src\"),o=n(121),l=(\"\"+o).split(\"toString\");n(51).inspectSource=function(e){return o.call(e)},(e.exports=function(e,t,n,o){var i=\"function\"==typeof n;i&&!a(n,\"name\")&&s(n,\"name\",t),e[t]!==n&&(i&&!a(n,u)&&s(n,u,e[t]?\"\"+e[t]:l.join(String(t))),e===r?e[t]=n:o?e[t]?e[t]=n:s(e,t,n):(delete e[t],s(e,t,n)))})(Function.prototype,\"toString\",function(){return\"function\"==typeof this&&this[u]||o.call(this)})},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var o=n(79),i=n(56);e.exports=Object.keys||function(e){return o(e,i)}},function(e,t,n){\"use strict\";var o=n(26),i=n(73)(2);o(o.P+o.F*!n(110)([].filter,!0),\"Array\",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var o=n(46),i=Math.min;e.exports=function(e){return 0<e?i(o(e),9007199254740991):0}},function(e,t,n){function o(){}var i=n(13),r=n(114),s=n(56),a=n(54)(\"IE_PROTO\"),u=function(){var e=n(78)(\"iframe\"),t=s.length;for(e.style.display=\"none\",n(132).appendChild(e),e.src=\"javascript:\",(e=e.contentWindow.document).open(),e.write(\"<script>document.F=Object<\\/script>\"),e.close(),u=e.F;t--;)delete u.prototype[s[t]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(o.prototype=i(e),n=new o,o.prototype=null,n[a]=e):n=u(),void 0===t?n:r(n,t)}},function(e,t){e.exports=!0},function(e,t){var n=0,o=Math.random();e.exports=function(e){return\"Symbol(\".concat(void 0===e?\"\":e,\")_\",(++n+o).toString(36))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError(\"Can't call method on  \"+e);return e}},function(e,t,n){var o=n(20),i=n(112),r=n(104),s=Object.defineProperty;t.f=n(23)?Object.defineProperty:function(e,t,n){if(o(e),t=r(t,!0),o(n),i)try{return s(e,t,n)}catch(e){}if(\"get\"in n||\"set\"in n)throw TypeError(\"Accessors not supported!\");return\"value\"in n&&(e[t]=n.value),e}},function(e,t,n){var o=n(45),i=n(31),r=n(16),s=n(52),a=n(11),u=n(77),l=Object.getOwnPropertyDescriptor;t.f=n(12)?l:function(e,t){if(e=r(e),t=s(t,!0),u)try{return l(e,t)}catch(e){}if(a(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t,n){var o=n(39).f,i=Function.prototype,r=/^\\s*function ([^ (]*)/;\"name\"in i||n(23)&&o(i,\"name\",{configurable:!0,get:function(){try{return(\"\"+this).match(r)[1]}catch(e){return\"\"}}})},function(e,t){e.exports=function(e){if(null==e)throw TypeError(\"Can't call method on  \"+e);return e}},function(e,t){e.exports={}},function(e,t,n){e.exports=n(171)},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?o:n)(e)}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if(\"function\"!=typeof e)throw TypeError(e+\" is not a function!\");return e}},function(e,t,n){var o=n(14).f,i=n(11),r=n(15)(\"toStringTag\");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,r)&&o(e,r,{configurable:!0,value:t})}},function(o,e,t){var i=t(165),r=t(157),s=t(170);function a(e,t,n){return\"undefined\"!=typeof Reflect&&i?o.exports=a=i:o.exports=a=function(e,t,n){var e=s(e,t);if(e)return(e=r(e,t)).get?e.get.call(n):e.value},o.exports.default=o.exports,o.exports.__esModule=!0,a(e,t,n||e)}o.exports=a,o.exports.default=o.exports,o.exports.__esModule=!0},function(e,t){e=e.exports={version:\"2.6.12\"};\"number\"==typeof __e&&(__e=e)},function(e,t,n){var i=n(9);e.exports=function(e,t){if(!i(e))return e;var n,o;if(t&&\"function\"==typeof(n=e.toString)&&!i(o=n.call(e))||\"function\"==typeof(n=e.valueOf)&&!i(o=n.call(e))||!t&&\"function\"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError(\"Can't convert object to primitive value\")}},function(e,t){var n=Math.ceil,o=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?o:n)(e)}},function(e,t,n){var o=n(55)(\"keys\"),i=n(37);e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t,n){var o=n(1),i=n(8),r=i[\"__core-js_shared__\"]||(i[\"__core-js_shared__\"]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})(\"versions\",[]).push({version:o.version,mode:n(36)?\"pure\":\"global\",copyright:\"\u00a9 2020 Denis Pushkarev (zloirock.ru)\"})},function(e,t){e.exports=\"constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf\".split(\",\")},function(e,t,n){t.f=n(15)},function(e,t,n){var o=n(8),i=n(1),r=n(36),s=n(57),a=n(14).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=!r&&o.Symbol||{});\"_\"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t,n){var r=n(48);e.exports=function(o,i,e){if(r(o),void 0===i)return o;switch(e){case 1:return function(e){return o.call(i,e)};case 2:return function(e,t){return o.call(i,e,t)};case 3:return function(e,t,n){return o.call(i,e,t,n)}}return function(){return o.apply(i,arguments)}}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(11),i=n(29),r=n(54)(\"IE_PROTO\"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),o(e,r)?e[r]:\"function\"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){\"use strict\";var S=n(20),_=n(70),k=n(34),M=n(46),E=n(96),O=n(88),C=Math.max,j=Math.min,I=Math.floor,A=/\\$([$&`']|\\d\\d?|<[^>]*>)/g,$=/\\$([$&`']|\\d\\d?)/g;n(90)(\"replace\",2,function(i,r,x,w){return[function(e,t){var n=i(this),o=null==e?void 0:e[r];return void 0!==o?o.call(e,n,t):x.call(String(n),e,t)},function(e,t){var n=w(x,e,this,t);if(n.done)return n.value;var o,i=S(e),r=String(this),s=\"function\"==typeof t,a=(s||(t=String(t)),i.global);a&&(o=i.unicode,i.lastIndex=0);for(var u=[];;){var l=O(i,r);if(null===l)break;if(u.push(l),!a)break;\"\"===String(l[0])&&(i.lastIndex=E(r,k(i.lastIndex),o))}for(var c,d=\"\",f=0,p=0;p<u.length;p++){for(var l=u[p],g=String(l[0]),h=C(j(M(l.index),r.length),0),v=[],m=1;m<l.length;m++)v.push(void 0===(c=l[m])?c:String(c));var y=l.groups,b=s?(b=[g].concat(v,h,r),void 0!==y&&b.push(y),String(t.apply(void 0,b))):function(r,s,a,u,l,e){var c=a+r.length,d=u.length,t=$;return void 0!==l&&(l=_(l),t=A),x.call(e,t,function(e,t){var n;switch(t.charAt(0)){case\"$\":return\"$\";case\"&\":return r;case\"`\":return s.slice(0,a);case\"'\":return s.slice(c);case\"<\":n=l[t.slice(1,-1)];break;default:var o,i=+t;if(0==i)return e;if(d<i)return 0!==(o=I(i/10))&&o<=d?void 0===u[o-1]?t.charAt(1):u[o-1]+t.charAt(1):e;n=u[i-1]}return void 0===n?\"\":n})}(g,r,h,v,y,t);f<=h&&(d+=r.slice(f,h)+b,f=h+g.length)}return d+r.slice(f)}]})},function(e,t,n){var o=n(51),i=n(17),r=i[\"__core-js_shared__\"]||(i[\"__core-js_shared__\"]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})(\"versions\",[]).push({version:o.version,mode:n(89)?\"pure\":\"global\",copyright:\"\u00a9 2020 Denis Pushkarev (zloirock.ru)\"})},function(e,t){var n=0,o=Math.random();e.exports=function(e){return\"Symbol(\".concat(void 0===e?\"\":e,\")_\",(++n+o).toString(36))}},function(e,t,n){var i=n(7),r=n(1),s=n(18);e.exports=function(e,t){var n=(r.Object||{})[e]||Object[e],o={};o[e]=t(n),i(i.S+i.F*s(function(){n(1)}),\"Object\",o)}},function(t,e,n){var o=n(100),i=n(103);function r(e){return t.exports=r=\"function\"==typeof o&&\"symbol\"==typeof i?function(e){return typeof e}:function(e){return e&&\"function\"==typeof o&&e.constructor===o&&e!==o.prototype?\"symbol\":typeof e},t.exports.default=t.exports,t.exports.__esModule=!0,r(e)}t.exports=r,t.exports.default=t.exports,t.exports.__esModule=!0},function(e,t,n){\"use strict\";var o,i,s=n(111),a=RegExp.prototype.exec,u=String.prototype.replace,n=a,l=(i=/b*/g,a.call(o=/a/,\"a\"),a.call(i,\"a\"),0!==o.lastIndex||0!==i.lastIndex),c=void 0!==/()??/.exec(\"\")[1];e.exports=n=l||c?function(e){var t,n,o,i,r=this;return c&&(n=new RegExp(\"^\"+r.source+\"$(?!\\\\s)\",s.call(r))),l&&(t=r.lastIndex),o=a.call(r,e),l&&o&&(r.lastIndex=r.global?o.index+o[0].length:t),c&&o&&1<o.length&&u.call(o[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)}),o}:n},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var o=n(38);e.exports=function(e){return Object(o(e))}},function(e,t,n){var r=n(84);e.exports=function(o,i,e){if(r(o),void 0===i)return o;switch(e){case 1:return function(e){return o.call(i,e)};case 2:return function(e,t){return o.call(i,e,t)};case 3:return function(e,t,n){return o.call(i,e,t,n)}}return function(){return o.apply(i,arguments)}}},,function(e,t,n){var b=n(71),x=n(92),w=n(70),S=n(34),o=n(123);e.exports=function(d,e){var f=1==d,p=2==d,g=3==d,h=4==d,v=6==d,m=5==d||v,y=e||o;return function(e,t,n){for(var o,i,r=w(e),s=x(r),a=b(t,n,3),u=S(s.length),l=0,c=f?y(e,u):p?y(e,0):void 0;l<u;l++)if((m||l in s)&&(i=a(o=s[l],l,r),d))if(f)c[l]=i;else if(i)switch(d){case 3:return!0;case 5:return o;case 6:return l;case 2:c.push(o)}else if(h)return!1;return v?-1:g||h?h:c}}},function(e,t,n){e.exports=n(19)},function(e,t,n){var o=n(79),i=n(56).concat(\"length\",\"prototype\");t.f=Object.getOwnPropertyNames||function(e){return o(e,i)}},function(e,t,n){\"use strict\";var d=n(122),m=n(20),y=n(173),b=n(96),x=n(34),w=n(88),f=n(67),o=n(21),S=Math.min,p=[].push,_=\"length\",k=!o(function(){RegExp(4294967295,\"y\")});n(90)(\"split\",2,function(i,r,g,h){var v=\"c\"==\"abbc\".split(/(b)*/)[1]||4!=\"test\".split(/(?:)/,-1)[_]||2!=\"ab\".split(/(?:ab)*/)[_]||4!=\".\".split(/(.?)(.?)/)[_]||1<\".\".split(/()()/)[_]||\"\".split(/.?/)[_]?function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!d(e))return g.call(n,e,t);for(var o,i,r,s=[],a=(e.ignoreCase?\"i\":\"\")+(e.multiline?\"m\":\"\")+(e.unicode?\"u\":\"\")+(e.sticky?\"y\":\"\"),u=0,l=void 0===t?4294967295:t>>>0,c=new RegExp(e.source,a+\"g\");(o=f.call(c,n))&&!((i=c.lastIndex)>u&&(s.push(n.slice(u,o.index)),1<o[_]&&o.index<n[_]&&p.apply(s,o.slice(1)),r=o[0][_],u=i,l<=s[_]));)c.lastIndex===o.index&&c.lastIndex++;return u===n[_]?!r&&c.test(\"\")||s.push(\"\"):s.push(n.slice(u)),l<s[_]?s.slice(0,l):s}:\"0\".split(void 0,0)[_]?function(e,t){return void 0===e&&0===t?[]:g.call(this,e,t)}:g;return[function(e,t){var n=i(this),o=null==e?void 0:e[r];return void 0!==o?o.call(e,n,t):v.call(String(n),e,t)},function(e,t){var n=h(v,e,this,t,v!==g);if(n.done)return n.value;var n=m(e),o=String(this),e=y(n,RegExp),i=n.unicode,r=(n.ignoreCase?\"i\":\"\")+(n.multiline?\"m\":\"\")+(n.unicode?\"u\":\"\")+(k?\"y\":\"g\"),s=new e(k?n:\"^(?:\"+n.source+\")\",r),a=void 0===t?4294967295:t>>>0;if(0==a)return[];if(0===o.length)return null===w(s,o)?[o]:[];for(var u=0,l=0,c=[];l<o.length;){s.lastIndex=k?l:0;var d,f=w(s,k?o:o.slice(l));if(null===f||(d=S(x(s.lastIndex+(k?0:l)),o.length))===u)l=b(o,l,i);else{if(c.push(o.slice(u,l)),c.length===a)return c;for(var p=1;p<=f.length-1;p++)if(c.push(f[p]),c.length===a)return c;l=u=d}}return c.push(o.slice(u)),c}]})},function(e,t,n){e.exports=!n(12)&&!n(18)(function(){return 7!=Object.defineProperty(n(78)(\"div\"),\"a\",{get:function(){return 7}}).a})},function(e,t,n){var o=n(9),i=n(8).document,r=o(i)&&o(i.createElement);e.exports=function(e){return r?i.createElement(e):{}}},function(e,t,n){var s=n(11),a=n(16),u=n(130)(!1),l=n(54)(\"IE_PROTO\");e.exports=function(e,t){var n,o=a(e),i=0,r=[];for(n in o)n!=l&&s(o,n)&&r.push(n);for(;t.length>i;)!s(o,n=t[i++])||~u(r,n)||r.push(n);return r}},function(e,t,n){e.exports=n(134)},function(e,t,n){e.exports=n(137)},function(e,t,n){\"use strict\";function m(){return this}var y=n(36),b=n(7),x=n(74),w=n(19),S=n(43),_=n(153),k=n(49),M=n(61),E=n(15)(\"iterator\"),O=!([].keys&&\"next\"in[].keys());e.exports=function(e,t,n,o,i,r,s){_(n,t,o);function a(e){if(!O&&e in f)return f[e];switch(e){case\"keys\":case\"values\":return function(){return new n(this,e)}}return function(){return new n(this,e)}}var u,l,o=t+\" Iterator\",c=\"values\"==i,d=!1,f=e.prototype,p=f[E]||f[\"@@iterator\"]||i&&f[i],g=p||a(i),h=i?c?a(\"entries\"):g:void 0,v=\"Array\"==t&&f.entries||p;if(v&&(v=M(v.call(new e)))!==Object.prototype&&v.next&&(k(v,o,!0),y||\"function\"==typeof v[E]||w(v,E,m)),c&&p&&\"values\"!==p.name&&(d=!0,g=function(){return p.call(this)}),y&&!s||!O&&!d&&f[E]||w(f,E,g),S[t]=g,S[o]=m,i)if(u={values:c?g:a(\"values\"),keys:r?g:a(\"keys\"),entries:h},s)for(l in u)l in f||x(f,l,u[l]);else b(b.P+b.F*(O||d),t,u);return u}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){e.exports=function(e){if(\"function\"!=typeof e)throw TypeError(e+\" is not a function!\");return e}},,,,function(e,t,n){\"use strict\";var o=n(97),i=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if(\"function\"==typeof n){n=n.call(e,t);if(\"object\"!=typeof n)throw new TypeError(\"RegExp exec method returned something other than an Object or null\");return n}if(\"RegExp\"!==o(e))throw new TypeError(\"RegExp#exec called on incompatible receiver\");return i.call(e,t)}},function(e,t){e.exports=!1},function(e,t,n){\"use strict\";n(164);var o,u=n(30),l=n(22),c=n(21),d=n(38),f=n(10),p=n(67),g=f(\"species\"),h=!c(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:\"7\"},e},\"7\"!==\"\".replace(e,\"$<a>\")}),v=(o=(n=/(?:)/).exec,n.exec=function(){return o.apply(this,arguments)},2===(n=\"ab\".split(n)).length&&\"a\"===n[0]&&\"b\"===n[1]);e.exports=function(n,e,t){var r,o,i=f(n),s=!c(function(){var e={};return e[i]=function(){return 7},7!=\"\"[n](e)}),a=s?!c(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},\"split\"===n&&(t.constructor={},t.constructor[g]=function(){return t}),t[i](\"\"),!e}):void 0;s&&a&&(\"replace\"!==n||h)&&(\"split\"!==n||v)||(r=/./[i],t=(a=t(d,i,\"\"[n],function(e,t,n,o,i){return t.exec===p?s&&!i?{done:!0,value:r.call(t,n,o)}:{done:!0,value:e.call(n,t,o)}:{done:!1}}))[0],o=a[1],u(String.prototype,n,t),l(RegExp.prototype,i,2==e?function(e,t){return o.call(e,this,t)}:function(e){return o.call(e,this)}))}},function(e,t,n){var o=n(24),i=n(17).document,r=o(i)&&o(i.createElement);e.exports=function(e){return r?i.createElement(e):{}}},function(e,t,n){var o=n(27);e.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(e){return\"String\"==o(e)?e.split(\"\"):Object(e)}},function(e,t,n){var o=n(53),i=Math.min;e.exports=function(e){return 0<e?i(o(e),9007199254740991):0}},,,function(e,t,n){\"use strict\";var o=n(163)(!0);e.exports=function(e,t,n){return t+(n?o(e,t).length:1)}},function(e,t,n){var o=n(27),i=n(10)(\"toStringTag\"),r=\"Arguments\"==o(function(){return arguments}());e.exports=function(e){var t;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(t=function(e,t){try{return e[t]}catch(e){}}(e=Object(e),i))?t:r?o(e):\"Object\"==(t=o(e))&&\"function\"==typeof e.callee?\"Arguments\":t}},function(e,t,n){\"use strict\";var c=n(20),d=n(34),f=n(96),p=n(88);n(90)(\"match\",1,function(o,i,u,l){return[function(e){var t=o(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,t):new RegExp(e)[i](String(t))},function(e){var t=l(u,e,this);if(t.done)return t.value;var n=c(e),o=String(this);if(!n.global)return p(n,o);for(var i=n.unicode,r=[],s=n.lastIndex=0;null!==(a=p(n,o));){var a=String(a[0]);\"\"===(r[s]=a)&&(n.lastIndex=f(o,d(n.lastIndex),i)),s++}return 0===s?null:r}]})},function(e,t,n){var o=n(10)(\"unscopables\"),i=Array.prototype;null==i[o]&&n(22)(i,o,{}),e.exports=function(e){i[o][e]=!0}},function(e,t,n){e.exports=n(146)},function(e,t,n){function o(e){a(e,i,{value:{i:\"O\"+ ++u,w:{}}})}var i=n(37)(\"meta\"),r=n(9),s=n(11),a=n(14).f,u=0,l=Object.isExtensible||function(){return!0},c=!n(18)(function(){return l(Object.preventExtensions({}))}),d=e.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!r(e))return\"symbol\"==typeof e?e:(\"string\"==typeof e?\"S\":\"P\")+e;if(!s(e,i)){if(!l(e))return\"F\";if(!t)return\"E\";o(e)}return e[i].i},getWeak:function(e,t){if(!s(e,i)){if(!l(e))return!0;if(!t)return!1;o(e)}return e[i].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!s(e,i)&&o(e),e}}},function(e,t,n){var o=n(68);e.exports=Array.isArray||function(e){return\"Array\"==o(e)}},function(e,t,n){e.exports=n(151)},function(e,t,n){var i=n(24);e.exports=function(e,t){if(!i(e))return e;var n,o;if(t&&\"function\"==typeof(n=e.toString)&&!i(o=n.call(e))||\"function\"==typeof(n=e.valueOf)&&!i(o=n.call(e))||!t&&\"function\"==typeof(n=e.toString)&&!i(o=n.call(e)))return o;throw TypeError(\"Can't convert object to primitive value\")}},function(e,t,n){n=n(17).document;e.exports=n&&n.documentElement},function(e,t,n){var o=n(46),i=Math.max,r=Math.min;e.exports=function(e,t){return(e=o(e))<0?i(e+t,0):r(e,t)}},function(e,t,n){e.exports=n(128)},function(e,t,n){var o=n(68);e.exports=Object(\"z\").propertyIsEnumerable(0)?Object:function(e){return\"String\"==o(e)?e.split(\"\"):Object(e)}},function(e,t,n){\"use strict\";var o=n(152)(!0);n(82)(String,\"String\",function(e){this._t=String(e),this._i=0},function(){var e=this._t,t=this._i;return t>=e.length?{value:void 0,done:!0}:(e=o(e,t),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){\"use strict\";var o=n(21);e.exports=function(e,t){return!!e&&o(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){\"use strict\";var o=n(20);e.exports=function(){var e=o(this),t=\"\";return e.global&&(t+=\"g\"),e.ignoreCase&&(t+=\"i\"),e.multiline&&(t+=\"m\"),e.unicode&&(t+=\"u\"),e.sticky&&(t+=\"y\"),t}},function(e,t,n){e.exports=!n(23)&&!n(21)(function(){return 7!=Object.defineProperty(n(91)(\"div\"),\"a\",{get:function(){return 7}}).a})},function(e,t,n){\"use strict\";var o=n(26),i=n(105),u=n(27),l=n(106),c=n(34),d=[].slice;o(o.P+o.F*n(21)(function(){i&&d.call(i)}),\"Array\",{slice:function(e,t){var n=c(this.length),o=u(this);if(t=void 0===t?n:t,\"Array\"==o)return d.call(this,e,t);for(var i=l(e,n),e=l(t,n),r=c(e-i),s=new Array(r),a=0;a<r;a++)s[a]=\"String\"==o?this.charAt(i+a):this[i+a];return s}})},function(e,t,n){var s=n(14),a=n(13),u=n(32);e.exports=n(12)?Object.defineProperties:function(e,t){a(e);for(var n,o=u(t),i=o.length,r=0;r<i;)s.f(e,n=o[r++],t[n]);return e}},function(V,D,e){\"use strict\";function o(e){var t=j[e]=w(k.prototype);return t._k=e,t}function s(e,t,n){return e===A&&s(I,t,n),m(e),t=b(t,!0),m(n),(l(j,t)?(n.enumerable?(l(e,O)&&e[O][t]&&(e[O][t]=!1),n=w(n,{enumerable:x(0,!1)})):(l(e,O)||_(e,O,x(1,{})),e[O][t]=!0),T):_)(e,t,n)}function n(e,t){m(e);for(var n,o=B(t=y(t)),i=0,r=o.length;i<r;)s(e,n=o[i++],t[n]);return e}function t(e){var t=Z.call(this,e=b(e,!0));return!(this===A&&l(j,e)&&!l(I,e))&&(!(t||!l(this,e)||!l(j,e)||l(this,O)&&this[O][e])||t)}function i(e,t){var n;if(e=y(e),t=b(t,!0),e!==A||!l(j,t)||l(I,t))return!(n=K(e,t))||!l(j,t)||l(e,O)&&e[O][t]||(n.enumerable=!0),n}function r(e){for(var t,n=q(y(e)),o=[],i=0;n.length>i;)l(j,t=n[i++])||t==O||t==L||o.push(t);return o}function a(e){for(var t,n=e===A,o=q(n?I:y(e)),i=[],r=0;o.length>r;)!l(j,t=o[r++])||n&&!l(A,t)||i.push(j[t]);return i}var u=e(8),l=e(11),c=e(12),d=e(7),f=e(74),L=e(101).KEY,p=e(18),g=e(55),h=e(49),R=e(37),v=e(15),Q=e(57),H=e(58),B=e(147),N=e(102),m=e(13),z=e(9),G=e(29),y=e(16),b=e(52),x=e(31),w=e(35),U=e(148),W=e(40),S=e(69),Y=e(14),J=e(32),K=W.f,_=Y.f,q=U.f,k=u.Symbol,M=u.JSON,E=M&&M.stringify,O=v(\"_hidden\"),X=v(\"toPrimitive\"),Z={}.propertyIsEnumerable,C=g(\"symbol-registry\"),j=g(\"symbols\"),I=g(\"op-symbols\"),A=Object.prototype,g=\"function\"==typeof k&&!!S.f,$=u.QObject,P=!$||!$.prototype||!$.prototype.findChild,T=c&&p(function(){return 7!=w(_({},\"a\",{get:function(){return _(this,\"a\",{value:7}).a}})).a})?function(e,t,n){var o=K(A,t);o&&delete A[t],_(e,t,n),o&&e!==A&&_(A,t,o)}:_,F=g&&\"symbol\"==typeof k.iterator?function(e){return\"symbol\"==typeof e}:function(e){return e instanceof k};g||(f((k=function(){if(this instanceof k)throw TypeError(\"Symbol is not a constructor!\");var t=R(0<arguments.length?arguments[0]:void 0),n=function(e){this===A&&n.call(I,e),l(this,O)&&l(this[O],t)&&(this[O][t]=!1),T(this,t,x(1,e))};return c&&P&&T(A,t,{configurable:!0,set:n}),o(t)}).prototype,\"toString\",function(){return this._k}),W.f=i,Y.f=s,e(75).f=U.f=r,e(45).f=t,S.f=a,c&&!e(36)&&f(A,\"propertyIsEnumerable\",t,!0),Q.f=function(e){return o(v(e))}),d(d.G+d.W+d.F*!g,{Symbol:k});for(var ee=\"hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables\".split(\",\"),te=0;ee.length>te;)v(ee[te++]);for(var ne=J(v.store),oe=0;ne.length>oe;)H(ne[oe++]);d(d.S+d.F*!g,\"Symbol\",{for:function(e){return l(C,e+=\"\")?C[e]:C[e]=k(e)},keyFor:function(e){if(!F(e))throw TypeError(e+\" is not a symbol!\");for(var t in C)if(C[t]===e)return t},useSetter:function(){P=!0},useSimple:function(){P=!1}}),d(d.S+d.F*!g,\"Object\",{create:function(e,t){return void 0===t?w(e):n(w(e),t)},defineProperty:s,defineProperties:n,getOwnPropertyDescriptor:i,getOwnPropertyNames:r,getOwnPropertySymbols:a});$=p(function(){S.f(1)});d(d.S+d.F*$,\"Object\",{getOwnPropertySymbols:function(e){return S.f(G(e))}}),M&&d(d.S+d.F*(!g||p(function(){var e=k();return\"[null]\"!=E([e])||\"{}\"!=E({a:e})||\"{}\"!=E(Object(e))})),\"JSON\",{stringify:function(e){for(var t,n,o=[e],i=1;i<arguments.length;)o.push(arguments[i++]);if(n=t=o[1],(z(t)||void 0!==e)&&!F(e))return N(t)||(t=function(e,t){if(\"function\"==typeof n&&(t=n.call(this,e,t)),!F(t))return t}),o[1]=t,E.apply(M,o)}}),k.prototype[X]||e(19)(k.prototype,X,k.prototype.valueOf),h(k,\"Symbol\"),h(Math,\"Math\",!0),h(u.JSON,\"JSON\",!0)},function(e,t){},function(e,t,n){n(154);for(var o=n(8),i=n(19),r=n(43),s=n(15)(\"toStringTag\"),a=\"CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList\".split(\",\"),u=0;u<a.length;u++){var l=a[u],c=o[l],c=c&&c.prototype;c&&!c[s]&&i(c,s,l),r[l]=r.Array}},,,,function(e,t,n){e.exports=n(63)(\"native-function-to-string\",Function.toString)},function(e,t,n){var o=n(24),i=n(27),r=n(10)(\"match\");e.exports=function(e){var t;return o(e)&&(void 0!==(t=e[r])?!!t:\"RegExp\"==i(e))}},function(e,t,n){var o=n(124);e.exports=function(e,t){return new(o(e))(t)}},function(e,t,n){var o=n(24),i=n(125),r=n(10)(\"species\");e.exports=function(e){var t;return void 0===(t=i(e)&&(\"function\"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),o(t))&&null===(t=t[r])?void 0:t)?Array:t}},function(e,t,n){var o=n(27);e.exports=Array.isArray||function(e){return\"Array\"==o(e)}},function(e,t,n){n(127);var o=n(1).Object;e.exports=function(e,t,n){return o.defineProperty(e,t,n)}},function(e,t,n){var o=n(7);o(o.S+o.F*!n(12),\"Object\",{defineProperty:n(14).f})},function(e,t,n){n(129);var o=n(1).Object;e.exports=function(e,t){return o.create(e,t)}},function(e,t,n){var o=n(7);o(o.S,\"Object\",{create:n(35)})},function(e,t,n){var u=n(16),l=n(93),c=n(131);e.exports=function(a){return function(e,t,n){var o,i=u(e),r=l(i.length),s=c(n,r);if(a&&t!=t){for(;s<r;)if((o=i[s++])!=o)return!0}else for(;s<r;s++)if((a||s in i)&&i[s]===t)return a||s||0;return!a&&-1}}},function(e,t,n){var o=n(53),i=Math.max,r=Math.min;e.exports=function(e,t){return(e=o(e))<0?i(e+t,0):r(e,t)}},function(e,t,n){n=n(8).document;e.exports=n&&n.documentElement},function(n,e,t){var o=t(80);function i(e,t){return n.exports=i=o||function(e,t){return e.__proto__=t,e},n.exports.default=n.exports,n.exports.__esModule=!0,i(e,t)}n.exports=i,n.exports.default=n.exports,n.exports.__esModule=!0},function(e,t,n){n(135),e.exports=n(1).Object.setPrototypeOf},function(e,t,n){var o=n(7);o(o.S,\"Object\",{setPrototypeOf:n(136).set})},function(e,t,i){function r(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+\": can't set as prototype!\")}var n=i(9),o=i(13);e.exports={set:Object.setPrototypeOf||(\"__proto__\"in{}?function(e,n,o){try{(o=i(59)(Function.call,i(40).f(Object.prototype,\"__proto__\").set,2))(e,[]),n=!(e instanceof Array)}catch(e){n=!0}return function(e,t){return r(e,t),n?e.__proto__=t:o(e,t),e}}({},!1):void 0),check:r}},function(e,t,n){n(138),e.exports=n(1).Reflect.construct},function(e,t,n){var o=n(7),i=n(35),r=n(48),s=n(13),a=n(9),u=n(18),l=n(139),c=(n(8).Reflect||{}).construct,d=u(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),f=!u(function(){c(function(){})});o(o.S+o.F*(d||f),\"Reflect\",{construct:function(e,t){r(e),s(t);var n=arguments.length<3?e:r(arguments[2]);if(f&&!d)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var o=[null];return o.push.apply(o,t),new(l.apply(e,o))}o=n.prototype,n=i(a(o)?o:Object.prototype),o=Function.apply.call(e,n,t);return a(o)?o:n}})},function(e,t,n){\"use strict\";var o=n(48),i=n(9),c=n(140),d=[].slice,f={};e.exports=Function.bind||function(s){var a=o(this),u=d.call(arguments,1),l=function(){var e=u.concat(d.call(arguments));if(this instanceof l){var t=a,n=e.length,o=e;if(!(n in f)){for(var i=[],r=0;r<n;r++)i[r]=\"a[\"+r+\"]\";f[n]=Function(\"F,a\",\"return new F(\"+i.join(\",\")+\")\")}return f[n](t,o)}return c(a,e,s)};return i(a.prototype)&&(l.prototype=a.prototype),l}},function(e,t){e.exports=function(e,t,n){var o=void 0===n;switch(t.length){case 0:return o?e():e.call(n);case 1:return o?e(t[0]):e.call(n,t[0]);case 2:return o?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return o?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return o?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){e.exports=n(142)},function(e,t,n){n(143),e.exports=n(1).Object.getPrototypeOf},function(e,t,n){var o=n(29),i=n(61);n(65)(\"getPrototypeOf\",function(){return function(e){return i(o(e))}})},function(e,t,n){var o=n(81);e.exports=function(){if(\"undefined\"==typeof Reflect||!o)return!1;if(o.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o(Boolean,[],function(){})),!0}catch(e){return!1}},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){var o=n(66).default,i=n(60);e.exports=function(e,t){if(t&&(\"object\"===o(t)||\"function\"==typeof t))return t;if(void 0!==t)throw new TypeError(\"Derived constructors may only return object or undefined\");return i(e)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){n(115),n(116),n(149),n(150),e.exports=n(1).Symbol},function(e,t,n){var a=n(32),u=n(69),l=n(45);e.exports=function(e){var t=a(e),n=u.f;if(n)for(var o,i=n(e),r=l.f,s=0;i.length>s;)r.call(e,o=i[s++])&&t.push(o);return t}},function(e,t,n){var o=n(16),i=n(75).f,r={}.toString,s=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){if(!s||\"[object Window]\"!=r.call(e))return i(o(e));var t=e;try{return i(t)}catch(t){return s.slice()}}},function(e,t,n){n(58)(\"asyncIterator\")},function(e,t,n){n(58)(\"observable\")},function(e,t,n){n(109),n(117),e.exports=n(57).f(\"iterator\")},function(e,t,n){var r=n(53),s=n(42);e.exports=function(i){return function(e,t){var n,e=String(s(e)),t=r(t),o=e.length;return t<0||o<=t?i?\"\":void 0:(n=e.charCodeAt(t))<55296||56319<n||t+1===o||(o=e.charCodeAt(t+1))<56320||57343<o?i?e.charAt(t):n:i?e.slice(t,t+2):o-56320+(n-55296<<10)+65536}}},function(e,t,n){\"use strict\";var o=n(35),i=n(31),r=n(49),s={};n(19)(s,n(15)(\"iterator\"),function(){return this}),e.exports=function(e,t,n){e.prototype=o(s,{next:i(1,n)}),r(e,t+\" Iterator\")}},function(e,t,n){\"use strict\";var o=n(155),i=n(156),r=n(43),s=n(16);e.exports=n(82)(Array,\"Array\",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,\"keys\"==t?n:\"values\"==t?e[n]:[n,e[n]])},\"values\"),r.Arguments=r.Array,o(\"keys\"),o(\"values\"),o(\"entries\")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports=n(168)},,,function(e,t,n){e.exports=n(184)},function(e,t){e.exports=\"\\t\\n\\v\\f\\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\\u2028\\u2029\\ufeff\"},function(e,t,n){e.exports=n(191)},function(e,t,n){var r=n(46),s=n(38);e.exports=function(i){return function(e,t){var n,e=String(s(e)),t=r(t),o=e.length;return t<0||o<=t?i?\"\":void 0:(n=e.charCodeAt(t))<55296||56319<n||t+1===o||(o=e.charCodeAt(t+1))<56320||57343<o?i?e.charAt(t):n:i?e.slice(t,t+2):o-56320+(n-55296<<10)+65536}}},function(e,t,n){\"use strict\";var o=n(67);n(26)({target:\"RegExp\",proto:!0,forced:o!==/./.exec},{exec:o})},function(e,t,n){e.exports=n(166)},function(e,t,n){n(167),e.exports=n(1).Reflect.get},function(e,t,n){var r=n(40),s=n(61),a=n(11),o=n(7),u=n(9),l=n(13);o(o.S,\"Reflect\",{get:function e(t,n){var o,i=arguments.length<3?t:arguments[2];return l(t)===i?t[n]:(o=r.f(t,n))?a(o,\"value\")?o.value:void 0!==o.get?o.get.call(i):void 0:u(o=s(t))?e(o,n,i):void 0}})},function(e,t,n){n(169);var o=n(1).Object;e.exports=function(e,t){return o.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var o=n(16),i=n(40).f;n(65)(\"getOwnPropertyDescriptor\",function(){return function(e,t){return i(o(e),t)}})},function(e,t,n){var o=n(25);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,n){n(172),e.exports=n(1).Object.keys},function(e,t,n){var o=n(29),i=n(32);n(65)(\"keys\",function(){return function(e){return i(o(e))}})},function(e,t,n){var o=n(20),i=n(84),r=n(10)(\"species\");e.exports=function(e,t){var e=o(e).constructor;return void 0===e||null==(e=o(e)[r])?t:i(e)}},,,,,,,,,,function(e,t,n){\"use strict\";n(2)(t,\"__esModule\",{value:!0}),t.default=void 0;n=navigator.userAgent,n={webkit:-1!==n.indexOf(\"AppleWebKit\"),firefox:-1!==n.indexOf(\"Firefox\"),ie:/Trident|MSIE/.test(n),edge:-1!==n.indexOf(\"Edge\"),mac:-1!==n.indexOf(\"Macintosh\")};t.default=n},function(e,t,n){n(185),e.exports=n(1).parseInt},function(e,t,n){var o=n(7),n=n(186);o(o.G+o.F*(parseInt!=n),{parseInt:n})},function(e,t,n){var o=n(8).parseInt,i=n(187).trim,n=n(161),r=/^[-+]?0[xX]/;e.exports=8!==o(n+\"08\")||22!==o(n+\"0x16\")?function(e,t){e=i(String(e),3);return o(e,t>>>0||(r.test(e)?16:10))}:o},function(e,t,n){function o(e,t,n){var o={},i=s(function(){return!!a[e]()||\"\u200b\u0085\"!=\"\u200b\u0085\"[e]()}),t=o[e]=i?t(c):a[e];n&&(o[n]=t),r(r.P+r.F*i,\"String\",o)}var r=n(7),i=n(42),s=n(18),a=n(161),n=\"[\"+a+\"]\",u=RegExp(\"^\"+n+n+\"*\"),l=RegExp(n+n+\"*$\"),c=o.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,\"\")),e=2&t?e.replace(l,\"\"):e};e.exports=o},,function(e,t,n){\"use strict\";var o=n(26),i=n(73)(1);o(o.P+o.F*!n(110)([].map,!0),\"Array\",{map:function(e){return i(this,e,arguments[1])}})},,function(e,t,n){var n=n(1),o=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){\"use strict\";var u=n(0)(n(160));n(113),e.exports=function(){var i,n=Array.prototype.slice,a={actions:{},filters:{}};function o(e,t,n,o){var i,r,s;if(a[e][t])if(n)if(i=a[e][t],o)for(s=i.length;s--;)(r=i[s]).callback===n&&r.context===o&&i.splice(s,1);else for(s=i.length;s--;)i[s].callback===n&&i.splice(s,1);else a[e][t]=[]}function r(e,t,n,o,i){o={callback:n,priority:o,context:i},i=a[e][t];if(i){var r=!1;if(jQuery.each(i,function(){if(this.callback===n)return!(r=!0)}),r)return;i.push(o),i=function(e){for(var t,n,o,i=1,r=e.length;i<r;i++){for(t=e[i],n=i;(o=e[n-1])&&o.priority>t.priority;)e[n]=e[n-1],--n;e[n]=t}return e}(i)}else i=[o];a[e][t]=i}function s(e,t,n){var o,i,r=a[e][t];if(!r)return\"filters\"===e&&n[0];if(i=r.length,\"filters\"===e)for(o=0;o<i;o++)n[0]=r[o].callback.apply(r[o].context,n);else for(o=0;o<i;o++)r[o].callback.apply(r[o].context,n);return\"filters\"!==e||n[0]}return i={removeFilter:function(e,t){return\"string\"==typeof e&&o(\"filters\",e,t),i},applyFilters:function(){var e=n.call(arguments),t=e.shift();return\"string\"==typeof t?s(\"filters\",t,e):i},addFilter:function(e,t,n,o){return\"string\"==typeof e&&\"function\"==typeof t&&r(\"filters\",e,t,n=(0,u.default)(n||10,10),o),i},removeAction:function(e,t){return\"string\"==typeof e&&o(\"actions\",e,t),i},doAction:function(){var e=n.call(arguments),t=e.shift();return\"string\"==typeof t&&s(\"actions\",t,e),i},addAction:function(e,t,n,o){return\"string\"==typeof e&&\"function\"==typeof t&&r(\"actions\",e,t,n=(0,u.default)(n||10,10),o),i}}}},,function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),s=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(44))),a=r(n(162)),u=r(n(3)),i=r(n(4)),l=r(n(5)),r=r(n(6)),l=(n=goomentoModules.Module,(0,l.default)(c,n),o=(0,r.default)(c),(0,i.default)(c,[{key:\"get\",value:function(e,t){t=t||{};try{i=t.session?sessionStorage:localStorage}catch(t){return e?void 0:{}}var n=i.getItem(\"goomento\"),o=((n=n?JSON.parse(n):{}).__expiration||(n.__expiration={}),n.__expiration),i=[],r=(e?o[e]&&(i=[e]):i=(0,s.default)(o),!1);return i.forEach(function(e){new Date(o[e])<new Date&&(delete n[e],delete o[e],r=!0)}),r&&this.save(n,t.session),e?n[e]:n}},{key:\"set\",value:function(e,t,n){var o=this.get(null,n=n||{});o[e]=t,n.lifetimeInSeconds&&((t=new Date).setTime(t.getTime()+1e3*n.lifetimeInSeconds),o.__expiration[e]=t.getTime()),this.save(o,n.session)}},{key:\"save\",value:function(e,t){var n;try{n=t?sessionStorage:localStorage}catch(e){return}n.setItem(\"goomento\",(0,a.default)(e))}}]),c);function c(){return(0,u.default)(this,c),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),s=(i(t,\"__esModule\",{value:!0}),t.default=void 0,n(28),r(n(3))),i=r(n(4)),a=r(n(50)),u=r(n(25)),l=r(n(5)),r=r(n(6)),l=(n=goomentoModules.ViewModule,(0,l.default)(c,n),o=(0,r.default)(c),(0,i.default)(c,[{key:\"getDefaultSettings\",value:function(){return{selectors:{elements:\".gmt-element\",nestedDocumentElements:\".goomento .gmt-element\"},classes:{editMode:\"gmt-edit-mode\"}}}},{key:\"getDefaultElements\",value:function(){var e=this.getSettings(\"selectors\");return{$elements:this.$element.find(e.elements).not(this.$element.find(e.nestedDocumentElements))}}},{key:\"getDocumentSettings\",value:function(e){var t,n;return this.isEdit?(t={},n=goomento.settings.page.model,jQuery.each(n.getActiveControls(),function(e){t[e]=n.attributes[e]})):t=this.$element.data(\"gmt-settings\")||{},this.getItems(t,e)}},{key:\"runElementsHandlers\",value:function(){this.elements.$elements.each(function(e,t){return goomentoFrontend.elementsHandler.runReadyTrigger(t)})}},{key:\"onInit\",value:function(){this.$element=this.getSettings(\"$element\"),(0,a.default)((0,u.default)(c.prototype),\"onInit\",this).call(this),this.isEdit=this.$element.hasClass(this.getSettings(\"classes.editMode\")),this.isEdit?goomento.settings.page.model.on(\"change\",this.onSettingsChange.bind(this)):this.runElementsHandlers()}},{key:\"onSettingsChange\",value:function(){}}]),c);function c(){return(0,s.default)(this,c),o.apply(this,arguments)}t.default=l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),s=(i(t,\"__esModule\",{value:!0}),t.default=void 0,n(98),r(n(3))),i=r(n(4)),a=r(n(5)),r=r(n(6)),a=(n=goomentoModules.ViewModule,(0,a.default)(u,n),o=(0,r.default)(u),(0,i.default)(u,[{key:\"getDefaultSettings\",value:function(){return{isInserted:!1,selectors:{firstScript:\"script:first\"}}}},{key:\"getDefaultElements\",value:function(){return{$firstScript:jQuery(this.getSettings(\"selectors.firstScript\"))}}},{key:\"insertAPI\",value:function(){this.elements.$firstScript.before(jQuery(\"<script>\",{src:this.getApiURL()})),this.setSettings(\"isInserted\",!0)}},{key:\"getVideoIDFromURL\",value:function(e){e=e.match(this.getURLRegex());return e&&e[1]}},{key:\"onApiReady\",value:function(e){var t=this;this.getSettings(\"isInserted\")||this.insertAPI(),this.isApiLoaded()?e(this.getApiObject()):setTimeout(function(){t.onApiReady(e)},350)}}]),u);function u(){return(0,s.default)(this,u),o.apply(this,arguments)}t.default=a},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),s=(i(t,\"__esModule\",{value:!0}),t.default=void 0,n(28),r(n(3))),i=r(n(4)),a=r(n(50)),u=r(n(25)),l=r(n(5)),r=r(n(6)),l=(n=goomentoModules.frontend.handlers.Base,(0,l.default)(c,n),o=(0,r.default)(c),(0,i.default)(c,[{key:\"getDefaultSettings\",value:function(){return{classes:{swiperContainer:\"gmt-background-slideshow swiper-container\",swiperWrapper:\"swiper-wrapper\",swiperSlide:\"gmt-background-slideshow__slide swiper-slide\",swiperSlideInner:\"gmt-background-slideshow__slide__image\",kenBurns:\"gmt-ken-burns\",kenBurnsActive:\"gmt-ken-burns--active\",kenBurnsIn:\"gmt-ken-burns--in\",kenBurnsOut:\"gmt-ken-burns--out\"}}}},{key:\"getDefaultElements\",value:function(){var e=this.getSettings(\"classes\"),t={$slider:this.$element.find(\".\"+e.swiperContainer)};return t.$mainSwiperSlides=t.$slider.find(\".\"+e.swiperSlide),t}},{key:\"getSwiperOptions\",value:function(){var e=this,t=this.getElementSettings(),n={grabCursor:!1,slidesPerView:1,slidesPerGroup:1,loop:\"yes\"===t.background_slideshow_loop,speed:t.background_slideshow_transition_duration,autoplay:{delay:t.background_slideshow_slide_duration,stopOnLastSlide:!t.background_slideshow_loop},on:{slideChange:function(){e.handleKenBurns()}}};switch(\"yes\"===t.background_slideshow_loop&&(n.loopedSlides=this.getSlidesCount()),t.background_slideshow_slide_transition){case\"fade\":n.effect=\"fade\",n.fadeEffect={crossFade:!0};break;case\"slide_down\":n.autoplay.reverseDirection=!0;case\"slide_up\":n.direction=\"vertical\"}return n}},{key:\"getInitialSlide\",value:function(){var e=this.getEditSettings();return e.activeItemIndex?e.activeItemIndex-1:0}},{key:\"handleKenBurns\",value:function(){var e=this.getSettings();this.$activeImageBg&&this.$activeImageBg.removeClass(e.classes.kenBurnsActive),this.activeItemIndex=this.swiper?this.swiper.activeIndex:this.getInitialSlide(),this.swiper?this.$activeImageBg=jQuery(this.swiper.slides[this.activeItemIndex]).children(\".\"+e.classes.swiperSlideInner):this.$activeImageBg=jQuery(this.elements.$mainSwiperSlides[0]).children(\".\"+e.classes.swiperSlideInner),this.$activeImageBg.addClass(e.classes.kenBurnsActive)}},{key:\"getSlidesCount\",value:function(){return this.elements.$slides.length}},{key:\"buildSwiperElements\",value:function(){var n=this,o=this.getSettings(\"classes\"),e=this.getElementSettings(),t=\"slide_left\"===e.background_slideshow_slide_transition?\"ltr\":\"rtl\",t=jQuery(\"<div>\",{class:o.swiperContainer,dir:t}),i=jQuery(\"<div>\",{class:o.swiperWrapper}),r=e.background_slideshow_ken_burns,s=o.swiperSlideInner;r&&(s+=\" \"+o.kenBurns,r=\"in\"===e.background_slideshow_ken_burns_zoom_direction?\"kenBurnsIn\":\"kenBurnsOut\",s+=\" \"+o[r]),this.elements.$slides=jQuery(),e.background_slideshow_gallery.forEach(function(e){var t=jQuery(\"<div>\",{class:o.swiperSlide}),e=jQuery(\"<div>\",{class:s,style:'background-image: url(\"'+e.url+'\");'});t.append(e),i.append(t),n.elements.$slides=n.elements.$slides.add(t)}),t.append(i),this.$element.prepend(t),this.elements.$backgroundSlideShowContainer=t}},{key:\"initSlider\",value:function(){this.getSlidesCount()<=1||(this.swiper=new Swiper(this.elements.$backgroundSlideShowContainer,this.getSwiperOptions()),this.handleKenBurns())}},{key:\"activate\",value:function(){this.buildSwiperElements(),this.initSlider()}},{key:\"deactivate\",value:function(){this.swiper&&(this.swiper.destroy(),this.elements.$backgroundSlideShowContainer.remove())}},{key:\"run\",value:function(){\"slideshow\"===this.getElementSettings(\"background_background\")?this.activate():this.deactivate()}},{key:\"onInit\",value:function(){var e;(0,a.default)((0,u.default)(c.prototype),\"onInit\",this).call(this),this.getElementSettings(\"background_slideshow_gallery\")&&(e=this.run.bind(this),goomentoFrontend.utils.swiper.ensureLibrary(e))}},{key:\"onDestroy\",value:function(){(0,a.default)((0,u.default)(c.prototype),\"onDestroy\",this).call(this),this.deactivate()}},{key:\"onElementChange\",value:function(e){\"background_background\"===e&&this.run()}}]),c);function c(){return(0,s.default)(this,c),o.apply(this,arguments)}t.default=l},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){\"use strict\";var i,o=n(0),r=(n(62),o(n(3))),s=o(n(4)),a=o(n(5)),u=o(n(6)),l=o(n(474)),c=o(n(235)),d=o(n(183)),f=o(n(475)),p=o(n(476)),g=n(233),h=n(477),v=n(485),m=n(486),y=n(487),n=(o=goomentoModules.ViewModule,(0,a.default)(b,o),i=(0,u.default)(b),(0,s.default)(b,[{key:\"Module\",get:function(){return goomentoModules.frontend.handlers.Base}},{key:\"getDefaultSettings\",value:function(){return{selectors:{gmt:\".gmt\"},classes:{ie:\"gmt-msie\"}}}},{key:\"getDefaultElements\",value:function(){var e={window:window,$window:jQuery(window),$document:jQuery(document),$head:jQuery(document.head),$body:jQuery(document.body),$deviceMode:jQuery(\"<span>\",{id:\"gmt-device-mode\",class:\"gmt-screen-only\"})};return e.$body.append(e.$deviceMode),e}},{key:\"bindEvents\",value:function(){var e=this;this.elements.$window.on(\"resize\",function(){return e.setDeviceModeData()})}},{key:\"getElements\",value:function(e){return this.getItems(this.elements,e)}},{key:\"getPageSettings\",value:function(e){var t=this.isEditMode()?goomento.settings.page.model.attributes:this.config.settings.page;return this.getItems(t,e)}},{key:\"getGeneralSettings\",value:function(e){var t=this.isEditMode()?goomento.settings.general.model.attributes:this.config.settings.general;return this.getItems(t,e)}},{key:\"getCurrentDeviceMode\",value:function(){return getComputedStyle(this.elements.$deviceMode[0],\":after\").content.replace(/\"/g,\"\")}},{key:\"getDeviceSetting\",value:function(e,t,n){for(var o=[\"desktop\",\"tablet\",\"mobile\"],i=o.indexOf(e);0<i;){var r=t[n+\"_\"+o[i]];if(r)return r;i--}return t[n]}},{key:\"getCurrentDeviceSetting\",value:function(e,t){return this.getDeviceSetting(goomentoFrontend.getCurrentDeviceMode(),e,t)}},{key:\"isEditMode\",value:function(){return this.config.environmentMode.edit}},{key:\"initDialogsManager\",value:function(){var e;this.getDialogsManager=function(){return e=e||new DialogsManager.Instance}}},{key:\"initOnReadyComponents\",value:function(){this.utils={youtube:new f.default,vimeo:new p.default,anchors:new v,lightbox:new m,swiper:y},this.modules={StretchElement:goomentoModules.frontend.tools.StretchElement,Masonry:goomentoModules.utils.Masonry},this.elementsHandler=new h(jQuery),this.documentsManager=new l.default,this.trigger(\"components:init\")}},{key:\"addIeCompatibility\",value:function(){var e=\"string\"==typeof document.createElement(\"div\").style.grid;!d.default.ie&&e||(this.elements.$body.addClass(this.getSettings(\"classes.ie\")),e='<link rel=\"stylesheet\" id=\"gmt-frontend-css-msie\" href=\"'+this.config.urls.assets+\"css/frontend-msie.min.css?\"+this.config.version+'\" type=\"text/css\" />',this.elements.$body.append(e))}},{key:\"setDeviceModeData\",value:function(){this.elements.$body.attr(\"data-gmt-device-mode\",this.getCurrentDeviceMode())}},{key:\"addListenerOnce\",value:function(e,t,n,o){o=o||this.elements.$window,this.isEditMode()?(this.removeListeners(e,t,o),o instanceof jQuery?o.on(t+\".\"+e,n):o.on(t,n,e)):o.on(t,n)}},{key:\"removeListeners\",value:function(e,t,n,o){(o=o||this.elements.$window)instanceof jQuery?o.off(t+\".\"+e,n):o.off(t,n,e)}},{key:\"debounce\",value:function(o,i){var r;return function(){var e=this,t=arguments,n=!r;clearTimeout(r),r=setTimeout(function(){r=null,o.apply(e,t)},i),n&&o.apply(e,t)}}},{key:\"waypoint\",value:function(e,t,n){return n=jQuery.extend({offset:\"100%\",triggerOnce:!0},n),e.waypoint(function(){var e=this.element||this,e=t.apply(e,arguments);return n.triggerOnce&&this.destroy&&this.destroy(),e},n)}},{key:\"muteMigrationTraces\",value:function(){jQuery.migrateMute=!0,jQuery.migrateTrace=!1}},{key:\"triggerContentUpdated\",value:function(){jQuery(\"body\").trigger(\"contentUpdated\")}},{key:\"init\",value:function(){this.storage=new c.default,this.addIeCompatibility(),this.setDeviceModeData(),this.initDialogsManager(),this.isEditMode()&&this.muteMigrationTraces(),this.elements.$window.trigger(\"pagebuilder/frontend/init\"),this.initOnReadyComponents()}}]),b);function b(){var e;(0,r.default)(this,b);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=i.call.apply(i,[this].concat(n))).config=window.goomentoFrontendConfig||{},e.hooks=new g,e}e.exports=n},function(e,t,n){\"use strict\";var i,o=n(2),r=n(0),s=(o(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),o=r(n(4)),a=r(n(5)),u=r(n(6)),l=r(n(236)),n=(r=goomentoModules.ViewModule,(0,a.default)(c,r),i=(0,u.default)(c),(0,o.default)(c,[{key:\"getDefaultSettings\",value:function(){return{selectors:{document:\".goomento\"}}}},{key:\"getDefaultElements\",value:function(){var e=this.getSettings(\"selectors\");return{$documents:jQuery(e.document)}}},{key:\"initDocumentClasses\",value:function(){this.documentClasses={base:l.default},goomentoFrontend.hooks.doAction(\"pagebuilder/frontend/documents-manager/init-classes\",this)}},{key:\"addDocumentClass\",value:function(e,t){this.documentClasses[e]=t}},{key:\"attachDocumentsClasses\",value:function(){var n=this;this.elements.$documents.each(function(e,t){return n.attachDocumentClass(jQuery(t))})}},{key:\"attachDocumentClass\",value:function(e){var t=e.data(),n=t.goomentoId,t=t.goomentoType,t=this.documentClasses[t]||this.documentClasses.base;this.documents[n]=new t({$element:e,id:n})}}]),c);function c(){var e;(0,s.default)(this,c);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=i.call.apply(i,[this].concat(n))).documents={},e.initDocumentClasses(),e.attachDocumentsClasses(),e}t.default=n},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),s=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),a=r(n(5)),u=r(n(6)),n=(r=r(n(273)).default,(0,a.default)(l,r),o=(0,u.default)(l),(0,i.default)(l,[{key:\"getApiURL\",value:function(){return\"https://www.youtube.com/iframe_api\"}},{key:\"getURLRegex\",value:function(){return/^(?:https?:\\/\\/)?(?:www\\.)?(?:m\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:(?:watch)?\\?(?:.*&)?vi?=|(?:embed|v|vi|user)\\/))([^?&\"'>]+)/}},{key:\"isApiLoaded\",value:function(){return window.YT&&YT.loaded}},{key:\"getApiObject\",value:function(){return YT}}]),l);function l(){return(0,s.default)(this,l),o.apply(this,arguments)}t.default=n},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),s=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),a=r(n(5)),u=r(n(6)),n=(r=r(n(273)).default,(0,a.default)(l,r),o=(0,u.default)(l),(0,i.default)(l,[{key:\"getApiURL\",value:function(){return\"https://cdnjs.cloudflare.com/ajax/libs/vimeo-player/2.18.0/player.min.js\"}},{key:\"getURLRegex\",value:function(){return/^(?:https?:\\/\\/)?(?:www|player\\.)?(?:vimeo\\.com\\/)?(?:video\\/)?(\\d+)([^?&#\"'>]?)/}},{key:\"insertAPI\",value:function(){window.require([this.getApiURL()],function(e){window.VimeoPlayer=window.VimeoPlayer||e}),this.setSettings(\"isInserted\",!0)}},{key:\"isApiLoaded\",value:function(){return window.VimeoPlayer}},{key:\"getApiObject\",value:function(){return window.VimeoPlayer}}]),l);function l(){return(0,s.default)(this,l),o.apply(this,arguments)}t.default=n},function(e,t,n){\"use strict\";var o=n(0),i=(n(41),o(n(478))),s=o(n(483)),a=o(n(484));e.exports=function(n){var t={section:i.default,column:s.default},r={};this.initHandlers=function(){goomentoFrontend.hooks.addAction(\"frontend/element_ready/global\",a.default),n.each(t,function(e,t){goomentoFrontend.hooks.addAction(\"frontend/element_ready/\"+e,t)})},this.addHandler=function(e,t){var n,o=t.$element.data(\"model-cid\"),i=(o&&(n=e.constructor.name,r[o]||(r[o]={}),i=r[o][n])&&i.hasOwnProperty(\"onDestroy\")&&i.onDestroy(),new e(t));o&&(r[o][n]=i)},this.getHandlers=function(e){return e?t[e]:t},this.runReadyTrigger=function(e){var e=jQuery(e),t=e.attr(\"data-element_type\");!t||e.attr(\"gmt-initialized\")&&!goomentoFrontend.isEditMode()||(e.attr(\"gmt-initialized\",!0),goomentoFrontend.hooks.doAction(\"frontend/element_ready/global\",e,n),goomentoFrontend.hooks.doAction(\"frontend/element_ready/\"+t,e,n),\"widget\"===t&&goomentoFrontend.hooks.doAction(\"frontend/element_ready/\"+e.attr(\"data-widget_type\"),e,n))},this.initHandlers()}},function(e,t,n){\"use strict\";var o=n(2),i=n(0),r=(o(t,\"__esModule\",{value:!0}),t.default=void 0,i(n(274))),s=i(n(479)),a=i(n(480)),u=i(n(481)),l=i(n(482));t.default=function(e){(goomentoFrontend.isEditMode()||e.hasClass(\"gmt-section-stretched\"))&&goomentoFrontend.elementsHandler.addHandler(u.default,{$element:e}),goomentoFrontend.isEditMode()&&(goomentoFrontend.elementsHandler.addHandler(l.default,{$element:e}),goomentoFrontend.elementsHandler.addHandler(a.default,{$element:e})),goomentoFrontend.elementsHandler.addHandler(s.default,{$element:e}),goomentoFrontend.elementsHandler.addHandler(r.default,{$element:e})}},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),s=(i(t,\"__esModule\",{value:!0}),t.default=void 0,n(28),n(76),n(98),r(n(3))),i=r(n(4)),a=r(n(50)),u=r(n(25)),l=r(n(5)),r=r(n(6)),l=(n=goomentoModules.frontend.handlers.Base,(0,l.default)(c,n),o=(0,r.default)(c),(0,i.default)(c,[{key:\"getDefaultSettings\",value:function(){return{selectors:{backgroundVideoContainer:\".gmt-background-video-container\",backgroundVideoEmbed:\".gmt-background-video-embed\",backgroundVideoHosted:\".gmt-background-video-hosted\"}}}},{key:\"getDefaultElements\",value:function(){var e=this.getSettings(\"selectors\"),t={$backgroundVideoContainer:this.$element.find(e.backgroundVideoContainer)};return t.$backgroundVideoEmbed=t.$backgroundVideoContainer.children(e.backgroundVideoEmbed),t.$backgroundVideoHosted=t.$backgroundVideoContainer.children(e.backgroundVideoHosted),t}},{key:\"calcVideosSize\",value:function(e){var t=\"16:9\",e=(\"vimeo\"===this.videoType&&(t=e[0].width+\":\"+e[0].height),this.elements.$backgroundVideoContainer.outerWidth()),n=this.elements.$backgroundVideoContainer.outerHeight(),t=t.split(\":\"),t=t[0]/t[1],o=t<e/n;return{width:o?e:n*t,height:o?e/t:n}}},{key:\"changeVideoSize\",value:function(){var e,t;(\"hosted\"===this.videoType||this.player)&&(\"youtube\"===this.videoType?e=jQuery(this.player.getIframe()):\"vimeo\"===this.videoType?e=jQuery(this.player.element):\"hosted\"===this.videoType&&(e=this.elements.$backgroundVideoHosted),e)&&(t=this.calcVideosSize(e),e.width(t.width).height(t.height))}},{key:\"startVideoLoop\",value:function(e){var t,n,o,i=this;this.player.getIframe().contentWindow&&(n=(t=this.getElementSettings()).background_video_start||0,o=t.background_video_end,!t.background_play_once||e?(this.player.seekTo(n),o&&setTimeout(function(){i.startVideoLoop(!1)},1e3*(o-n+1))):this.player.stopVideo())}},{key:\"prepareVimeoVideo\",value:function(e,t){var n=this,o=this.getElementSettings(),i=o.background_video_start||0,t={id:t,width:this.elements.$backgroundVideoContainer.outerWidth().width,autoplay:!0,loop:!o.background_play_once,transparent:!1,playsinline:!1,background:!0,muted:!0};this.player=new VimeoPlayer(this.elements.$backgroundVideoContainer,t),this.handleVimeoStartEndTimes(o,i),this.player.ready().then(function(){jQuery(n.player.element).addClass(\"gmt-background-video-embed\"),n.changeVideoSize()})}},{key:\"handleVimeoStartEndTimes\",value:function(n,o){var i=this;o&&this.player.on(\"play\",function(e){0===e.seconds&&i.player.setCurrentTime(o)}),this.player.on(\"timeupdate\",function(t){n.background_video_end&&n.background_video_end<t.seconds&&(n.background_play_once?i.player.pause():i.player.setCurrentTime(o)),i.player.getDuration().then(function(e){o&&!n.background_video_end&&t.seconds>e-.5&&i.player.setCurrentTime(o)})})}},{key:\"prepareYTVideo\",value:function(t,e){var n=this,o=this.elements.$backgroundVideoContainer,i=this.getElementSettings(),r=t.PlayerState.PLAYING;window.chrome&&(r=t.PlayerState.UNSTARTED),o.addClass(\"gmt-loading gmt-invisible\"),this.player=new t.Player(this.elements.$backgroundVideoEmbed[0],{videoId:e,events:{onReady:function(){n.player.mute(),n.changeVideoSize(),n.startVideoLoop(!0),n.player.playVideo()},onStateChange:function(e){switch(e.data){case r:o.removeClass(\"gmt-invisible gmt-loading\");break;case t.PlayerState.ENDED:n.player.seekTo(i.background_video_start||0),i.background_play_once&&n.player.destroy()}}},playerVars:{controls:0,rel:0}})}},{key:\"activate\",value:function(){var t,e,n,o=this,i=this.getElementSettings(\"background_video_link\"),r=this.getElementSettings(\"background_play_once\");-1!==i.indexOf(\"vimeo.com\")?(this.videoType=\"vimeo\",this.apiProvider=goomentoFrontend.utils.vimeo):i.match(/^(?:https?:\\/\\/)?(?:www\\.)?(?:m\\.)?(?:youtu\\.be\\/|youtube\\.com)/)&&(this.videoType=\"youtube\",this.apiProvider=goomentoFrontend.utils.youtube),this.apiProvider?(t=this.apiProvider.getVideoIDFromURL(i),this.apiProvider.onApiReady(function(e){\"youtube\"===o.videoType&&o.prepareYTVideo(e,t),\"vimeo\"===o.videoType&&o.prepareVimeoVideo(e,t)})):(this.videoType=\"hosted\",e=this.getElementSettings(\"background_video_start\"),n=this.getElementSettings(\"background_video_end\"),(e||n)&&(i+=\"#t=\"+(e||0)+(n?\",\"+n:\"\")),this.elements.$backgroundVideoHosted.attr(\"src\",i).one(\"canplay\",this.changeVideoSize.bind(this)),r&&this.elements.$backgroundVideoHosted.on(\"ended\",function(){o.elements.$backgroundVideoHosted.hide()})),goomentoFrontend.elements.$window.on(\"resize\",this.changeVideoSize)}},{key:\"deactivate\",value:function(){\"youtube\"===this.videoType&&this.player.getIframe()||\"vimeo\"===this.videoType?this.player.destroy():this.elements.$backgroundVideoHosted.removeAttr(\"src\").off(\"ended\"),goomentoFrontend.elements.$window.off(\"resize\",this.changeVideoSize)}},{key:\"run\",value:function(){var e=this.getElementSettings();!e.background_play_on_mobile&&\"mobile\"===goomentoFrontend.getCurrentDeviceMode()||(\"video\"===e.background_background&&e.background_video_link?this.activate():this.deactivate())}},{key:\"onInit\",value:function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];(e=(0,a.default)((0,u.default)(c.prototype),\"onInit\",this)).call.apply(e,[this].concat(n)),this.changeVideoSize=this.changeVideoSize.bind(this),this.run()}},{key:\"onElementChange\",value:function(e){\"background_background\"===e&&this.run()}}]),c);function c(){return(0,s.default)(this,c),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),s=(i(t,\"__esModule\",{value:!0}),t.default=void 0,n(28),r(n(3))),i=r(n(4)),a=r(n(5)),r=r(n(6)),a=(n=goomentoModules.frontend.handlers.Base,(0,a.default)(u,n),o=(0,r.default)(u),(0,i.default)(u,[{key:\"isFirstSection\",value:function(){return this.$element.is(\".gmt-edit-mode .gmt-top-section:first\")}},{key:\"isOverflowHidden\",value:function(){return\"hidden\"===this.$element.css(\"overflow\")}},{key:\"getOffset\",value:function(){var e;return\"body\"===goomento.config.document.container?this.$element.offset().top:(e=jQuery(goomento.config.document.container),this.$element.offset().top-e.offset().top)}},{key:\"setHandlesPosition\",value:function(){var e,t=this.isOverflowHidden();(t||this.isFirstSection())&&(t=t?0:this.getOffset(),e=this.$element.find(\"> .gmt-element-overlay > .gmt-editor-section-settings\"),t<25?(this.$element.addClass(\"gmt-section--handles-inside\"),t<-5?e.css(\"top\",-t):e.css(\"top\",\"\")):this.$element.removeClass(\"gmt-section--handles-inside\"))}},{key:\"onInit\",value:function(){this.setHandlesPosition(),this.$element.on(\"mouseenter\",this.setHandlesPosition.bind(this))}}]),u);function u(){return(0,s.default)(this,u),o.apply(this,arguments)}t.default=a},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),s=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),a=r(n(50)),u=r(n(25)),l=r(n(5)),r=r(n(6)),l=(n=goomentoModules.frontend.handlers.Base,(0,l.default)(c,n),o=(0,r.default)(c),(0,i.default)(c,[{key:\"bindEvents\",value:function(){var e=this.getUniqueHandlerID();goomentoFrontend.addListenerOnce(e,\"resize\",this.stretch),goomentoFrontend.addListenerOnce(e,\"sticky:stick\",this.stretch,this.$element),goomentoFrontend.addListenerOnce(e,\"sticky:unstick\",this.stretch,this.$element)}},{key:\"unbindEvents\",value:function(){goomentoFrontend.removeListeners(this.getUniqueHandlerID(),\"resize\",this.stretch)}},{key:\"initStretch\",value:function(){this.stretch=this.stretch.bind(this),this.stretchElement=new goomentoModules.frontend.tools.StretchElement({element:this.$element,selectors:{container:this.getStretchContainer()}})}},{key:\"getStretchContainer\",value:function(){return goomentoFrontend.getGeneralSettings(\"stretched_section_container\")||window}},{key:\"stretch\",value:function(){this.getElementSettings(\"stretch_section\")&&this.stretchElement.stretch()}},{key:\"onInit\",value:function(){var e;this.initStretch();for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];(e=(0,a.default)((0,u.default)(c.prototype),\"onInit\",this)).call.apply(e,[this].concat(n)),this.stretch()}},{key:\"onElementChange\",value:function(e){\"stretch_section\"===e&&(this.getElementSettings(\"stretch_section\")?this.stretch():this.stretchElement.reset())}},{key:\"onGeneralSettingsChange\",value:function(e){\"goomento_stretched_section_container\"in e&&(this.stretchElement.setSettings(\"selectors.container\",this.getStretchContainer()),this.stretch())}}]),c);function c(){return(0,s.default)(this,c),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),s=(i(t,\"__esModule\",{value:!0}),t.default=void 0,n(28),n(62),n(98),r(n(3))),i=r(n(4)),a=r(n(50)),u=r(n(25)),l=r(n(5)),r=r(n(6)),l=(n=goomentoModules.frontend.handlers.Base,(0,l.default)(c,n),o=(0,r.default)(c),(0,i.default)(c,[{key:\"getDefaultSettings\",value:function(){return{selectors:{container:\"> .gmt-shape-%s\"},svgURL:goomentoFrontend.config.urls.assets+\"shapes/\"}}},{key:\"getDefaultElements\",value:function(){var e={},t=this.getSettings(\"selectors\");return e.$topContainer=this.$element.find(t.container.replace(\"%s\",\"top\")),e.$bottomContainer=this.$element.find(t.container.replace(\"%s\",\"bottom\")),e}},{key:\"getSvgURL\",value:function(e,t){t=this.getSettings(\"svgURL\")+t+\".svg\";return t=goomento.config.additional_shapes&&e in goomento.config.additional_shapes?goomento.config.additional_shapes[e]:t}},{key:\"buildSVG\",value:function(e){var t,n=\"shape_divider_\"+e,o=this.getElementSettings(n),i=this.elements[\"$\"+e+\"Container\"];i.attr(\"data-shape\",o),o?(t=o,this.getElementSettings(n+\"_negative\")&&(t+=\"-negative\"),n=this.getSvgURL(o,t),jQuery.get(n,function(e){i.empty().append(e.childNodes[0])}),this.setNegative(e)):i.empty()}},{key:\"setNegative\",value:function(e){this.elements[\"$\"+e+\"Container\"].attr(\"data-negative\",!!this.getElementSettings(\"shape_divider_\"+e+\"_negative\"))}},{key:\"onInit\",value:function(){for(var e,t=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];(e=(0,a.default)((0,u.default)(c.prototype),\"onInit\",this)).call.apply(e,[this].concat(o)),[\"top\",\"bottom\"].forEach(function(e){t.getElementSettings(\"shape_divider_\"+e)&&t.buildSVG(e)})}},{key:\"onElementChange\",value:function(e){var t=e.match(/^shape_divider_(top|bottom)$/);t?this.buildSVG(t[1]):(t=e.match(/^shape_divider_(top|bottom)_negative$/))&&(this.buildSVG(t[1]),this.setNegative(t[1]))}}]),c);function c(){return(0,s.default)(this,c),o.apply(this,arguments)}t.default=l},function(e,t,n){\"use strict\";var o=n(2),i=n(0),r=(o(t,\"__esModule\",{value:!0}),t.default=void 0,i(n(274)));t.default=function(e){goomentoFrontend.elementsHandler.addHandler(r.default,{$element:e})}},function(e,t,n){\"use strict\";var o,i=n(2),r=n(0),s=(i(t,\"__esModule\",{value:!0}),t.default=void 0,r(n(3))),i=r(n(4)),a=r(n(50)),u=r(n(25)),l=r(n(5)),r=r(n(6)),c=(n=goomentoModules.frontend.handlers.Base,(0,l.default)(d,n),o=(0,r.default)(d),(0,i.default)(d,[{key:\"getWidgetType\",value:function(){return\"global\"}},{key:\"animate\",value:function(){var e,t=this.$element,n=this.getAnimation();\"none\"!==n?(e=(e=this.getElementSettings())._animation_delay||e.animation_delay||0,t.removeClass(n),this.currentAnimation&&t.removeClass(this.currentAnimation),this.currentAnimation=n,setTimeout(function(){t.removeClass(\"gmt-invisible\").addClass(\"animated \"+n)},e)):t.removeClass(\"gmt-invisible\")}},{key:\"getAnimation\",value:function(){return this.getCurrentDeviceSetting(\"animation\")||this.getCurrentDeviceSetting(\"_animation\")}},{key:\"onInit\",value:function(){for(var e,t=this,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];(e=(0,a.default)((0,u.default)(d.prototype),\"onInit\",this)).call.apply(e,[this].concat(o)),this.getAnimation()&&goomentoFrontend.waypoint(this.$element,function(){return t.animate()})}},{key:\"onElementChange\",value:function(e){/^_?animation/.test(e)&&this.animate()}}]),d);function d(){return(0,s.default)(this,d),o.apply(this,arguments)}t.default=function(e){goomentoFrontend.elementsHandler.addHandler(c,{$element:e})}},function(e,t,n){\"use strict\";n(33),n(189),e.exports=goomentoModules.ViewModule.extend({getDefaultSettings:function(){return{scrollDuration:500,selectors:{links:'a[href*=\"#\"]',targets:\".gmt-element, .gmt-menu-anchor\",scrollable:\"html, body\"}}},getDefaultElements:function(){return{$scrollable:jQuery(this.getSettings(\"selectors\").scrollable)}},bindEvents:function(){goomentoFrontend.elements.$document.on(\"click\",this.getSettings(\"selectors.links\"),this.handleAnchorLinks)},handleAnchorLinks:function(e){var t,n=e.currentTarget,o=location.pathname===n.pathname;if(location.hostname===n.hostname&&o&&!(n.hash.length<2)){try{t=jQuery(n.hash).filter(this.getSettings(\"selectors.targets\"))}catch(e){return}t.length&&(o=t.offset().top,0<(n=jQuery(\".gmt-section.gmt-sticky--active\")).length&&(o-=Math.max.apply(null,n.map(function(){return jQuery(this).outerHeight()}).get())),e.preventDefault(),o=goomentoFrontend.hooks.applyFilters(\"frontend/handlers/menu_anchor/scroll_top_distance\",o),this.elements.$scrollable.animate({scrollTop:o},this.getSettings(\"scrollDuration\"),\"linear\"))}},onInit:function(){goomentoModules.ViewModule.prototype.onInit.apply(this,arguments),this.bindEvents()}})},function(t,e,n){\"use strict\";n(62),n(33),n(98),n(28),t.exports=goomentoModules.ViewModule.extend({oldAspectRatio:null,oldAnimation:null,swiper:null,player:null,getDefaultSettings:function(){return{classes:{aspectRatio:\"gmt-aspect-ratio-%s\",item:\"gmt-lightbox-item\",image:\"gmt-lightbox-image\",videoContainer:\"gmt-video-container\",videoWrapper:\"gmt-fit-aspect-ratio\",playButton:\"gmt-custom-embed-play\",playButtonIcon:\"fa\",playing:\"gmt-playing\",hidden:\"gmt-hidden\",invisible:\"gmt-invisible\",preventClose:\"gmt-lightbox-prevent-close\",slideshow:{container:\"swiper-container\",slidesWrapper:\"swiper-wrapper\",prevButton:\"gmt-swiper-button gmt-swiper-button-prev\",nextButton:\"gmt-swiper-button gmt-swiper-button-next\",prevButtonIcon:\"fas fa-chevron-left\",nextButtonIcon:\"fas fa-chevron-right\",slide:\"swiper-slide\"}},selectors:{links:\"a, [data-gmt-lightbox]\",slideshow:{activeSlide:\".swiper-slide-active\",prevSlide:\".swiper-slide-prev\",nextSlide:\".swiper-slide-next\"}},modalOptions:{id:\"gmt-lightbox\",entranceAnimation:\"zoomIn\",videoAspectRatio:169,position:{enable:!1}}}},getModal:function(){return t.exports.modal||this.initModal(),t.exports.modal},initModal:function(){var e=t.exports.modal=goomentoFrontend.getDialogsManager().createWidget(\"lightbox\",{className:\"gmt-lightbox\",closeButton:!0,closeButtonClass:\"fas fa-times\",selectors:{preventClose:\".\"+this.getSettings(\"classes.preventClose\")},hide:{onClick:!0}});e.on(\"hide\",function(){e.setMessage(\"\")})},showModal:function(e){var t=this,n=t.getDefaultSettings().modalOptions,o=(t.setSettings(\"modalOptions\",jQuery.extend(n,e.modalOptions)),t.getModal());switch(o.setID(t.getSettings(\"modalOptions.id\")),o.onShow=function(){DialogsManager.getWidgetType(\"lightbox\").prototype.onShow.apply(o,arguments),t.setEntranceAnimation()},o.onHide=function(){DialogsManager.getWidgetType(\"lightbox\").prototype.onHide.apply(o,arguments),o.getElements(\"message\").removeClass(\"animated\")},e.type){case\"image\":t.setImageContent(e.url);break;case\"video\":t.setVideoContent(e);break;case\"slideshow\":t.setSlideshowContent(e.slideshow);break;default:t.setHTMLContent(e.html)}o.show()},setHTMLContent:function(e){goomentoFrontend.utils.dialog.ensureLibrary(function(){this.getModal().setMessage(e)}.bind(this))},setImageContent:function(e){var t=this.getSettings(\"classes\"),n=jQuery(\"<div>\",{class:t.item}),e=jQuery(\"<img>\",{src:e,class:t.image});n.append(e),this.getModal().setMessage(n)},setVideoContent:function(e){var t,n=this.getSettings(\"classes\"),o=jQuery(\"<div>\",{class:\"\".concat(n.videoContainer,\" \").concat(n.preventClose)}),n=jQuery(\"<div>\",{class:n.videoWrapper}),i=this.getModal(),r=(e=\"other\"===e.videoType?(t=jQuery.extend({src:e.url,autoplay:\"\"},e.videoParams),jQuery(\"<video>\",t)):(t=e.url.replace(\"&autoplay=0\",\"\")+\"&autoplay=1\",jQuery(\"<iframe>\",{src:t,allowfullscreen:1})),o.append(n),n.append(e),i.setMessage(o),this.setVideoAspectRatio(),i.onHide);i.onHide=function(){r(),i.getElements(\"message\").removeClass(\"gmt-fit-aspect-ratio\")}},setSlideshowContent:function(t){var o=jQuery,n=this,i=n.getSettings(\"classes\"),r=i.slideshow,s=o(\"<div>\",{class:r.container}),a=o(\"<div>\",{class:r.slidesWrapper}),u=o(\"<div>\",{class:r.prevButton+\" \"+i.preventClose}).html(o(\"<i>\",{class:r.prevButtonIcon})),l=o(\"<div>\",{class:r.nextButton+\" \"+i.preventClose}).html(o(\"<i>\",{class:r.nextButtonIcon})),e=(t.slides.forEach(function(e){var t,n=r.slide+\" \"+i.item,n=(e.video&&(n+=\" \"+i.video),o(\"<div>\",{class:n}));e.video?(n.attr(\"data-gmt-slideshow-video\",e.video),t=o(\"<div>\",{class:i.playButton}).html(o(\"<i>\",{class:i.playButtonIcon})),n.append(t)):(t=o(\"<div>\",{class:\"swiper-zoom-container\"}),e=o(\"<img>\",{class:i.image+\" \"+i.preventClose,src:e.image}),t.append(e),n.append(t)),a.append(n)}),s.append(a,u,l),n.getModal()),c=(e.setMessage(s),e.onShow);e.onShow=function(){c();var e={navigation:{prevEl:u,nextEl:l},pagination:{clickable:!0},on:{slideChangeTransitionEnd:n.onSlideChange},grabCursor:!0,runCallbacksOnInit:!1,loop:!0,keyboard:!0};t.swiper&&o.extend(e,t.swiper),goomentoFrontend.utils.swiper.ensureLibrary(function(){n.swiper=new Swiper(s,e),n.setVideoAspectRatio(),n.playSlideVideo()})}},setVideoAspectRatio:function(e){e=e||this.getSettings(\"modalOptions.videoAspectRatio\");var t=this.getModal().getElements(\"widgetContent\"),n=this.oldAspectRatio,o=this.getSettings(\"classes.aspectRatio\");this.oldAspectRatio=e,n&&t.removeClass(o.replace(\"%s\",n)),e&&t.addClass(o.replace(\"%s\",e))},getSlide:function(e){return jQuery(this.swiper.slides).filter(this.getSettings(\"selectors.slideshow.\"+e+\"Slide\"))},playSlideVideo:function(){var t,e,n,o,i,r,s,a=this,u=this.getSlide(\"active\"),l=u.data(\"gmt-slideshow-video\");l&&(n=this.getSettings(\"classes\"),o=jQuery(\"<div>\",{class:n.videoContainer+\" \"+n.invisible}),i=jQuery(\"<div>\",{class:n.videoWrapper}),r=u.children(\".\"+n.playButton),o.append(i),u.append(o),-1!==l.indexOf(\"vimeo.com\")?(t=\"vimeo\",e=goomentoFrontend.utils.vimeo):l.match(/^(?:https?:\\/\\/)?(?:www\\.)?(?:m\\.)?(?:youtu\\.be\\/|youtube\\.com)/)&&(t=\"youtube\",e=goomentoFrontend.utils.youtube),s=e.getVideoIDFromURL(l),e.onApiReady(function(e){\"youtube\"===t?a.prepareYTVideo(e,s,o,i,r):\"vimeo\"===t&&a.prepareVimeoVideo(e,s,o,i,r)}),r.addClass(n.playing).removeClass(n.hidden))},prepareYTVideo:function(e,t,n,o,i){var r=this,s=this.getSettings(\"classes\"),a=jQuery(\"<div>\"),u=e.PlayerState.PLAYING;o.append(a),window.chrome&&(u=e.PlayerState.UNSTARTED),n.addClass(\"gmt-loading \"+s.invisible),this.player=new e.Player(a[0],{videoId:t,events:{onReady:function(){i.addClass(s.hidden),n.removeClass(s.invisible),r.player.playVideo()},onStateChange:function(e){e.data===u&&n.removeClass(\"gmt-loading \"+s.invisible)}},playerVars:{controls:0,rel:0}})},prepareVimeoVideo:function(e,t,n,o,i){var r=this.getSettings(\"classes\");this.player=new e.Player(o,{id:t,autoplay:!0,transparent:!1,playsinline:!1}),this.player.ready().then(function(){i.addClass(r.hidden),n.removeClass(r.invisible)})},setEntranceAnimation:function(e){e=e||goomentoFrontend.getCurrentDeviceSetting(this.getSettings(\"modalOptions\"),\"entranceAnimation\");var t=this.getModal().getElements(\"message\");this.oldAnimation&&t.removeClass(this.oldAnimation),(this.oldAnimation=e)&&t.addClass(\"animated \"+e)},isLightboxLink:function(e){var t;return!(\"A\"===e.tagName&&(e.hasAttribute(\"download\")||!/\\.(png|jpe?g|gif|svg)(\\?.*)?$/i.test(e.href)))&&(t=goomentoFrontend.getGeneralSettings(\"global_image_lightbox\"),\"yes\"===(e=e.dataset.gmtOpenLightbox)||t&&\"no\"!==e)},openLink:function(e){var t,n,o,i,r=e.currentTarget,s=jQuery(e.target),a=goomentoFrontend.isEditMode(),s=!!s.closest(\"#gmt\").length;this.isLightboxLink(r)?(e.preventDefault(),a&&!goomentoFrontend.getGeneralSettings(\"enable_lightbox_in_editor\")||(i={},(i=r.dataset.gmtLightbox?JSON.parse(r.dataset.gmtLightbox):i).type&&\"slideshow\"!==i.type?this.showModal(i):r.dataset.gmtLightboxSlideshow?(t=r.dataset.gmtLightboxSlideshow,n=jQuery(this.getSettings(\"selectors.links\")).filter(function(){var e=jQuery(this);return t===this.dataset.gmtLightboxSlideshow&&!e.parent(\".swiper-slide-duplicate\").length&&!e.parents(\".slick-cloned\").length}),o=[],n.each(function(){var e=this.dataset.gmtLightboxVideo,t=this.dataset.gmtLightboxIndex,t=(void 0===t&&(t=n.index(this)),{image:this.href,index:t});e&&(t.video=e),o.push(t)}),o.sort(function(e,t){return e.index-t.index}),void 0===(i=r.dataset.gmtLightboxIndex)&&(i=n.index(r)),this.showModal({type:\"slideshow\",modalOptions:{id:\"gmt-lightbox-slideshow-\"+t},slideshow:{slides:o,swiper:{initialSlide:+i}}})):this.showModal({type:\"image\",url:r.href}))):a&&s&&e.preventDefault()},bindEvents:function(){goomentoFrontend.elements.$document.on(\"click\",this.getSettings(\"selectors.links\"),this.openLink)},onSlideChange:function(){this.getSlide(\"prev\").add(this.getSlide(\"next\")).add(this.getSlide(\"active\")).find(\".\"+this.getSettings(\"classes.videoWrapper\")).remove(),this.playSlideVideo()}})},function(e,t,n){\"use strict\";e.exports={ensureLibrary:function(t){void 0!==window.Swiper?t():\"function\"==typeof window.require&&window.require([\"swiper\"],function(e){window.Swiper=window.Swiper||e,t()})}}}],o={},i.m=n,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,\"a\",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p=\"\",i(i.s=473);function i(e){var t;return(o[e]||(t=o[e]={i:e,l:!1,exports:{}},n[e].call(t.exports,t,t.exports,i),t.l=!0,t)).exports}var n,o});","Goomento_PageBuilder/js/browser-check.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\ndefine([\n    'underscore',\n    'jquery'\n], function (_, $) {\n    'use strict';\n\n    /**\n     * Hash string to create unique id\n     * @param str\n     * @returns {number}\n     */\n    function hashString(str) {\n        var hash = 0, len = str.length;\n        for (var i = 0; i < len; i++) {\n            hash  = ((hash << 5) - hash) + str.charCodeAt(i);\n            hash |= 0;\n        }\n        return hash;\n    }\n\n    const date = new Date();\n    let day = date.getDate();\n    let month = date.getMonth() + 1;\n    let year = date.getFullYear();\n    let currentDate = `${day}-${month}-${year}`;\n\n    /**\n     * Let's check your browser\n     */\n    return function (config) {\n        config = Object.assign({}, {\n            endpoint: \"\",\n            token: \"\",\n        }, config);\n\n        if (_.isEmpty(config.token)) {\n            return;\n        }\n\n        let cacheKey = hashString( config.token ) || '',\n            cachedData = localStorage.getItem(cacheKey) || '';\n\n        const printVariables = function (variables) {\n            _.each(variables, e => window[e] = e);\n        }\n\n        try {\n            cachedData = JSON.parse(cachedData) || {};\n        } catch (e) {\n            cachedData = {};\n        }\n\n        if (cachedData[currentDate]) {\n            printVariables(cachedData[currentDate]);\n        } else {\n            $(function () {\n                $.ajax({\n                    type: 'GET',\n                    url: config.endpoint,\n                    data: {token: config.token},\n                    success: function (response) {\n                        if (!_.isEmpty(response)) {\n                            cachedData = {};\n                            cachedData[currentDate] = response;\n                            printVariables(response);\n                            localStorage.setItem(cacheKey, JSON.stringify(cachedData));\n                        }\n                    },\n                    dataType: \"json\"\n                });\n            });\n        }\n    }\n});\n","Goomento_PageBuilder/js/editor-entry.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\ndefine([\n    'underscore',\n    'jquery',\n    'goomento-editor-engine',\n    'Goomento_PageBuilder/js/view/moment-wrapper',\n], function (\n    _,\n    $,\n    App\n) {\n    'use strict';\n\n    if (typeof goomento === 'undefined') {\n\n        // Setup ajax request\n        $.ajaxSetup({\n            beforeSend: function(jqXHR, settings) {\n                let url = new URL(settings.url);\n                if (!url.searchParams.get('form_key')) {\n                    url.searchParams.set('form_key', window.FORM_KEY || document.getElementsByName('form_key')[0].value);\n                    settings.url = url.toString();\n                }\n            },\n        });\n\n        window.goomento = new App;\n\n        /**\n         * Custom extended helpers\n         * @type {*}\n         */\n        const helpers = {\n            /**\n             * Format datetime\n             * @param datetime\n             * @returns {string}\n             */\n            formatDatetime: datetime => {\n                if (moment(datetime).startOf('day').isSame(moment(new Date()).startOf('day'))) {\n                    return moment(datetime).fromNow();\n                } else {\n                    return moment(datetime).calendar();\n                }\n            }\n        }\n\n        _.extend(goomento.helpers, helpers);\n\n        $( () => goomento.start() );\n    }\n\n    return window.goomento;\n});\n","Goomento_PageBuilder/js/editor-introduction.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\nrequire([\n    'jquery',\n    'introjs'\n], function ($, introJs) {\n    'use strict';\n\n    /**\n     * Get steps\n     *\n     * @returns {*}\n     */\n    const steps = () => {\n        let previewIframe = document.getElementById(\"gmt-preview-iframe\"),\n            previewDocument = previewIframe.contentWindow.document;\n\n        return [\n            {\n                title: 'Goomento Page Builder Tour Guide \ud83d\udc4b',\n                intro: 'Follow this guide to use create Page, Landing Page or even Magento website'\n            },\n            {\n                title: 'Bottom Bar',\n                element: document.getElementById('gmt-controller'),\n                intro: 'The bottom bar contains the buttons/actions which control the editor. Let\\'s go through some of significant buttons ...',\n            },\n            {\n                title: 'Toggle View Button',\n                element: document.getElementById('gmt-panel-control-editing'),\n                intro: 'Click to toggle the view, such as view as Published content ...',\n            },\n            {\n                title: 'Responsive Control Buttons',\n                element: document.getElementById('gmt-panel-control-responsive'),\n                intro: 'Click to view the content in mobile/tablet or desktop device',\n                disableInteraction: false\n            },\n            {\n                title: 'Save Button',\n                element: document.getElementById('gmt-panel-saver-button-publish'),\n                intro: 'Click to save the current view, you might see one of these labels of button' +\n                    '</br><strong>SAVED</strong>: Content saved and ready to use' +\n                    '</br><strong>SAVE DRAFT</strong>: Save current view as draft and can be restored later' +\n                    '</br><strong>PUBLISH</strong>: Publish current view to storefront'\n            },\n            {\n                title: 'Exit Button',\n                element: document.getElementById('gmt-panel-control-back-to-dashboard'),\n                intro: 'Click this button to back to Magento!'\n            },\n            {\n                title: 'Widget Panel',\n                element: document.getElementById('gmt-panel'),\n                intro: 'Contains widget that can be dragged to the <strong>Drop Area</strong> for building page<br/>' +\n                    '<i>TIP</i> You even can drag <strong>Widget Panel</strong> to somewhere else that work for you, ' +\n                    'drag the \"&hellip;\" sign at top of panel',\n                disableInteraction: false\n            },\n            {\n                title: 'Drop Area',\n                element: previewDocument.getElementById('gmt-add-new-section'),\n                intro: 'Let drag element from <strong>Widget Panel</strong> to here to build your page'\n            },\n            {\n                title: '\"Let drag/drop it!\u261d\ufe0f\"',\n                intro: 'We hope you love the new joy of building content on Magento'\n            },\n        ]\n    }\n\n    $(document).on('click', '#gmt-panel-control-help', () => {\n        introJs().setOptions({\n            steps: steps(),\n            disableInteraction: false,\n        }).onbeforechange(async function(targetElement) {\n            return new Promise((resolve) => {\n                if ($(targetElement).parents('body.pagebuilder-content-canvas').length) {\n                    $(targetElement).parents('html, body').animate({\n                        scrollTop: $(targetElement).offset().top\n                    },  200);\n                    setTimeout(resolve, 400);\n                } else {\n                    resolve();\n                }\n            });\n        }).start();\n    });\n});\n","Goomento_PageBuilder/js/frontend-entry.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\ndefine([\n    'goomento-frontend-engine',\n    'jquery',\n], function (\n    Frontend,\n    $\n) {\n    'use strict';\n\n    window.goomentoFrontend = window.goomentoFrontend || new Frontend();\n\n    if ( ! goomentoFrontend.isEditMode() ) {\n        $( window ).trigger( 'pagebuilder/frontend/init', goomentoFrontend);\n        $( () => goomentoFrontend.init() );\n    }\n});\n","Goomento_PageBuilder/js/view/ace-wrapper.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\nrequire.config({\n    paths: {\n        ace: ['//cdnjs.cloudflare.com/ajax/libs/ace/1.2.5']\n    }\n});\n\ndefine([], function () {\n    'use strict';\n\n    require([\n        'ace/ace',\n        'ace/ext-language_tools',\n    ], (ace) => {\n        window.ace = window.ace || ace;\n    });\n\n    return window.ace;\n});\n","Goomento_PageBuilder/js/view/intro-wrapper.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\ndefine([\n    'Goomento_PageBuilder/lib/intro/intro.min'\n], function (introJs) {\n    'use strict';\n\n    window.introJs = window.introJs || introJs;\n    return introJs;\n});\n","Goomento_PageBuilder/js/view/mmenu-wrapper.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\ndefine([\n    'Goomento_PageBuilder/lib/mmenu/mmenu.min'\n], function (MMenu) {\n    'use strict';\n\n    window.MMenu = window.MMenu || MMenu;\n    return MMenu;\n});\n","Goomento_PageBuilder/js/view/moment-wrapper.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\ndefine([\n    'moment'\n], function (moment) {\n    'use strict';\n\n    window.moment = window.moment || moment;\n    return moment;\n});\n","Goomento_PageBuilder/js/view/nouislider-wrapper.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\ndefine([\n    'Goomento_PageBuilder/lib/nouislider/nouislider.min'\n], function (noUiSlider) {\n    'use strict';\n\n    window.noUiSlider = window.noUiSlider || noUiSlider;\n    return noUiSlider;\n});\n","Goomento_PageBuilder/js/view/nprogress-wrapper.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\ndefine([\n    'Goomento_PageBuilder/lib/nprogress/nprogress.min'\n], function (NProgress) {\n    'use strict';\n\n    window.NProgress = window.NProgress || NProgress;\n    return NProgress;\n});\n","Goomento_PageBuilder/js/view/perfect-scrollbar-wrapper.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\ndefine([\n    'Goomento_PageBuilder/lib/perfect-scrollbar/js/perfect-scrollbar.min'\n], function (PerfectScrollbar) {\n    'use strict';\n\n    window.PerfectScrollbar = window.PerfectScrollbar || PerfectScrollbar;\n    return PerfectScrollbar;\n});\n","Goomento_PageBuilder/js/view/swiper-wrapper.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\ndefine([\n    'Goomento_PageBuilder/lib/swiper/swiper.min'\n], function (Swiper) {\n    'use strict';\n\n    window.Swiper = window.Swiper || Swiper;\n    return Swiper;\n});\n","Goomento_PageBuilder/js/view/tipsy-wrapper.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\ndefine([\n    'jquery',\n    'Goomento_PageBuilder/lib/tipsy/tipsy.min'\n], function ($) {\n    'use strict';\n\n    /**\n     * Attach checking event to window.\n     */\n    let checkTooltip = function () {\n        let $items = $('.tooltip-target');\n        $items.each((i, ele) => {\n            let $target = $( ele );\n\n            /**\n             * Check data already bind\n             */\n            if ( !$target.data('tipsy') ) {\n                let gravity = $target.attr( 'data-tooltip-gravity' ) || 's',\n                    html = $target.attr( 'data-tooltip-html' ) || false,\n                    checkHide = null,\n                    title = () => {\n                        if (html) {\n                            return $target.find(html).length ? $target.find(html).get(0).outerHTML : '';\n                        } else {\n                            return $target.attr( 'data-tooltip' ) || $target.attr( 'title' );\n                        }\n                    };\n\n                $target.tipsy({\n                    gravity,\n                    title,\n                    trigger: 'manual',\n                    html: !!html,\n                }).bind('mouseenter', function () {\n                    let tipsy = $(this).data(\"tipsy\"),\n                        $tip = tipsy ? tipsy.tip() : null;\n                    tipsy && tipsy.show();\n                    $tip && $target.attr('data-tooltip-class') && $tip.addClass($target.attr('data-tooltip-class'));\n                    checkHide && clearInterval(checkHide);\n                }).bind('mouseleave dragstart click blur remove', function () {\n                    // Keep the tooltip when hover on itself\n                    setTimeout(() => {\n                        let tipsy = $(this).data(\"tipsy\"),\n                            $tip = tipsy ? tipsy.tip() : null;\n                        tipsy && !$tip.is(':hover') && tipsy.hide();\n                        checkHide && clearInterval(checkHide);\n                        checkHide = setInterval(() => {\n                            // Is hovering on tooltip\n                            if (!$tip || ($tip && !$tip.is(':hover'))) {\n                                tipsy && tipsy.hide();\n                                checkHide && clearInterval(checkHide);\n                            }\n\n                            if (!$target.length || !$target.is(':visible')) {\n                                // Zombie, let remove them all\n                                $.fn.tipsy.revalidate();\n                                checkHide && clearInterval(checkHide);\n                            }\n                        }, 50);\n                    }, 50);\n                });\n\n                $target.off('mouseenter', checkTooltip);\n            }\n        });\n    }\n\n    $(checkTooltip);\n    $(document).on('mouseenter click', '.tooltip-target', checkTooltip);\n    $(document).on('click', '.tipsy', $.fn.tipsy.revalidate);\n\n    return $.fn.tipsy;\n});\n","Goomento_PageBuilder/js/widgets/accordion.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\ndefine([\n    'jquery',\n    'Goomento_PageBuilder/js/widgets/base-tab'\n], function ($) {\n    'use strict';\n\n    /**\n     * Accordion widget\n     */\n    $.widget('goomento.accordion', $.goomento.baseTab, {\n        options: {\n            showTabFn: 'slideDown',\n            hideTabFn: 'slideUp',\n        },\n    });\n\n    return $.goomento.accordion;\n});\n","Goomento_PageBuilder/js/widgets/alert.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\ndefine([\n    'jquery',\n    'goomento-widget-base',\n], function ($) {\n    'use strict';\n\n    /**\n     * Alert widget\n     */\n    $.widget('goomento.alert', $.goomento.base, {\n        options: {\n            selectors: {\n                dismissButton: '.gmt-alert-dismiss',\n            },\n        },\n        $dismissButton: $,\n        _initWidget: function () {\n            this.$dismissButton.on( 'click', () => {\n                this.$element.fadeOut();\n            } );\n        }\n    });\n\n    return $.goomento.alert;\n});\n","Goomento_PageBuilder/js/widgets/banner-slider.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\ndefine([\n    'jquery',\n    'goomento-widget-image-carousel',\n], function ($) {\n    'use strict';\n\n    $.widget('goomento.bannerSlider', $.goomento.imageCarousel, {\n        options: {\n            selectors: {\n                carousel: '.gmt-banner-slider-wrapper',\n                slideContent: '.swiper-slide',\n            },\n            slides_to_show: 3,\n            infinite: 'yes',\n            autoplay: 'yes',\n            effect: 'slide',\n            speed: 500,\n            slides_to_show_mobile: 1,\n            slides_to_scroll_mobile: 1,\n            slides_to_show_tablet: 1,\n            slides_to_scroll_tablet: 1,\n            autoplay_speed: 5000,\n            pause_on_hover: true,\n            navigation: 'both',\n            slides_to_scroll: 1,\n            image_spacing_custom: {\n                size: 20\n            },\n        }\n    });\n\n    return $.goomento.bannerSlider\n});\n","Goomento_PageBuilder/js/widgets/base-tab.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\ndefine([\n    'jquery',\n    'goomento-widget-base',\n    'jquery-numerator'\n], function ($) {\n    'use strict';\n\n    /**\n     * Base tab widget\n     */\n    $.widget('goomento.baseTab', $.goomento.base, {\n        options: {\n            selectors: {\n                tabTitles: '.gmt-tab-title',\n                tabContents: '.gmt-tab-content',\n            },\n            classes: {\n                active: 'gmt-active',\n            },\n            showTabFn: 'show',\n            hideTabFn: 'hide',\n            toggleSelf: true,\n            hidePrevious: true,\n            autoExpand: true,\n        },\n        $tabTitles: $(),\n        $tabContent: $(),\n        /**\n         * Init widget\n         * @private\n         */\n        _initWidget() {\n            this.bindEvents();\n            this.activateDefaultTab();\n        },\n        /**\n         * Activate default tab\n         */\n        activateDefaultTab() {\n\n            if ( ! this.options.autoExpand || ( 'editor' === this.options.autoExpand && ! this.isEditor ) ) {\n                return;\n            }\n\n            const defaultActiveTab = this.options.activeItemIndex  || 1;\n\n            this.changeActiveTab( defaultActiveTab );\n        },\n        /**\n         *\n         * @param tabIndex\n         * @returns Boolean\n         */\n        isActiveTab( tabIndex ) {\n            return this.$tabTitles.filter( '[data-tab=\"' + tabIndex + '\"]' ).hasClass( this.options.classes.active );\n        },\n        /**\n         * Bind events\n         */\n        bindEvents() {\n            this.$tabTitles.on( {\n                keydown: ( event ) => {\n                    if ( 'Enter' === event.key ) {\n                        event.preventDefault();\n\n                        this.changeActiveTab( event.currentTarget.getAttribute( 'data-tab' ) );\n                    }\n                },\n                click: ( event ) => {\n                    event.preventDefault();\n\n                    this.changeActiveTab( event.currentTarget.getAttribute( 'data-tab' ) );\n                },\n            } );\n        },\n        /**\n         * Toggle tab\n         * @param tabIndex\n         */\n        changeActiveTab( tabIndex ) {\n            const isActiveTab = this.isActiveTab( tabIndex );\n\n            if ( ( this.options.toggleSelf || ! isActiveTab ) && this.options.hidePrevious ) {\n                this.deactivateActiveTab();\n            }\n\n            if ( ! this.options.hidePrevious && isActiveTab ) {\n                this.deactivateActiveTab( tabIndex );\n            }\n\n            if ( ! isActiveTab ) {\n                this.activateTab( tabIndex );\n            }\n        },\n        /**\n         * Deactivate tab\n         * @param tabIndex\n         */\n        deactivateActiveTab( tabIndex ) {\n            const activeClass = this.options.classes.active,\n                activeFilter = tabIndex ? '[data-tab=\"' + tabIndex + '\"]' : '.' + activeClass,\n                $activeTitle = this.$tabTitles.filter( activeFilter ),\n                $activeContent = this.$tabContents.filter( activeFilter );\n\n            $activeTitle.add( $activeContent ).removeClass( activeClass );\n\n            $activeContent[ this.options.hideTabFn ]();\n        },\n        /**\n         * Active tab\n         * @param tabIndex\n         */\n        activateTab( tabIndex ) {\n            const activeClass = this.options.classes.active,\n                $requestedTitle = this.$tabTitles.filter( '[data-tab=\"' + tabIndex + '\"]' ),\n                $requestedContent = this.$tabContents.filter( '[data-tab=\"' + tabIndex + '\"]' );\n\n            $requestedTitle.add( $requestedContent ).addClass( activeClass );\n\n            $requestedContent[ this.options.showTabFn ]();\n        }\n    });\n\n    return $.goomento.baseTab;\n});\n","Goomento_PageBuilder/js/widgets/base.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\ndefine([\n    'underscore',\n    'jquery',\n    'jquery-waypoints',\n    'jquery/ui',\n    'goomento-frontend'\n], function (_, $) {\n    'use strict';\n\n    $.widget('goomento.base',{\n        options: {\n            selectors: {},\n        },\n        /**\n         * On live edit mode\n         */\n        isEditor: false,\n        /**\n         * @private\n         */\n        _create: function() {\n            this.$element = $(this.element);\n            this.isEditor = this.$element.hasClass( 'gmt-element-edit-mode' ) || this.$element.parent().hasClass( 'gmt-element-edit-mode' );\n            if (!_.isEmpty(this.options.selectors)) {\n                _.each(this.options.selectors, (selector, key) => {\n                    this[`$${key}`] = this.$element.find(selector);\n                });\n            }\n\n            goomentoFrontend.waypoint(this.$element, this._onFocus.bind(this));\n\n            this._initWidget();\n        },\n        /**\n         * On initializing widget\n         * @private\n         */\n        _initWidget: $.noop,\n        /**\n         * On widget focusing\n         * @private\n         */\n        _onFocus: $.noop\n    });\n\n    return $.goomento.base;\n});\n","Goomento_PageBuilder/js/widgets/call-to-action.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\ndefine([\n    'jquery',\n    'mage/translate',\n    'goomento-widget-base',\n    'jquery/jquery.cookie',\n    'Magento_Ui/js/modal/modal',\n], function ($) {\n    'use strict';\n\n    /**\n     * Call to action widget\n     */\n    $.widget('goomento.callToAction', $.goomento.base, {\n        options: {\n            code: \"\",\n            trigger: \"\",\n            action: \"\",\n            target_element_id: \"\",\n            element_id: \"\",\n            trigger_element_id: \"\",\n            timout: 0,\n            remember_in_seconds: 0,\n            element_data_id: '',\n        },\n        /**\n         * Init\n         * @private\n         */\n        _initWidget: function () {\n            if (!this._validateInSeconds()) {\n                return;\n            }\n            switch (this.options.trigger) {\n                case \"load\":\n                    this.onPageLoad();\n                    break;\n                case \"timeout\":\n                    this.onTimeout();\n                    break;\n                case \"click\":\n                    this.onClick();\n                    break;\n                default:\n            }\n        },\n        /**\n         * Validate remember in seconds\n         * @return {boolean}\n         * @private\n         */\n        _validateInSeconds: function() {\n            let rememberInSeconds = parseInt(this.options.remember_in_seconds),\n                cookieName = `pagebuilder_ris_${this.options.element_id}`,\n                cookieValue = rememberInSeconds ? $.cookie(cookieName) : null;\n\n            if (rememberInSeconds) {\n                if (cookieValue) {\n                    return false;\n                } else {\n                    let date = new Date();\n                    date.setTime(date.getTime() + (rememberInSeconds * 1000));\n                    $.cookie(cookieName, '1', {path: '/', expires: date });\n                }\n            }\n            return true;\n        },\n        /**\n         * Do action\n         * @return {(function())|*}\n         * @private\n         */\n        doAction: function () {\n            this.onStartDoingAction();\n\n            switch (this.options.action) {\n                case \"code\":\n                    this.insertCode();\n                    break;\n                case \"show_popup\":\n                    this.showPopup();\n                    break;\n                case \"hide_popup\":\n                    this.hidePopup();\n                    break;\n                case \"show_element\":\n                    this.showElement();\n                    break;\n                case \"hide_element\":\n                    this.hideElement();\n                    break;\n                default:\n                    break;\n            }\n\n            this.onStoppingDoingAction();\n        },\n        /**\n         * Start doing action\n         * @return {callToAction}\n         */\n        onStartDoingAction: function () {\n            return this;\n        },\n        /**\n         * On stop doing action\n         * @return {callToAction}\n         */\n        onStoppingDoingAction: function () {\n            return this;\n        },\n        /**\n         *\n         * @returns {jQuery|HTMLElement|*}\n         * @private\n         */\n        _getTarget: function () {\n            if (typeof this.options.$target === \"undefined\") {\n                this.options.$target = $(this.options.target_element_id);\n            }\n\n            return this.options.$target;\n        },\n        /**\n         * Get options of popup\n         * @return {{}}\n         * @private\n         */\n        _getPopupOptions: function () {\n            let $target = this._getTarget(),\n                settings = $target.data('settings') || {},\n                options = {},\n                buttons = [];\n\n            settings = Object.assign({\n                popup_title: $.mage.__('Popup Title'),\n                popup_close_button_text: '',\n                popup_close_button_css_classes: '',\n                popup_confirm_button_text: '',\n                popup_confirm_button_css_classes: '',\n                popup_confirm_button_link: {\n                    url: '',\n                    is_external: false,\n                },\n            }, settings);\n\n            options.responsive = true;\n            options.type = 'popup';\n            if (settings.popup_title) {\n                options.title = settings.popup_title;\n            }\n\n            if (settings.popup_close_button_text) {\n                buttons.push({\n                    text: settings.popup_close_button_text,\n                    class: settings.popup_close_button_css_classes,\n                    click: function () {\n                        this.closeModal();\n                    }\n                });\n            }\n\n            if (settings.popup_confirm_button_text) {\n                buttons.push({\n                    text: settings.popup_confirm_button_text,\n                    class: settings.popup_confirm_button_css_classes,\n                    click: function () {\n                        let link = settings.popup_confirm_button_link || {};\n                        if (link && link.url) {\n                            if (link.is_external) {\n                                window.open(link.url,'_blank');\n                            } else {\n                                window.location.href = link.url;\n                            }\n                        } else {\n                            this.closeModal();\n                        }\n                    }\n                });\n            }\n            options.buttons = buttons;\n\n            return options;\n        },\n        /**\n         * Get popup in cached\n         * @return {jQuery|HTMLElement|*}\n         * @private\n         */\n        _getPopup: function () {\n            if (typeof this.options.$popup === \"undefined\") {\n                let $target = this._getTarget(),\n                    settings = $target.data('settings') || {};\n                if (!$target.length || !settings || !$target.hasClass('gmt-section-type-popup')) {\n                    this.options.$popup = $();\n                } else {\n                    this.options.$popup = $target.modal(this._getPopupOptions());\n                }\n            }\n            return this.options.$popup;\n        },\n        /**\n         * Show popup\n         */\n        showPopup: function () {\n            this._getPopup().modal('openModal');\n        },\n        /**\n         * Hide popup\n         */\n        hidePopup: function () {\n            this._getPopup().modal('closeModal');\n        },\n        /**\n         * Show element\n         */\n        showElement: function () {\n            this._getTarget().show();\n        },\n        /**\n         * Hide element\n         */\n        hideElement: function () {\n            this._getTarget().hide();\n        },\n        /**\n         * Insert HTML within document\n         */\n        insertCode: function () {\n            let $element = $(this.options.element_data_id);\n            if ($element.length && this.options.code) {\n                let textArea = document.createElement('textarea');\n                textArea.innerHTML = this.options.code;\n                $element.html(textArea.value);\n            }\n        },\n        /**\n         * On page load\n         */\n        onPageLoad: function () {\n            $(document).ready(this.doAction.bind(this));\n        },\n        /**\n         * On Timeout\n         */\n        onTimeout: function () {\n            let timeout = parseInt(this.options.timout);\n            setTimeout(this.doAction.bind(this), timeout*1000);\n        },\n        /**\n         * On Click action\n         */\n        onClick: function () {\n            $(document).on('click', this.options.trigger_element_id, this.doAction.bind(this));\n        }\n    });\n\n    return $.goomento.callToAction;\n})\n","Goomento_PageBuilder/js/widgets/counter.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\ndefine([\n    'jquery',\n    'goomento-widget-base',\n    'jquery-numerator'\n], function ($) {\n    'use strict';\n\n    /**\n     * Counter widget\n     */\n    $.widget('goomento.counter', $.goomento.base, {\n        options: {\n            selectors: {\n                counterNumber: '.gmt-counter-number',\n            },\n        },\n\n        $counterNumber: $(),\n        /**\n         * @inheritDoc\n         * @private\n         */\n        _onFocus: function () {\n            const data = this.$counterNumber.data(),\n                decimalDigits = data.toValue.toString().match( /\\.(.*)/ );\n\n            if ( decimalDigits ) {\n                data.rounding = decimalDigits[ 1 ].length;\n            }\n\n            this.$counterNumber.numerator( data );\n        }\n    });\n\n    return $.goomento.counter;\n});\n","Goomento_PageBuilder/js/widgets/facebook-sdk.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\ndefine([\n    'jquery',\n    'goomento-widget-base'\n], function ($) {\n    'use strict';\n\n    /**\n     * Facebook SDK widget\n     */\n    $.widget('goomento.facebookSdk', $.goomento.base, {\n        options: {\n            app_id: '',\n            app_version: 'v13.0',\n            language: 'en_US',\n        },\n        _initWidget: function () {\n            if ($('#fb-root').length) {\n                if (this.isEditor && typeof window.FB !== 'undefined') {\n                    window.FB.XFBML.parse()\n                }\n                return;\n            }\n\n            $('body').prepend('<div id=\"fb-root\"></div>');\n\n            let href = 'https://connect.facebook.net/{language}/sdk.js#xfbml=1&version={graph-api-version}&appId={your-facebook-app-id}';\n            href = href\n                .replace('{language}', this.options.language)\n                .replace('{graph-api-version}', this.options.app_version)\n                .replace('{your-facebook-app-id}', this.options.app_id);\n\n            setTimeout(() => {\n                require([href], () => {});\n            }, 50);\n        }\n    });\n\n    return $.goomento.facebookSdk;\n});\n","Goomento_PageBuilder/js/widgets/image-carousel.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\ndefine([\n    'jquery',\n    'swiper',\n    'goomento-widget-base'\n], function ($, Swiper) {\n    'use strict';\n\n    /**\n     * Carousel widget\n     */\n    $.widget('goomento.imageCarousel', $.goomento.base, {\n        options: {\n            selectors: {\n                carousel: '.gmt-image-carousel-wrapper',\n                slideContent: '.swiper-slide',\n            },\n            slides_to_show: 3,\n            infinite: 'yes',\n            autoplay: 'yes',\n            effect: 'slide',\n            speed: 500,\n            slides_to_show_mobile: 1,\n            slides_to_scroll_mobile: 1,\n            slides_to_show_tablet: 1,\n            slides_to_scroll_tablet: 1,\n            autoplay_speed: 5000,\n            pause_on_hover: true,\n            navigation: 'both',\n            slides_to_scroll: 1,\n            image_spacing_custom: {\n                size: 20\n            },\n        },\n        $carouse: $,\n        $slideContent: $,\n        /**\n         * @returns {{loop: boolean, slidesPerView: (number|number), speed: (number|number|string|string|*)}}\n         */\n        getSwiperSettings: function() {\n            const elementSettings = this.options,\n                slidesToShow = +elementSettings.slides_to_show || 3,\n                isSingleSlide = 1 === slidesToShow,\n                defaultLGDevicesSlidesCount = isSingleSlide ? 1 : 2,\n                goomentoBreakpoints = goomentoFrontend.config.breakpoints,\n                swiperOptions = {\n                    slidesPerView: slidesToShow,\n                    loop: 'yes' === elementSettings.infinite,\n                    speed: elementSettings.speed,\n                };\n\n            swiperOptions.breakpoints = {};\n\n            swiperOptions.breakpoints[goomentoBreakpoints.md] = {\n                slidesPerView: +elementSettings.slides_to_show_mobile || 1,\n                slidesPerGroup: +elementSettings.slides_to_scroll_mobile || 1,\n            };\n\n            swiperOptions.breakpoints[goomentoBreakpoints.lg] = {\n                slidesPerView: +elementSettings.slides_to_show_tablet || defaultLGDevicesSlidesCount,\n                slidesPerGroup: +elementSettings.slides_to_scroll_tablet || 1,\n            };\n\n            if ('yes' === elementSettings.autoplay) {\n                swiperOptions.autoplay = {\n                    delay: elementSettings.autoplay_speed,\n                    disableOnInteraction: !!elementSettings.pause_on_hover,\n                };\n            }\n\n            if (true === swiperOptions.loop) {\n                swiperOptions.loopedSlides = this.$slideContent.length;\n            }\n\n            if (isSingleSlide) {\n                swiperOptions.effect = elementSettings.effect;\n\n                if ('fade' === elementSettings.effect) {\n                    swiperOptions.fadeEffect = {crossFade: true};\n                }\n            } else {\n                swiperOptions.slidesPerGroup = +elementSettings.slides_to_scroll || 1;\n            }\n\n            if (elementSettings.image_spacing_custom) {\n                swiperOptions.spaceBetween = elementSettings.image_spacing_custom.size;\n            }\n\n            const showArrows = 'arrows' === elementSettings.navigation || 'both' === elementSettings.navigation,\n                showDots = 'dots' === elementSettings.navigation || 'both' === elementSettings.navigation;\n\n            if (showArrows) {\n                swiperOptions.navigation = {\n                    prevEl: '.gmt-swiper-button-prev',\n                    nextEl: '.gmt-swiper-button-next',\n                };\n            }\n\n            if (showDots) {\n                swiperOptions.pagination = {\n                    el: '.swiper-pagination',\n                    type: 'bullets',\n                    clickable: true,\n                };\n            }\n\n            swiperOptions.on = {\n                init: () => {\n                    this.$element.removeClass('gmt-invisible').parent().removeClass('gmt-invisible');\n                }\n            }\n\n            return swiperOptions;\n        },\n        _initWidget: function () {\n            new Swiper(this.$carousel, this.getSwiperSettings());\n        }\n    });\n\n    return $.goomento.imageCarousel;\n});\n","Goomento_PageBuilder/js/widgets/product-slider.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\ndefine([\n    'jquery',\n    'goomento-widget-image-carousel',\n], function ($) {\n    'use strict';\n\n    $.widget('goomento.productSlider', $.goomento.imageCarousel, {\n        options: {\n            selectors: {\n                carousel: '.gmt-product-carousel-wrapper',\n                slideContent: '.swiper-slide',\n            },\n            slides_to_show: 3,\n            infinite: 'yes',\n            autoplay: 'yes',\n            effect: 'slide',\n            speed: 500,\n            slides_to_show_mobile: 1,\n            slides_to_scroll_mobile: 1,\n            slides_to_show_tablet: 1,\n            slides_to_scroll_tablet: 1,\n            autoplay_speed: 5000,\n            pause_on_hover: true,\n            navigation: 'both',\n            slides_to_scroll: 1,\n            image_spacing_custom: {\n                size: 20\n            },\n        }\n    });\n\n    return $.goomento.productSlider\n});\n","Goomento_PageBuilder/js/widgets/progress.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\ndefine([\n    'jquery',\n    'goomento-widget-base',\n], function ($) {\n    'use strict';\n\n    /**\n     * Progress widget\n     */\n    $.widget('goomento.progress', $.goomento.base, {\n        options: {\n            selectors: {\n                progressNumber: '.gmt-progress-bar',\n            },\n        },\n        $progressNumber: $,\n        /**\n         * On focus\n         * @private\n         */\n        _onFocus() {\n            this.$progressNumber.css( 'width', this.$progressNumber.data( 'max' ) + '%' );\n        }\n    });\n\n    return $.goomento.progress;\n});\n","Goomento_PageBuilder/js/widgets/tabs.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\ndefine([\n    'jquery',\n    'Goomento_PageBuilder/js/widgets/base-tab'\n], function ($) {\n    'use strict';\n\n    /**\n     * Tabs widget\n     */\n    $.widget('goomento.tabs', $.goomento.baseTab, {\n        options: {\n            toggleSelf: false,\n        },\n    });\n\n    return $.goomento.tabs;\n});\n","Goomento_PageBuilder/js/widgets/text-editor.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\ndefine([\n    'jquery',\n    'goomento-widget-base',\n], function ($) {\n    'use strict';\n\n    /**\n     * Text editor widget\n     */\n    $.widget('goomento.textEditor', $.goomento.base, {\n        options: {\n            selectors: {\n                paragraph: '.gmt-text-editor p:first',\n            },\n            classes: {\n                dropCap: 'gmt-drop-cap',\n                dropCapLetter: 'gmt-drop-cap-letter',\n            },\n            \"text-editor_drop_cap\": ''\n        },\n        $paragraph: $(),\n        /**\n         * @inheritDoc\n         * @private\n         */\n        _initWidget: function () {\n            if (this.options[\"text-editor_drop_cap\"] !== 'yes') {\n                return;\n            }\n\n            const $dropCap = $( '<span>', { class: this.options.classes.dropCap } ),\n                $dropCapLetter = $( '<span>', { class: this.options.classes.dropCapLetter } );\n\n            $dropCap.append( $dropCapLetter );\n\n            this.$dropCap = $dropCap;\n            this.$dropCapLetter = $dropCapLetter;\n\n            if (!this.$paragraph.length) {\n                this.$paragraph = this.$element.find('.gmt-text-editor');\n            }\n\n            this.wrapDropCap();\n        },\n        wrapDropCap() {\n\n            const $paragraph = this.$paragraph;\n\n            if ( ! $paragraph.length ) {\n                return;\n            }\n\n            const paragraphContent = $paragraph.html().replace( /&nbsp;/g, ' ' ),\n                firstLetterMatch = paragraphContent.match( /^ *([^ ] ?)/ );\n\n            if ( ! firstLetterMatch ) {\n                return;\n            }\n\n            const firstLetter = firstLetterMatch[ 1 ],\n                trimmedFirstLetter = firstLetter.trim();\n\n            // Don't apply drop cap when the content starting with an HTML tag\n            if ( '<' === trimmedFirstLetter ) {\n                return;\n            }\n\n            this.dropCapLetter = firstLetter;\n\n            this.$dropCapLetter.text( trimmedFirstLetter );\n\n            const restoredParagraphContent = paragraphContent.slice( firstLetter.length ).replace( /^ */, ( match ) => {\n                return new Array( match.length + 1 ).join( '&nbsp;' );\n            } );\n\n            $paragraph.html( restoredParagraphContent ).prepend( this.$dropCap );\n        }\n    });\n\n    return $.goomento.textEditor;\n});\n","Goomento_PageBuilder/js/widgets/toggle.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\ndefine([\n    'jquery',\n    'Goomento_PageBuilder/js/widgets/base-tab'\n], function ($) {\n    'use strict';\n\n    /**\n     * Toggle widget\n     */\n    $.widget('goomento.toggle', $.goomento.baseTab, {\n        options: {\n            showTabFn: 'slideDown',\n            hideTabFn: 'slideUp',\n            hidePrevious: false,\n            autoExpand: 'editor',\n        },\n    });\n\n    return $.goomento.toggle;\n});\n","Goomento_PageBuilder/js/widgets/video.js":"/**\n * @package Goomento_PageBuilder\n * @link https://github.com/Goomento/PageBuilder\n */\n\ndefine([\n    'jquery',\n    'goomento-widget-base'\n], function ($) {\n    'use strict';\n\n    /**\n     * Video widget\n     */\n    $.widget('goomento.video', $.goomento.base, {\n        options: {\n            selectors: {\n                imageOverlay: '.gmt-custom-embed-image-overlay',\n                video: '.gmt-video',\n                videoIframe: '.gmt-video-iframe'\n            },\n            lightbox: '',\n            video_aspect_ratio: '',\n        },\n        $imageOverlay: $(),\n        $video: $(),\n        $videoIframe: $(),\n\n        /**\n         * Get light box\n         * @returns {*}\n         */\n        getLightBox() {\n            return goomentoFrontend.utils.lightbox;\n        },\n        /**\n         * Handle video\n         */\n        handleVideo() {\n            if ( ! this.options.lightbox) {\n                this.$imageOverlay.remove();\n\n                this.playVideo();\n            }\n        },\n        /**\n         * Play video\n         */\n        playVideo() {\n            if ( this.$video.length ) {\n                this.$video[ 0 ].play();\n\n                return;\n            }\n\n            const $videoIframe = this.$videoIframe,\n                lazyLoad = $videoIframe.data( 'lazy-load' );\n\n            if ( lazyLoad ) {\n                $videoIframe.attr( 'src', lazyLoad );\n            }\n\n            const newSourceUrl = $videoIframe[ 0 ].src.replace( '&autoplay=0', '' );\n\n            $videoIframe[ 0 ].src = newSourceUrl + '&autoplay=1';\n\n            if ( $videoIframe[ 0 ].src.includes( 'vimeo.com' ) ) {\n                const videoSrc = $videoIframe[ 0 ].src,\n                    timeMatch = /#t=[^&]*/.exec( videoSrc );\n\n                // Param '#t=' must be last in the URL\n                $videoIframe[ 0 ].src = videoSrc.slice( 0, timeMatch.index ) + videoSrc.slice( timeMatch.index + timeMatch[ 0 ].length ) + timeMatch[ 0 ];\n            }\n        },\n        /**\n         * Animate video\n         */\n        animateVideo() {\n            this.getLightBox().setEntranceAnimation( goomentoFrontend.getCurrentDeviceSetting( this.options, 'lightbox_content_animation' ) );\n        },\n\n        /**\n         * Handle Aspect Ratio\n         */\n        handleAspectRatio() {\n            this.getLightBox().setVideoAspectRatio( this.options.video_aspect_ratio );\n        },\n\n        /**\n         * Bind events\n         */\n        bindEvents() {\n            this.$imageOverlay.on( 'click', this.handleVideo.bind( this ) );\n        },\n        /**\n         * Init widget\n         * @private\n         */\n        _initWidget() {\n            const isLightBoxEnabled = this.options.lightbox;\n\n            if ( !isLightBoxEnabled ) {\n                this.getLightBox().getModal().hide();\n            } else {\n                this.handleAspectRatio();\n                this.bindEvents();\n            }\n        }\n    });\n\n    return $.goomento.video;\n});\n","Goomento_PageBuilder/lib/backbone/backbone.js":"//     Backbone.js 1.4.0\n\n//     (c) 2010-2019 Jeremy Ashkenas and DocumentCloud\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n\n(function(factory) {\n\n    // Establish the root object, `window` (`self`) in the browser, or `global` on the server.\n    // We use `self` instead of `window` for `WebWorker` support.\n    var root = typeof self == 'object' && self.self === self && self ||\n        typeof global == 'object' && global.global === global && global;\n\n    // Set up Backbone appropriately for the environment. Start with AMD.\n    if (typeof define === 'function' && define.amd) {\n        define(['underscore', 'jquery', 'exports'], function(_, $, exports) {\n            // Export global even in AMD case in case this script is loaded with\n            // others that may still expect a global Backbone.\n            root.Backbone = factory(root, exports, _, $);\n        });\n\n        // Next for Node.js or CommonJS. jQuery may not be needed as a module.\n    } else if (typeof exports !== 'undefined') {\n        var _ = require('underscore'), $;\n        try { $ = require('jquery'); } catch (e) {}\n        factory(root, exports, _, $);\n\n        // Finally, as a browser global.\n    } else {\n        root.Backbone = factory(root, {}, root._, root.jQuery || root.Zepto || root.ender || root.$);\n    }\n\n})(function(root, Backbone, _, $) {\n\n    // Initial Setup\n    // -------------\n\n    // Save the previous value of the `Backbone` variable, so that it can be\n    // restored later on, if `noConflict` is used.\n    var previousBackbone = root.Backbone;\n\n    // Create a local reference to a common array method we'll want to use later.\n    var slice = Array.prototype.slice;\n\n    // Current version of the library. Keep in sync with `package.json`.\n    Backbone.VERSION = '1.4.0';\n\n    // For Backbone's purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n    // the `$` variable.\n    Backbone.$ = $;\n\n    // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n    // to its previous owner. Returns a reference to this Backbone object.\n    Backbone.noConflict = function() {\n        root.Backbone = previousBackbone;\n        return this;\n    };\n\n    // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n    // will fake `\"PATCH\"`, `\"PUT\"` and `\"DELETE\"` requests via the `_method` parameter and\n    // set a `X-Http-Method-Override` header.\n    Backbone.emulateHTTP = false;\n\n    // Turn on `emulateJSON` to support legacy servers that can't deal with direct\n    // `application/json` requests ... this will encode the body as\n    // `application/x-www-form-urlencoded` instead and will send the model in a\n    // form param named `model`.\n    Backbone.emulateJSON = false;\n\n    // Backbone.Events\n    // ---------------\n\n    // A module that can be mixed in to *any object* in order to provide it with\n    // a custom event channel. You may bind a callback to an event with `on` or\n    // remove with `off`; `trigger`-ing an event fires all callbacks in\n    // succession.\n    //\n    //     var object = {};\n    //     _.extend(object, Backbone.Events);\n    //     object.on('expand', function(){ alert('expanded'); });\n    //     object.trigger('expand');\n    //\n    var Events = Backbone.Events = {};\n\n    // Regular expression used to split event strings.\n    var eventSplitter = /\\s+/;\n\n    // A private global variable to share between listeners and listenees.\n    var _listening;\n\n    // Iterates over the standard `event, callback` (as well as the fancy multiple\n    // space-separated events `\"change blur\", callback` and jQuery-style event\n    // maps `{event: callback}`).\n    var eventsApi = function(iteratee, events, name, callback, opts) {\n        var i = 0, names;\n        if (name && typeof name === 'object') {\n            // Handle event maps.\n            if (callback !== void 0 && 'context' in opts && opts.context === void 0) opts.context = callback;\n            for (names = _.keys(name); i < names.length ; i++) {\n                events = eventsApi(iteratee, events, names[i], name[names[i]], opts);\n            }\n        } else if (name && eventSplitter.test(name)) {\n            // Handle space-separated event names by delegating them individually.\n            for (names = name.split(eventSplitter); i < names.length; i++) {\n                events = iteratee(events, names[i], callback, opts);\n            }\n        } else {\n            // Finally, standard events.\n            events = iteratee(events, name, callback, opts);\n        }\n        return events;\n    };\n\n    // Bind an event to a `callback` function. Passing `\"all\"` will bind\n    // the callback to all events fired.\n    Events.on = function(name, callback, context) {\n        this._events = eventsApi(onApi, this._events || {}, name, callback, {\n            context: context,\n            ctx: this,\n            listening: _listening\n        });\n\n        if (_listening) {\n            var listeners = this._listeners || (this._listeners = {});\n            listeners[_listening.id] = _listening;\n            // Allow the listening to use a counter, instead of tracking\n            // callbacks for library interop\n            _listening.interop = false;\n        }\n\n        return this;\n    };\n\n    // Inversion-of-control versions of `on`. Tell *this* object to listen to\n    // an event in another object... keeping track of what it's listening to\n    // for easier unbinding later.\n    Events.listenTo = function(obj, name, callback) {\n        if (!obj) return this;\n        var id = obj._listenId || (obj._listenId = _.uniqueId('l'));\n        var listeningTo = this._listeningTo || (this._listeningTo = {});\n        var listening = _listening = listeningTo[id];\n\n        // This object is not listening to any other events on `obj` yet.\n        // Setup the necessary references to track the listening callbacks.\n        if (!listening) {\n            this._listenId || (this._listenId = _.uniqueId('l'));\n            listening = _listening = listeningTo[id] = new Listening(this, obj);\n        }\n\n        // Bind callbacks on obj.\n        var error = tryCatchOn(obj, name, callback, this);\n        _listening = void 0;\n\n        if (error) throw error;\n        // If the target obj is not Backbone.Events, track events manually.\n        if (listening.interop) listening.on(name, callback);\n\n        return this;\n    };\n\n    // The reducing API that adds a callback to the `events` object.\n    var onApi = function(events, name, callback, options) {\n        if (callback) {\n            var handlers = events[name] || (events[name] = []);\n            var context = options.context, ctx = options.ctx, listening = options.listening;\n            if (listening) listening.count++;\n\n            handlers.push({callback: callback, context: context, ctx: context || ctx, listening: listening});\n        }\n        return events;\n    };\n\n    // An try-catch guarded #on function, to prevent poisoning the global\n    // `_listening` variable.\n    var tryCatchOn = function(obj, name, callback, context) {\n        try {\n            obj.on(name, callback, context);\n        } catch (e) {\n            return e;\n        }\n    };\n\n    // Remove one or many callbacks. If `context` is null, removes all\n    // callbacks with that function. If `callback` is null, removes all\n    // callbacks for the event. If `name` is null, removes all bound\n    // callbacks for all events.\n    Events.off = function(name, callback, context) {\n        if (!this._events) return this;\n        this._events = eventsApi(offApi, this._events, name, callback, {\n            context: context,\n            listeners: this._listeners\n        });\n\n        return this;\n    };\n\n    // Tell this object to stop listening to either specific events ... or\n    // to every object it's currently listening to.\n    Events.stopListening = function(obj, name, callback) {\n        var listeningTo = this._listeningTo;\n        if (!listeningTo) return this;\n\n        var ids = obj ? [obj._listenId] : _.keys(listeningTo);\n        for (var i = 0; i < ids.length; i++) {\n            var listening = listeningTo[ids[i]];\n\n            // If listening doesn't exist, this object is not currently\n            // listening to obj. Break out early.\n            if (!listening) break;\n\n            listening.obj.off(name, callback, this);\n            if (listening.interop) listening.off(name, callback);\n        }\n        if (_.isEmpty(listeningTo)) this._listeningTo = void 0;\n\n        return this;\n    };\n\n    // The reducing API that removes a callback from the `events` object.\n    var offApi = function(events, name, callback, options) {\n        if (!events) return;\n\n        var context = options.context, listeners = options.listeners;\n        var i = 0, names;\n\n        // Delete all event listeners and \"drop\" events.\n        if (!name && !context && !callback) {\n            for (names = _.keys(listeners); i < names.length; i++) {\n                listeners[names[i]].cleanup();\n            }\n            return;\n        }\n\n        names = name ? [name] : _.keys(events);\n        for (; i < names.length; i++) {\n            name = names[i];\n            var handlers = events[name];\n\n            // Bail out if there are no events stored.\n            if (!handlers) break;\n\n            // Find any remaining events.\n            var remaining = [];\n            for (var j = 0; j < handlers.length; j++) {\n                var handler = handlers[j];\n                if (\n                    callback && callback !== handler.callback &&\n                    callback !== handler.callback._callback ||\n                    context && context !== handler.context\n                ) {\n                    remaining.push(handler);\n                } else {\n                    var listening = handler.listening;\n                    if (listening) listening.off(name, callback);\n                }\n            }\n\n            // Replace events if there are any remaining.  Otherwise, clean up.\n            if (remaining.length) {\n                events[name] = remaining;\n            } else {\n                delete events[name];\n            }\n        }\n\n        return events;\n    };\n\n    // Bind an event to only be triggered a single time. After the first time\n    // the callback is invoked, its listener will be removed. If multiple events\n    // are passed in using the space-separated syntax, the handler will fire\n    // once for each event, not once for a combination of all events.\n    Events.once = function(name, callback, context) {\n        // Map the event into a `{event: once}` object.\n        var events = eventsApi(onceMap, {}, name, callback, this.off.bind(this));\n        if (typeof name === 'string' && context == null) callback = void 0;\n        return this.on(events, callback, context);\n    };\n\n    // Inversion-of-control versions of `once`.\n    Events.listenToOnce = function(obj, name, callback) {\n        // Map the event into a `{event: once}` object.\n        var events = eventsApi(onceMap, {}, name, callback, this.stopListening.bind(this, obj));\n        return this.listenTo(obj, events);\n    };\n\n    // Reduces the event callbacks into a map of `{event: onceWrapper}`.\n    // `offer` unbinds the `onceWrapper` after it has been called.\n    var onceMap = function(map, name, callback, offer) {\n        if (callback) {\n            var once = map[name] = _.once(function() {\n                offer(name, once);\n                callback.apply(this, arguments);\n            });\n            once._callback = callback;\n        }\n        return map;\n    };\n\n    // Trigger one or many events, firing all bound callbacks. Callbacks are\n    // passed the same arguments as `trigger` is, apart from the event name\n    // (unless you're listening on `\"all\"`, which will cause your callback to\n    // receive the true name of the event as the first argument).\n    Events.trigger = function(name) {\n        if (!this._events) return this;\n\n        var length = Math.max(0, arguments.length - 1);\n        var args = Array(length);\n        for (var i = 0; i < length; i++) args[i] = arguments[i + 1];\n\n        eventsApi(triggerApi, this._events, name, void 0, args);\n        return this;\n    };\n\n    // Handles triggering the appropriate event callbacks.\n    var triggerApi = function(objEvents, name, callback, args) {\n        if (objEvents) {\n            var events = objEvents[name];\n            var allEvents = objEvents.all;\n            if (events && allEvents) allEvents = allEvents.slice();\n            if (events) triggerEvents(events, args);\n            if (allEvents) triggerEvents(allEvents, [name].concat(args));\n        }\n        return objEvents;\n    };\n\n    // A difficult-to-believe, but optimized internal dispatch function for\n    // triggering events. Tries to keep the usual cases speedy (most internal\n    // Backbone events have 3 arguments).\n    var triggerEvents = function(events, args) {\n        var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n        switch (args.length) {\n            case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n            case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n            case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n            case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n            default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args); return;\n        }\n    };\n\n    // A listening class that tracks and cleans up memory bindings\n    // when all callbacks have been offed.\n    var Listening = function(listener, obj) {\n        this.id = listener._listenId;\n        this.listener = listener;\n        this.obj = obj;\n        this.interop = true;\n        this.count = 0;\n        this._events = void 0;\n    };\n\n    Listening.prototype.on = Events.on;\n\n    // Offs a callback (or several).\n    // Uses an optimized counter if the listenee uses Backbone.Events.\n    // Otherwise, falls back to manual tracking to support events\n    // library interop.\n    Listening.prototype.off = function(name, callback) {\n        var cleanup;\n        if (this.interop) {\n            this._events = eventsApi(offApi, this._events, name, callback, {\n                context: void 0,\n                listeners: void 0\n            });\n            cleanup = !this._events;\n        } else {\n            this.count--;\n            cleanup = this.count === 0;\n        }\n        if (cleanup) this.cleanup();\n    };\n\n    // Cleans up memory bindings between the listener and the listenee.\n    Listening.prototype.cleanup = function() {\n        delete this.listener._listeningTo[this.obj._listenId];\n        if (!this.interop) delete this.obj._listeners[this.id];\n    };\n\n    // Aliases for backwards compatibility.\n    Events.bind   = Events.on;\n    Events.unbind = Events.off;\n\n    // Allow the `Backbone` object to serve as a global event bus, for folks who\n    // want global \"pubsub\" in a convenient place.\n    _.extend(Backbone, Events);\n\n    // Backbone.Model\n    // --------------\n\n    // Backbone **Models** are the basic data object in the framework --\n    // frequently representing a row in a table in a database on your server.\n    // A discrete chunk of data and a bunch of useful, related methods for\n    // performing computations and transformations on that data.\n\n    // Create a new model with the specified attributes. A client id (`cid`)\n    // is automatically generated and assigned for you.\n    var Model = Backbone.Model = function(attributes, options) {\n        var attrs = attributes || {};\n        options || (options = {});\n        this.preinitialize.apply(this, arguments);\n        this.cid = _.uniqueId(this.cidPrefix);\n        this.attributes = {};\n        if (options.collection) this.collection = options.collection;\n        if (options.parse) attrs = this.parse(attrs, options) || {};\n        var defaults = _.result(this, 'defaults');\n        attrs = _.defaults(_.extend({}, defaults, attrs), defaults);\n        this.set(attrs, options);\n        this.changed = {};\n        this.initialize.apply(this, arguments);\n    };\n\n    // Attach all inheritable methods to the Model prototype.\n    _.extend(Model.prototype, Events, {\n\n        // A hash of attributes whose current and previous value differ.\n        changed: null,\n\n        // The value returned during the last failed validation.\n        validationError: null,\n\n        // The default name for the JSON `id` attribute is `\"id\"`. MongoDB and\n        // CouchDB users may want to set this to `\"_id\"`.\n        idAttribute: 'id',\n\n        // The prefix is used to create the client id which is used to identify models locally.\n        // You may want to override this if you're experiencing name clashes with model ids.\n        cidPrefix: 'c',\n\n        // preinitialize is an empty function by default. You can override it with a function\n        // or object.  preinitialize will run before any instantiation logic is run in the Model.\n        preinitialize: function(){},\n\n        // Initialize is an empty function by default. Override it with your own\n        // initialization logic.\n        initialize: function(){},\n\n        // Return a copy of the model's `attributes` object.\n        toJSON: function(options) {\n            return _.clone(this.attributes);\n        },\n\n        // Proxy `Backbone.sync` by default -- but override this if you need\n        // custom syncing semantics for *this* particular model.\n        sync: function() {\n            return Backbone.sync.apply(this, arguments);\n        },\n\n        // Get the value of an attribute.\n        get: function(attr) {\n            return this.attributes[attr];\n        },\n\n        // Get the HTML-escaped value of an attribute.\n        escape: function(attr) {\n            return _.escape(this.get(attr));\n        },\n\n        // Returns `true` if the attribute contains a value that is not null\n        // or undefined.\n        has: function(attr) {\n            return this.get(attr) != null;\n        },\n\n        // Special-cased proxy to underscore's `_.matches` method.\n        matches: function(attrs) {\n            return !!_.iteratee(attrs, this)(this.attributes);\n        },\n\n        // Set a hash of model attributes on the object, firing `\"change\"`. This is\n        // the core primitive operation of a model, updating the data and notifying\n        // anyone who needs to know about the change in state. The heart of the beast.\n        set: function(key, val, options) {\n            if (key == null) return this;\n\n            // Handle both `\"key\", value` and `{key: value}` -style arguments.\n            var attrs;\n            if (typeof key === 'object') {\n                attrs = key;\n                options = val;\n            } else {\n                (attrs = {})[key] = val;\n            }\n\n            options || (options = {});\n\n            // Run validation.\n            if (!this._validate(attrs, options)) return false;\n\n            // Extract attributes and options.\n            var unset      = options.unset;\n            var silent     = options.silent;\n            var changes    = [];\n            var changing   = this._changing;\n            this._changing = true;\n\n            if (!changing) {\n                this._previousAttributes = _.clone(this.attributes);\n                this.changed = {};\n            }\n\n            var current = this.attributes;\n            var changed = this.changed;\n            var prev    = this._previousAttributes;\n\n            // For each `set` attribute, update or delete the current value.\n            for (var attr in attrs) {\n                val = attrs[attr];\n                if (!_.isEqual(current[attr], val)) changes.push(attr);\n                if (!_.isEqual(prev[attr], val)) {\n                    changed[attr] = val;\n                } else {\n                    delete changed[attr];\n                }\n                unset ? delete current[attr] : current[attr] = val;\n            }\n\n            // Update the `id`.\n            if (this.idAttribute in attrs) this.id = this.get(this.idAttribute);\n\n            // Trigger all relevant attribute changes.\n            if (!silent) {\n                if (changes.length) this._pending = options;\n                for (var i = 0; i < changes.length; i++) {\n                    this.trigger('change:' + changes[i], this, current[changes[i]], options);\n                }\n            }\n\n            // You might be wondering why there's a `while` loop here. Changes can\n            // be recursively nested within `\"change\"` events.\n            if (changing) return this;\n            if (!silent) {\n                while (this._pending) {\n                    options = this._pending;\n                    this._pending = false;\n                    this.trigger('change', this, options);\n                }\n            }\n            this._pending = false;\n            this._changing = false;\n            return this;\n        },\n\n        // Remove an attribute from the model, firing `\"change\"`. `unset` is a noop\n        // if the attribute doesn't exist.\n        unset: function(attr, options) {\n            return this.set(attr, void 0, _.extend({}, options, {unset: true}));\n        },\n\n        // Clear all attributes on the model, firing `\"change\"`.\n        clear: function(options) {\n            var attrs = {};\n            for (var key in this.attributes) attrs[key] = void 0;\n            return this.set(attrs, _.extend({}, options, {unset: true}));\n        },\n\n        // Determine if the model has changed since the last `\"change\"` event.\n        // If you specify an attribute name, determine if that attribute has changed.\n        hasChanged: function(attr) {\n            if (attr == null) return !_.isEmpty(this.changed);\n            return _.has(this.changed, attr);\n        },\n\n        // Return an object containing all the attributes that have changed, or\n        // false if there are no changed attributes. Useful for determining what\n        // parts of a view need to be updated and/or what attributes need to be\n        // persisted to the server. Unset attributes will be set to undefined.\n        // You can also pass an attributes object to diff against the model,\n        // determining if there *would be* a change.\n        changedAttributes: function(diff) {\n            if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n            var old = this._changing ? this._previousAttributes : this.attributes;\n            var changed = {};\n            var hasChanged;\n            for (var attr in diff) {\n                var val = diff[attr];\n                if (_.isEqual(old[attr], val)) continue;\n                changed[attr] = val;\n                hasChanged = true;\n            }\n            return hasChanged ? changed : false;\n        },\n\n        // Get the previous value of an attribute, recorded at the time the last\n        // `\"change\"` event was fired.\n        previous: function(attr) {\n            if (attr == null || !this._previousAttributes) return null;\n            return this._previousAttributes[attr];\n        },\n\n        // Get all of the attributes of the model at the time of the previous\n        // `\"change\"` event.\n        previousAttributes: function() {\n            return _.clone(this._previousAttributes);\n        },\n\n        // Fetch the model from the server, merging the response with the model's\n        // local attributes. Any changed attributes will trigger a \"change\" event.\n        fetch: function(options) {\n            options = _.extend({parse: true}, options);\n            var model = this;\n            var success = options.success;\n            options.success = function(resp) {\n                var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n                if (!model.set(serverAttrs, options)) return false;\n                if (success) success.call(options.context, model, resp, options);\n                model.trigger('sync', model, resp, options);\n            };\n            wrapError(this, options);\n            return this.sync('read', this, options);\n        },\n\n        // Set a hash of model attributes, and sync the model to the server.\n        // If the server returns an attributes hash that differs, the model's\n        // state will be `set` again.\n        save: function(key, val, options) {\n            // Handle both `\"key\", value` and `{key: value}` -style arguments.\n            var attrs;\n            if (key == null || typeof key === 'object') {\n                attrs = key;\n                options = val;\n            } else {\n                (attrs = {})[key] = val;\n            }\n\n            options = _.extend({validate: true, parse: true}, options);\n            var wait = options.wait;\n\n            // If we're not waiting and attributes exist, save acts as\n            // `set(attr).save(null, opts)` with validation. Otherwise, check if\n            // the model will be valid when the attributes, if any, are set.\n            if (attrs && !wait) {\n                if (!this.set(attrs, options)) return false;\n            } else if (!this._validate(attrs, options)) {\n                return false;\n            }\n\n            // After a successful server-side save, the client is (optionally)\n            // updated with the server-side state.\n            var model = this;\n            var success = options.success;\n            var attributes = this.attributes;\n            options.success = function(resp) {\n                // Ensure attributes are restored during synchronous saves.\n                model.attributes = attributes;\n                var serverAttrs = options.parse ? model.parse(resp, options) : resp;\n                if (wait) serverAttrs = _.extend({}, attrs, serverAttrs);\n                if (serverAttrs && !model.set(serverAttrs, options)) return false;\n                if (success) success.call(options.context, model, resp, options);\n                model.trigger('sync', model, resp, options);\n            };\n            wrapError(this, options);\n\n            // Set temporary attributes if `{wait: true}` to properly find new ids.\n            if (attrs && wait) this.attributes = _.extend({}, attributes, attrs);\n\n            var method = this.isNew() ? 'create' : options.patch ? 'patch' : 'update';\n            if (method === 'patch' && !options.attrs) options.attrs = attrs;\n            var xhr = this.sync(method, this, options);\n\n            // Restore attributes.\n            this.attributes = attributes;\n\n            return xhr;\n        },\n\n        // Destroy this model on the server if it was already persisted.\n        // Optimistically removes the model from its collection, if it has one.\n        // If `wait: true` is passed, waits for the server to respond before removal.\n        destroy: function(options) {\n            options = options ? _.clone(options) : {};\n            var model = this;\n            var success = options.success;\n            var wait = options.wait;\n\n            var destroy = function() {\n                model.stopListening();\n                model.trigger('destroy', model, model.collection, options);\n            };\n\n            options.success = function(resp) {\n                if (wait) destroy();\n                if (success) success.call(options.context, model, resp, options);\n                if (!model.isNew()) model.trigger('sync', model, resp, options);\n            };\n\n            var xhr = false;\n            if (this.isNew()) {\n                _.defer(options.success);\n            } else {\n                wrapError(this, options);\n                xhr = this.sync('delete', this, options);\n            }\n            if (!wait) destroy();\n            return xhr;\n        },\n\n        // Default URL for the model's representation on the server -- if you're\n        // using Backbone's restful methods, override this to change the endpoint\n        // that will be called.\n        url: function() {\n            var base =\n                _.result(this, 'urlRoot') ||\n                _.result(this.collection, 'url') ||\n                urlError();\n            if (this.isNew()) return base;\n            var id = this.get(this.idAttribute);\n            return base.replace(/[^\\/]$/, '$&/') + encodeURIComponent(id);\n        },\n\n        // **parse** converts a response into the hash of attributes to be `set` on\n        // the model. The default implementation is just to pass the response along.\n        parse: function(resp, options) {\n            return resp;\n        },\n\n        // Create a new model with identical attributes to this one.\n        clone: function() {\n            return new this.constructor(this.attributes);\n        },\n\n        // A model is new if it has never been saved to the server, and lacks an id.\n        isNew: function() {\n            return !this.has(this.idAttribute);\n        },\n\n        // Check if the model is currently in a valid state.\n        isValid: function(options) {\n            return this._validate({}, _.extend({}, options, {validate: true}));\n        },\n\n        // Run validation against the next complete set of model attributes,\n        // returning `true` if all is well. Otherwise, fire an `\"invalid\"` event.\n        _validate: function(attrs, options) {\n            if (!options.validate || !this.validate) return true;\n            attrs = _.extend({}, this.attributes, attrs);\n            var error = this.validationError = this.validate(attrs, options) || null;\n            if (!error) return true;\n            this.trigger('invalid', this, error, _.extend(options, {validationError: error}));\n            return false;\n        }\n\n    });\n\n    // Backbone.Collection\n    // -------------------\n\n    // If models tend to represent a single row of data, a Backbone Collection is\n    // more analogous to a table full of data ... or a small slice or page of that\n    // table, or a collection of rows that belong together for a particular reason\n    // -- all of the messages in this particular folder, all of the documents\n    // belonging to this particular author, and so on. Collections maintain\n    // indexes of their models, both in order, and for lookup by `id`.\n\n    // Create a new **Collection**, perhaps to contain a specific type of `model`.\n    // If a `comparator` is specified, the Collection will maintain\n    // its models in sort order, as they're added and removed.\n    var Collection = Backbone.Collection = function(models, options) {\n        options || (options = {});\n        this.preinitialize.apply(this, arguments);\n        if (options.model) this.model = options.model;\n        if (options.comparator !== void 0) this.comparator = options.comparator;\n        this._reset();\n        this.initialize.apply(this, arguments);\n        if (models) this.reset(models, _.extend({silent: true}, options));\n    };\n\n    // Default options for `Collection#set`.\n    var setOptions = {add: true, remove: true, merge: true};\n    var addOptions = {add: true, remove: false};\n\n    // Splices `insert` into `array` at index `at`.\n    var splice = function(array, insert, at) {\n        at = Math.min(Math.max(at, 0), array.length);\n        var tail = Array(array.length - at);\n        var length = insert.length;\n        var i;\n        for (i = 0; i < tail.length; i++) tail[i] = array[i + at];\n        for (i = 0; i < length; i++) array[i + at] = insert[i];\n        for (i = 0; i < tail.length; i++) array[i + length + at] = tail[i];\n    };\n\n    // Define the Collection's inheritable methods.\n    _.extend(Collection.prototype, Events, {\n\n        // The default model for a collection is just a **Backbone.Model**.\n        // This should be overridden in most cases.\n        model: Model,\n\n\n        // preinitialize is an empty function by default. You can override it with a function\n        // or object.  preinitialize will run before any instantiation logic is run in the Collection.\n        preinitialize: function(){},\n\n        // Initialize is an empty function by default. Override it with your own\n        // initialization logic.\n        initialize: function(){},\n\n        // The JSON representation of a Collection is an array of the\n        // models' attributes.\n        toJSON: function(options) {\n            return this.map(function(model) { return model.toJSON(options); });\n        },\n\n        // Proxy `Backbone.sync` by default.\n        sync: function() {\n            return Backbone.sync.apply(this, arguments);\n        },\n\n        // Add a model, or list of models to the set. `models` may be Backbone\n        // Models or raw JavaScript objects to be converted to Models, or any\n        // combination of the two.\n        add: function(models, options) {\n            return this.set(models, _.extend({merge: false}, options, addOptions));\n        },\n\n        // Remove a model, or a list of models from the set.\n        remove: function(models, options) {\n            options = _.extend({}, options);\n            var singular = !_.isArray(models);\n            models = singular ? [models] : models.slice();\n            var removed = this._removeModels(models, options);\n            if (!options.silent && removed.length) {\n                options.changes = {added: [], merged: [], removed: removed};\n                this.trigger('update', this, options);\n            }\n            return singular ? removed[0] : removed;\n        },\n\n        // Update a collection by `set`-ing a new list of models, adding new ones,\n        // removing models that are no longer present, and merging models that\n        // already exist in the collection, as necessary. Similar to **Model#set**,\n        // the core operation for updating the data contained by the collection.\n        set: function(models, options) {\n            if (models == null) return;\n\n            options = _.extend({}, setOptions, options);\n            if (options.parse && !this._isModel(models)) {\n                models = this.parse(models, options) || [];\n            }\n\n            var singular = !_.isArray(models);\n            models = singular ? [models] : models.slice();\n\n            var at = options.at;\n            if (at != null) at = +at;\n            if (at > this.length) at = this.length;\n            if (at < 0) at += this.length + 1;\n\n            var set = [];\n            var toAdd = [];\n            var toMerge = [];\n            var toRemove = [];\n            var modelMap = {};\n\n            var add = options.add;\n            var merge = options.merge;\n            var remove = options.remove;\n\n            var sort = false;\n            var sortable = this.comparator && at == null && options.sort !== false;\n            var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n\n            // Turn bare objects into model references, and prevent invalid models\n            // from being added.\n            var model, i;\n            for (i = 0; i < models.length; i++) {\n                model = models[i];\n\n                // If a duplicate is found, prevent it from being added and\n                // optionally merge it into the existing model.\n                var existing = this.get(model);\n                if (existing) {\n                    if (merge && model !== existing) {\n                        var attrs = this._isModel(model) ? model.attributes : model;\n                        if (options.parse) attrs = existing.parse(attrs, options);\n                        existing.set(attrs, options);\n                        toMerge.push(existing);\n                        if (sortable && !sort) sort = existing.hasChanged(sortAttr);\n                    }\n                    if (!modelMap[existing.cid]) {\n                        modelMap[existing.cid] = true;\n                        set.push(existing);\n                    }\n                    models[i] = existing;\n\n                    // If this is a new, valid model, push it to the `toAdd` list.\n                } else if (add) {\n                    model = models[i] = this._prepareModel(model, options);\n                    if (model) {\n                        toAdd.push(model);\n                        this._addReference(model, options);\n                        modelMap[model.cid] = true;\n                        set.push(model);\n                    }\n                }\n            }\n\n            // Remove stale models.\n            if (remove) {\n                for (i = 0; i < this.length; i++) {\n                    model = this.models[i];\n                    if (!modelMap[model.cid]) toRemove.push(model);\n                }\n                if (toRemove.length) this._removeModels(toRemove, options);\n            }\n\n            // See if sorting is needed, update `length` and splice in new models.\n            var orderChanged = false;\n            var replace = !sortable && add && remove;\n            if (set.length && replace) {\n                orderChanged = this.length !== set.length || _.some(this.models, function(m, index) {\n                    return m !== set[index];\n                });\n                this.models.length = 0;\n                splice(this.models, set, 0);\n                this.length = this.models.length;\n            } else if (toAdd.length) {\n                if (sortable) sort = true;\n                splice(this.models, toAdd, at == null ? this.length : at);\n                this.length = this.models.length;\n            }\n\n            // Silently sort the collection if appropriate.\n            if (sort) this.sort({silent: true});\n\n            // Unless silenced, it's time to fire all appropriate add/sort/update events.\n            if (!options.silent) {\n                for (i = 0; i < toAdd.length; i++) {\n                    if (at != null) options.index = at + i;\n                    model = toAdd[i];\n                    model.trigger('add', model, this, options);\n                }\n                if (sort || orderChanged) this.trigger('sort', this, options);\n                if (toAdd.length || toRemove.length || toMerge.length) {\n                    options.changes = {\n                        added: toAdd,\n                        removed: toRemove,\n                        merged: toMerge\n                    };\n                    this.trigger('update', this, options);\n                }\n            }\n\n            // Return the added (or merged) model (or models).\n            return singular ? models[0] : models;\n        },\n\n        // When you have more items than you want to add or remove individually,\n        // you can reset the entire set with a new list of models, without firing\n        // any granular `add` or `remove` events. Fires `reset` when finished.\n        // Useful for bulk operations and optimizations.\n        reset: function(models, options) {\n            options = options ? _.clone(options) : {};\n            for (var i = 0; i < this.models.length; i++) {\n                this._removeReference(this.models[i], options);\n            }\n            options.previousModels = this.models;\n            this._reset();\n            models = this.add(models, _.extend({silent: true}, options));\n            if (!options.silent) this.trigger('reset', this, options);\n            return models;\n        },\n\n        // Add a model to the end of the collection.\n        push: function(model, options) {\n            return this.add(model, _.extend({at: this.length}, options));\n        },\n\n        // Remove a model from the end of the collection.\n        pop: function(options) {\n            var model = this.at(this.length - 1);\n            return this.remove(model, options);\n        },\n\n        // Add a model to the beginning of the collection.\n        unshift: function(model, options) {\n            return this.add(model, _.extend({at: 0}, options));\n        },\n\n        // Remove a model from the beginning of the collection.\n        shift: function(options) {\n            var model = this.at(0);\n            return this.remove(model, options);\n        },\n\n        // Slice out a sub-array of models from the collection.\n        slice: function() {\n            return slice.apply(this.models, arguments);\n        },\n\n        // Get a model from the set by id, cid, model object with id or cid\n        // properties, or an attributes object that is transformed through modelId.\n        get: function(obj) {\n            if (obj == null) return void 0;\n            return this._byId[obj] ||\n                this._byId[this.modelId(this._isModel(obj) ? obj.attributes : obj)] ||\n                obj.cid && this._byId[obj.cid];\n        },\n\n        // Returns `true` if the model is in the collection.\n        has: function(obj) {\n            return this.get(obj) != null;\n        },\n\n        // Get the model at the given index.\n        at: function(index) {\n            if (index < 0) index += this.length;\n            return this.models[index];\n        },\n\n        // Return models with matching attributes. Useful for simple cases of\n        // `filter`.\n        where: function(attrs, first) {\n            return this[first ? 'find' : 'filter'](attrs);\n        },\n\n        // Return the first model with matching attributes. Useful for simple cases\n        // of `find`.\n        findWhere: function(attrs) {\n            return this.where(attrs, true);\n        },\n\n        // Force the collection to re-sort itself. You don't need to call this under\n        // normal circumstances, as the set will maintain sort order as each item\n        // is added.\n        sort: function(options) {\n            var comparator = this.comparator;\n            if (!comparator) throw new Error('Cannot sort a set without a comparator');\n            options || (options = {});\n\n            var length = comparator.length;\n            if (_.isFunction(comparator)) comparator = comparator.bind(this);\n\n            // Run sort based on type of `comparator`.\n            if (length === 1 || _.isString(comparator)) {\n                this.models = this.sortBy(comparator);\n            } else {\n                this.models.sort(comparator);\n            }\n            if (!options.silent) this.trigger('sort', this, options);\n            return this;\n        },\n\n        // Pluck an attribute from each model in the collection.\n        pluck: function(attr) {\n            return this.map(attr + '');\n        },\n\n        // Fetch the default set of models for this collection, resetting the\n        // collection when they arrive. If `reset: true` is passed, the response\n        // data will be passed through the `reset` method instead of `set`.\n        fetch: function(options) {\n            options = _.extend({parse: true}, options);\n            var success = options.success;\n            var collection = this;\n            options.success = function(resp) {\n                var method = options.reset ? 'reset' : 'set';\n                collection[method](resp, options);\n                if (success) success.call(options.context, collection, resp, options);\n                collection.trigger('sync', collection, resp, options);\n            };\n            wrapError(this, options);\n            return this.sync('read', this, options);\n        },\n\n        // Create a new instance of a model in this collection. Add the model to the\n        // collection immediately, unless `wait: true` is passed, in which case we\n        // wait for the server to agree.\n        create: function(model, options) {\n            options = options ? _.clone(options) : {};\n            var wait = options.wait;\n            model = this._prepareModel(model, options);\n            if (!model) return false;\n            if (!wait) this.add(model, options);\n            var collection = this;\n            var success = options.success;\n            options.success = function(m, resp, callbackOpts) {\n                if (wait) collection.add(m, callbackOpts);\n                if (success) success.call(callbackOpts.context, m, resp, callbackOpts);\n            };\n            model.save(null, options);\n            return model;\n        },\n\n        // **parse** converts a response into a list of models to be added to the\n        // collection. The default implementation is just to pass it through.\n        parse: function(resp, options) {\n            return resp;\n        },\n\n        // Create a new collection with an identical list of models as this one.\n        clone: function() {\n            return new this.constructor(this.models, {\n                model: this.model,\n                comparator: this.comparator\n            });\n        },\n\n        // Define how to uniquely identify models in the collection.\n        modelId: function(attrs) {\n            return attrs[this.model.prototype.idAttribute || 'id'];\n        },\n\n        // Get an iterator of all models in this collection.\n        values: function() {\n            return new CollectionIterator(this, ITERATOR_VALUES);\n        },\n\n        // Get an iterator of all model IDs in this collection.\n        keys: function() {\n            return new CollectionIterator(this, ITERATOR_KEYS);\n        },\n\n        // Get an iterator of all [ID, model] tuples in this collection.\n        entries: function() {\n            return new CollectionIterator(this, ITERATOR_KEYSVALUES);\n        },\n\n        // Private method to reset all internal state. Called when the collection\n        // is first initialized or reset.\n        _reset: function() {\n            this.length = 0;\n            this.models = [];\n            this._byId  = {};\n        },\n\n        // Prepare a hash of attributes (or other model) to be added to this\n        // collection.\n        _prepareModel: function(attrs, options) {\n            if (this._isModel(attrs)) {\n                if (!attrs.collection) attrs.collection = this;\n                return attrs;\n            }\n            options = options ? _.clone(options) : {};\n            options.collection = this;\n            var model = new this.model(attrs, options);\n            if (!model.validationError) return model;\n            this.trigger('invalid', this, model.validationError, options);\n            return false;\n        },\n\n        // Internal method called by both remove and set.\n        _removeModels: function(models, options) {\n            var removed = [];\n            for (var i = 0; i < models.length; i++) {\n                var model = this.get(models[i]);\n                if (!model) continue;\n\n                var index = this.indexOf(model);\n                this.models.splice(index, 1);\n                this.length--;\n\n                // Remove references before triggering 'remove' event to prevent an\n                // infinite loop. #3693\n                delete this._byId[model.cid];\n                var id = this.modelId(model.attributes);\n                if (id != null) delete this._byId[id];\n\n                if (!options.silent) {\n                    options.index = index;\n                    model.trigger('remove', model, this, options);\n                }\n\n                removed.push(model);\n                this._removeReference(model, options);\n            }\n            return removed;\n        },\n\n        // Method for checking whether an object should be considered a model for\n        // the purposes of adding to the collection.\n        _isModel: function(model) {\n            return model instanceof Model;\n        },\n\n        // Internal method to create a model's ties to a collection.\n        _addReference: function(model, options) {\n            this._byId[model.cid] = model;\n            var id = this.modelId(model.attributes);\n            if (id != null) this._byId[id] = model;\n            model.on('all', this._onModelEvent, this);\n        },\n\n        // Internal method to sever a model's ties to a collection.\n        _removeReference: function(model, options) {\n            delete this._byId[model.cid];\n            var id = this.modelId(model.attributes);\n            if (id != null) delete this._byId[id];\n            if (this === model.collection) delete model.collection;\n            model.off('all', this._onModelEvent, this);\n        },\n\n        // Internal method called every time a model in the set fires an event.\n        // Sets need to update their indexes when models change ids. All other\n        // events simply proxy through. \"add\" and \"remove\" events that originate\n        // in other collections are ignored.\n        _onModelEvent: function(event, model, collection, options) {\n            if (model) {\n                if ((event === 'add' || event === 'remove') && collection !== this) return;\n                if (event === 'destroy') this.remove(model, options);\n                if (event === 'change') {\n                    var prevId = this.modelId(model.previousAttributes());\n                    var id = this.modelId(model.attributes);\n                    if (prevId !== id) {\n                        if (prevId != null) delete this._byId[prevId];\n                        if (id != null) this._byId[id] = model;\n                    }\n                }\n            }\n            this.trigger.apply(this, arguments);\n        }\n\n    });\n\n    // Defining an @@iterator method implements JavaScript's Iterable protocol.\n    // In modern ES2015 browsers, this value is found at Symbol.iterator.\n    /* global Symbol */\n    var $$iterator = typeof Symbol === 'function' && Symbol.iterator;\n    if ($$iterator) {\n        Collection.prototype[$$iterator] = Collection.prototype.values;\n    }\n\n    // CollectionIterator\n    // ------------------\n\n    // A CollectionIterator implements JavaScript's Iterator protocol, allowing the\n    // use of `for of` loops in modern browsers and interoperation between\n    // Backbone.Collection and other JavaScript functions and third-party libraries\n    // which can operate on Iterables.\n    var CollectionIterator = function(collection, kind) {\n        this._collection = collection;\n        this._kind = kind;\n        this._index = 0;\n    };\n\n    // This \"enum\" defines the three possible kinds of values which can be emitted\n    // by a CollectionIterator that correspond to the values(), keys() and entries()\n    // methods on Collection, respectively.\n    var ITERATOR_VALUES = 1;\n    var ITERATOR_KEYS = 2;\n    var ITERATOR_KEYSVALUES = 3;\n\n    // All Iterators should themselves be Iterable.\n    if ($$iterator) {\n        CollectionIterator.prototype[$$iterator] = function() {\n            return this;\n        };\n    }\n\n    CollectionIterator.prototype.next = function() {\n        if (this._collection) {\n\n            // Only continue iterating if the iterated collection is long enough.\n            if (this._index < this._collection.length) {\n                var model = this._collection.at(this._index);\n                this._index++;\n\n                // Construct a value depending on what kind of values should be iterated.\n                var value;\n                if (this._kind === ITERATOR_VALUES) {\n                    value = model;\n                } else {\n                    var id = this._collection.modelId(model.attributes);\n                    if (this._kind === ITERATOR_KEYS) {\n                        value = id;\n                    } else { // ITERATOR_KEYSVALUES\n                        value = [id, model];\n                    }\n                }\n                return {value: value, done: false};\n            }\n\n            // Once exhausted, remove the reference to the collection so future\n            // calls to the next method always return done.\n            this._collection = void 0;\n        }\n\n        return {value: void 0, done: true};\n    };\n\n    // Backbone.View\n    // -------------\n\n    // Backbone Views are almost more convention than they are actual code. A View\n    // is simply a JavaScript object that represents a logical chunk of UI in the\n    // DOM. This might be a single item, an entire list, a sidebar or panel, or\n    // even the surrounding frame which wraps your whole app. Defining a chunk of\n    // UI as a **View** allows you to define your DOM events declaratively, without\n    // having to worry about render order ... and makes it easy for the view to\n    // react to specific changes in the state of your models.\n\n    // Creating a Backbone.View creates its initial element outside of the DOM,\n    // if an existing element is not provided...\n    var View = Backbone.View = function(options) {\n        this.cid = _.uniqueId('view');\n        this.preinitialize.apply(this, arguments);\n        _.extend(this, _.pick(options, viewOptions));\n        this._ensureElement();\n        this.initialize.apply(this, arguments);\n    };\n\n    // Cached regex to split keys for `delegate`.\n    var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n    // List of view options to be set as properties.\n    var viewOptions = ['model', 'collection', 'el', 'id', 'attributes', 'className', 'tagName', 'events'];\n\n    // Set up all inheritable **Backbone.View** properties and methods.\n    _.extend(View.prototype, Events, {\n\n        // The default `tagName` of a View's element is `\"div\"`.\n        tagName: 'div',\n\n        // jQuery delegate for element lookup, scoped to DOM elements within the\n        // current view. This should be preferred to global lookups where possible.\n        $: function(selector) {\n            return this.$el.find(selector);\n        },\n\n        // preinitialize is an empty function by default. You can override it with a function\n        // or object.  preinitialize will run before any instantiation logic is run in the View\n        preinitialize: function(){},\n\n        // Initialize is an empty function by default. Override it with your own\n        // initialization logic.\n        initialize: function(){},\n\n        // **render** is the core function that your view should override, in order\n        // to populate its element (`this.el`), with the appropriate HTML. The\n        // convention is for **render** to always return `this`.\n        render: function() {\n            return this;\n        },\n\n        // Remove this view by taking the element out of the DOM, and removing any\n        // applicable Backbone.Events listeners.\n        remove: function() {\n            this._removeElement();\n            this.stopListening();\n            return this;\n        },\n\n        // Remove this view's element from the document and all event listeners\n        // attached to it. Exposed for subclasses using an alternative DOM\n        // manipulation API.\n        _removeElement: function() {\n            this.$el.remove();\n        },\n\n        // Change the view's element (`this.el` property) and re-delegate the\n        // view's events on the new element.\n        setElement: function(element) {\n            this.undelegateEvents();\n            this._setElement(element);\n            this.delegateEvents();\n            return this;\n        },\n\n        // Creates the `this.el` and `this.$el` references for this view using the\n        // given `el`. `el` can be a CSS selector or an HTML string, a jQuery\n        // context or an element. Subclasses can override this to utilize an\n        // alternative DOM manipulation API and are only required to set the\n        // `this.el` property.\n        _setElement: function(el) {\n            this.$el = el instanceof Backbone.$ ? el : Backbone.$(el);\n            this.el = this.$el[0];\n        },\n\n        // Set callbacks, where `this.events` is a hash of\n        //\n        // *{\"event selector\": \"callback\"}*\n        //\n        //     {\n        //       'mousedown .title':  'edit',\n        //       'click .button':     'save',\n        //       'click .open':       function(e) { ... }\n        //     }\n        //\n        // pairs. Callbacks will be bound to the view, with `this` set properly.\n        // Uses event delegation for efficiency.\n        // Omitting the selector binds the event to `this.el`.\n        delegateEvents: function(events) {\n            events || (events = _.result(this, 'events'));\n            if (!events) return this;\n            this.undelegateEvents();\n            for (var key in events) {\n                var method = events[key];\n                if (!_.isFunction(method)) method = this[method];\n                if (!method) continue;\n                var match = key.match(delegateEventSplitter);\n                this.delegate(match[1], match[2], method.bind(this));\n            }\n            return this;\n        },\n\n        // Add a single event listener to the view's element (or a child element\n        // using `selector`). This only works for delegate-able events: not `focus`,\n        // `blur`, and not `change`, `submit`, and `reset` in Internet Explorer.\n        delegate: function(eventName, selector, listener) {\n            this.$el.on(eventName + '.delegateEvents' + this.cid, selector, listener);\n            return this;\n        },\n\n        // Clears all callbacks previously bound to the view by `delegateEvents`.\n        // You usually don't need to use this, but may wish to if you have multiple\n        // Backbone views attached to the same DOM element.\n        undelegateEvents: function() {\n            if (this.$el) this.$el.off('.delegateEvents' + this.cid);\n            return this;\n        },\n\n        // A finer-grained `undelegateEvents` for removing a single delegated event.\n        // `selector` and `listener` are both optional.\n        undelegate: function(eventName, selector, listener) {\n            this.$el.off(eventName + '.delegateEvents' + this.cid, selector, listener);\n            return this;\n        },\n\n        // Produces a DOM element to be assigned to your view. Exposed for\n        // subclasses using an alternative DOM manipulation API.\n        _createElement: function(tagName) {\n            return document.createElement(tagName);\n        },\n\n        // Ensure that the View has a DOM element to render into.\n        // If `this.el` is a string, pass it through `$()`, take the first\n        // matching element, and re-assign it to `el`. Otherwise, create\n        // an element from the `id`, `className` and `tagName` properties.\n        _ensureElement: function() {\n            if (!this.el) {\n                var attrs = _.extend({}, _.result(this, 'attributes'));\n                if (this.id) attrs.id = _.result(this, 'id');\n                if (this.className) attrs['class'] = _.result(this, 'className');\n                this.setElement(this._createElement(_.result(this, 'tagName')));\n                this._setAttributes(attrs);\n            } else {\n                this.setElement(_.result(this, 'el'));\n            }\n        },\n\n        // Set attributes from a hash on this view's element.  Exposed for\n        // subclasses using an alternative DOM manipulation API.\n        _setAttributes: function(attributes) {\n            this.$el.attr(attributes);\n        }\n\n    });\n\n    // Proxy Backbone class methods to Underscore functions, wrapping the model's\n    // `attributes` object or collection's `models` array behind the scenes.\n    //\n    // collection.filter(function(model) { return model.get('age') > 10 });\n    // collection.each(this.addView);\n    //\n    // `Function#apply` can be slow so we use the method's arg count, if we know it.\n    var addMethod = function(base, length, method, attribute) {\n        switch (length) {\n            case 1: return function() {\n                return base[method](this[attribute]);\n            };\n            case 2: return function(value) {\n                return base[method](this[attribute], value);\n            };\n            case 3: return function(iteratee, context) {\n                return base[method](this[attribute], cb(iteratee, this), context);\n            };\n            case 4: return function(iteratee, defaultVal, context) {\n                return base[method](this[attribute], cb(iteratee, this), defaultVal, context);\n            };\n            default: return function() {\n                var args = slice.call(arguments);\n                args.unshift(this[attribute]);\n                return base[method].apply(base, args);\n            };\n        }\n    };\n\n    var addUnderscoreMethods = function(Class, base, methods, attribute) {\n        _.each(methods, function(length, method) {\n            if (base[method]) Class.prototype[method] = addMethod(base, length, method, attribute);\n        });\n    };\n\n    // Support `collection.sortBy('attr')` and `collection.findWhere({id: 1})`.\n    var cb = function(iteratee, instance) {\n        if (_.isFunction(iteratee)) return iteratee;\n        if (_.isObject(iteratee) && !instance._isModel(iteratee)) return modelMatcher(iteratee);\n        if (_.isString(iteratee)) return function(model) { return model.get(iteratee); };\n        return iteratee;\n    };\n    var modelMatcher = function(attrs) {\n        var matcher = _.matches(attrs);\n        return function(model) {\n            return matcher(model.attributes);\n        };\n    };\n\n    // Underscore methods that we want to implement on the Collection.\n    // 90% of the core usefulness of Backbone Collections is actually implemented\n    // right here:\n    var collectionMethods = {forEach: 3, each: 3, map: 3, collect: 3, reduce: 0,\n        foldl: 0, inject: 0, reduceRight: 0, foldr: 0, find: 3, detect: 3, filter: 3,\n        select: 3, reject: 3, every: 3, all: 3, some: 3, any: 3, include: 3, includes: 3,\n        contains: 3, invoke: 0, max: 3, min: 3, toArray: 1, size: 1, first: 3,\n        head: 3, take: 3, initial: 3, rest: 3, tail: 3, drop: 3, last: 3,\n        without: 0, difference: 0, indexOf: 3, shuffle: 1, lastIndexOf: 3,\n        isEmpty: 1, chain: 1, sample: 3, partition: 3, groupBy: 3, countBy: 3,\n        sortBy: 3, indexBy: 3, findIndex: 3, findLastIndex: 3};\n\n\n    // Underscore methods that we want to implement on the Model, mapped to the\n    // number of arguments they take.\n    var modelMethods = {keys: 1, values: 1, pairs: 1, invert: 1, pick: 0,\n        omit: 0, chain: 1, isEmpty: 1};\n\n    // Mix in each Underscore method as a proxy to `Collection#models`.\n\n    _.each([\n        [Collection, collectionMethods, 'models'],\n        [Model, modelMethods, 'attributes']\n    ], function(config) {\n        var Base = config[0],\n            methods = config[1],\n            attribute = config[2];\n\n        Base.mixin = function(obj) {\n            var mappings = _.reduce(_.functions(obj), function(memo, name) {\n                memo[name] = 0;\n                return memo;\n            }, {});\n            addUnderscoreMethods(Base, obj, mappings, attribute);\n        };\n\n        addUnderscoreMethods(Base, _, methods, attribute);\n    });\n\n    // Backbone.sync\n    // -------------\n\n    // Override this function to change the manner in which Backbone persists\n    // models to the server. You will be passed the type of request, and the\n    // model in question. By default, makes a RESTful Ajax request\n    // to the model's `url()`. Some possible customizations could be:\n    //\n    // * Use `setTimeout` to batch rapid-fire updates into a single request.\n    // * Send up the models as XML instead of JSON.\n    // * Persist models via WebSockets instead of Ajax.\n    //\n    // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n    // as `POST`, with a `_method` parameter containing the true HTTP method,\n    // as well as all requests with the body as `application/x-www-form-urlencoded`\n    // instead of `application/json` with the model in a param named `model`.\n    // Useful when interfacing with server-side languages like **PHP** that make\n    // it difficult to read the body of `PUT` requests.\n    Backbone.sync = function(method, model, options) {\n        var type = methodMap[method];\n\n        // Default options, unless specified.\n        _.defaults(options || (options = {}), {\n            emulateHTTP: Backbone.emulateHTTP,\n            emulateJSON: Backbone.emulateJSON\n        });\n\n        // Default JSON-request options.\n        var params = {type: type, dataType: 'json'};\n\n        // Ensure that we have a URL.\n        if (!options.url) {\n            params.url = _.result(model, 'url') || urlError();\n        }\n\n        // Ensure that we have the appropriate request data.\n        if (options.data == null && model && (method === 'create' || method === 'update' || method === 'patch')) {\n            params.contentType = 'application/json';\n            params.data = JSON.stringify(options.attrs || model.toJSON(options));\n        }\n\n        // For older servers, emulate JSON by encoding the request into an HTML-form.\n        if (options.emulateJSON) {\n            params.contentType = 'application/x-www-form-urlencoded';\n            params.data = params.data ? {model: params.data} : {};\n        }\n\n        // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n        // And an `X-HTTP-Method-Override` header.\n        if (options.emulateHTTP && (type === 'PUT' || type === 'DELETE' || type === 'PATCH')) {\n            params.type = 'POST';\n            if (options.emulateJSON) params.data._method = type;\n            var beforeSend = options.beforeSend;\n            options.beforeSend = function(xhr) {\n                xhr.setRequestHeader('X-HTTP-Method-Override', type);\n                if (beforeSend) return beforeSend.apply(this, arguments);\n            };\n        }\n\n        // Don't process data on a non-GET request.\n        if (params.type !== 'GET' && !options.emulateJSON) {\n            params.processData = false;\n        }\n\n        // Pass along `textStatus` and `errorThrown` from jQuery.\n        var error = options.error;\n        options.error = function(xhr, textStatus, errorThrown) {\n            options.textStatus = textStatus;\n            options.errorThrown = errorThrown;\n            if (error) error.call(options.context, xhr, textStatus, errorThrown);\n        };\n\n        // Make the request, allowing the user to override any Ajax options.\n        var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n        model.trigger('request', model, xhr, options);\n        return xhr;\n    };\n\n    // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n    var methodMap = {\n        create: 'POST',\n        update: 'PUT',\n        patch: 'PATCH',\n        delete: 'DELETE',\n        read: 'GET'\n    };\n\n    // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n    // Override this if you'd like to use a different library.\n    Backbone.ajax = function() {\n        return Backbone.$.ajax.apply(Backbone.$, arguments);\n    };\n\n    // Backbone.Router\n    // ---------------\n\n    // Routers map faux-URLs to actions, and fire events when routes are\n    // matched. Creating a new one sets its `routes` hash, if not set statically.\n    var Router = Backbone.Router = function(options) {\n        options || (options = {});\n        this.preinitialize.apply(this, arguments);\n        if (options.routes) this.routes = options.routes;\n        this._bindRoutes();\n        this.initialize.apply(this, arguments);\n    };\n\n    // Cached regular expressions for matching named param parts and splatted\n    // parts of route strings.\n    var optionalParam = /\\((.*?)\\)/g;\n    var namedParam    = /(\\(\\?)?:\\w+/g;\n    var splatParam    = /\\*\\w+/g;\n    var escapeRegExp  = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n    // Set up all inheritable **Backbone.Router** properties and methods.\n    _.extend(Router.prototype, Events, {\n\n        // preinitialize is an empty function by default. You can override it with a function\n        // or object.  preinitialize will run before any instantiation logic is run in the Router.\n        preinitialize: function(){},\n\n        // Initialize is an empty function by default. Override it with your own\n        // initialization logic.\n        initialize: function(){},\n\n        // Manually bind a single named route to a callback. For example:\n        //\n        //     this.route('search/:query/p:num', 'search', function(query, num) {\n        //       ...\n        //     });\n        //\n        route: function(route, name, callback) {\n            if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n            if (_.isFunction(name)) {\n                callback = name;\n                name = '';\n            }\n            if (!callback) callback = this[name];\n            var router = this;\n            Backbone.history.route(route, function(fragment) {\n                var args = router._extractParameters(route, fragment);\n                if (router.execute(callback, args, name) !== false) {\n                    router.trigger.apply(router, ['route:' + name].concat(args));\n                    router.trigger('route', name, args);\n                    Backbone.history.trigger('route', router, name, args);\n                }\n            });\n            return this;\n        },\n\n        // Execute a route handler with the provided parameters.  This is an\n        // excellent place to do pre-route setup or post-route cleanup.\n        execute: function(callback, args, name) {\n            if (callback) callback.apply(this, args);\n        },\n\n        // Simple proxy to `Backbone.history` to save a fragment into the history.\n        navigate: function(fragment, options) {\n            Backbone.history.navigate(fragment, options);\n            return this;\n        },\n\n        // Bind all defined routes to `Backbone.history`. We have to reverse the\n        // order of the routes here to support behavior where the most general\n        // routes can be defined at the bottom of the route map.\n        _bindRoutes: function() {\n            if (!this.routes) return;\n            this.routes = _.result(this, 'routes');\n            var route, routes = _.keys(this.routes);\n            while ((route = routes.pop()) != null) {\n                this.route(route, this.routes[route]);\n            }\n        },\n\n        // Convert a route string into a regular expression, suitable for matching\n        // against the current location hash.\n        _routeToRegExp: function(route) {\n            route = route.replace(escapeRegExp, '\\\\$&')\n                .replace(optionalParam, '(?:$1)?')\n                .replace(namedParam, function(match, optional) {\n                    return optional ? match : '([^/?]+)';\n                })\n                .replace(splatParam, '([^?]*?)');\n            return new RegExp('^' + route + '(?:\\\\?([\\\\s\\\\S]*))?$');\n        },\n\n        // Given a route, and a URL fragment that it matches, return the array of\n        // extracted decoded parameters. Empty or unmatched parameters will be\n        // treated as `null` to normalize cross-browser behavior.\n        _extractParameters: function(route, fragment) {\n            var params = route.exec(fragment).slice(1);\n            return _.map(params, function(param, i) {\n                // Don't decode the search params.\n                if (i === params.length - 1) return param || null;\n                return param ? decodeURIComponent(param) : null;\n            });\n        }\n\n    });\n\n    // Backbone.History\n    // ----------------\n\n    // Handles cross-browser history management, based on either\n    // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n    // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n    // and URL fragments. If the browser supports neither (old IE, natch),\n    // falls back to polling.\n    var History = Backbone.History = function() {\n        this.handlers = [];\n        this.checkUrl = this.checkUrl.bind(this);\n\n        // Ensure that `History` can be used outside of the browser.\n        if (typeof window !== 'undefined') {\n            this.location = window.location;\n            this.history = window.history;\n        }\n    };\n\n    // Cached regex for stripping a leading hash/slash and trailing space.\n    var routeStripper = /^[#\\/]|\\s+$/g;\n\n    // Cached regex for stripping leading and trailing slashes.\n    var rootStripper = /^\\/+|\\/+$/g;\n\n    // Cached regex for stripping urls of hash.\n    var pathStripper = /#.*$/;\n\n    // Has the history handling already been started?\n    History.started = false;\n\n    // Set up all inheritable **Backbone.History** properties and methods.\n    _.extend(History.prototype, Events, {\n\n        // The default interval to poll for hash changes, if necessary, is\n        // twenty times a second.\n        interval: 50,\n\n        // Are we at the app root?\n        atRoot: function() {\n            var path = this.location.pathname.replace(/[^\\/]$/, '$&/');\n            return path === this.root && !this.getSearch();\n        },\n\n        // Does the pathname match the root?\n        matchRoot: function() {\n            var path = this.decodeFragment(this.location.pathname);\n            var rootPath = path.slice(0, this.root.length - 1) + '/';\n            return rootPath === this.root;\n        },\n\n        // Unicode characters in `location.pathname` are percent encoded so they're\n        // decoded for comparison. `%25` should not be decoded since it may be part\n        // of an encoded parameter.\n        decodeFragment: function(fragment) {\n            return decodeURI(fragment.replace(/%25/g, '%2525'));\n        },\n\n        // In IE6, the hash fragment and search params are incorrect if the\n        // fragment contains `?`.\n        getSearch: function() {\n            var match = this.location.href.replace(/#.*/, '').match(/\\?.+/);\n            return match ? match[0] : '';\n        },\n\n        // Gets the true hash value. Cannot use location.hash directly due to bug\n        // in Firefox where location.hash will always be decoded.\n        getHash: function(window) {\n            var match = (window || this).location.href.match(/#(.*)$/);\n            return match ? match[1] : '';\n        },\n\n        // Get the pathname and search params, without the root.\n        getPath: function() {\n            var path = this.decodeFragment(\n                this.location.pathname + this.getSearch()\n            ).slice(this.root.length - 1);\n            return path.charAt(0) === '/' ? path.slice(1) : path;\n        },\n\n        // Get the cross-browser normalized URL fragment from the path or hash.\n        getFragment: function(fragment) {\n            if (fragment == null) {\n                if (this._usePushState || !this._wantsHashChange) {\n                    fragment = this.getPath();\n                } else {\n                    fragment = this.getHash();\n                }\n            }\n            return fragment.replace(routeStripper, '');\n        },\n\n        // Start the hash change handling, returning `true` if the current URL matches\n        // an existing route, and `false` otherwise.\n        start: function(options) {\n            if (History.started) throw new Error('Backbone.history has already been started');\n            History.started = true;\n\n            // Figure out the initial configuration. Do we need an iframe?\n            // Is pushState desired ... is it available?\n            this.options          = _.extend({root: '/'}, this.options, options);\n            this.root             = this.options.root;\n            this._wantsHashChange = this.options.hashChange !== false;\n            this._hasHashChange   = 'onhashchange' in window && (document.documentMode === void 0 || document.documentMode > 7);\n            this._useHashChange   = this._wantsHashChange && this._hasHashChange;\n            this._wantsPushState  = !!this.options.pushState;\n            this._hasPushState    = !!(this.history && this.history.pushState);\n            this._usePushState    = this._wantsPushState && this._hasPushState;\n            this.fragment         = this.getFragment();\n\n            // Normalize root to always include a leading and trailing slash.\n            this.root = ('/' + this.root + '/').replace(rootStripper, '/');\n\n            // Transition from hashChange to pushState or vice versa if both are\n            // requested.\n            if (this._wantsHashChange && this._wantsPushState) {\n\n                // If we've started off with a route from a `pushState`-enabled\n                // browser, but we're currently in a browser that doesn't support it...\n                if (!this._hasPushState && !this.atRoot()) {\n                    var rootPath = this.root.slice(0, -1) || '/';\n                    this.location.replace(rootPath + '#' + this.getPath());\n                    // Return immediately as browser will do redirect to new url\n                    return true;\n\n                    // Or if we've started out with a hash-based route, but we're currently\n                    // in a browser where it could be `pushState`-based instead...\n                } else if (this._hasPushState && this.atRoot()) {\n                    this.navigate(this.getHash(), {replace: true});\n                }\n\n            }\n\n            // Proxy an iframe to handle location events if the browser doesn't\n            // support the `hashchange` event, HTML5 history, or the user wants\n            // `hashChange` but not `pushState`.\n            if (!this._hasHashChange && this._wantsHashChange && !this._usePushState) {\n                this.iframe = document.createElement('iframe');\n                this.iframe.src = 'javascript:0';\n                this.iframe.style.display = 'none';\n                this.iframe.tabIndex = -1;\n                var body = document.body;\n                // Using `appendChild` will throw on IE < 9 if the document is not ready.\n                var iWindow = body.insertBefore(this.iframe, body.firstChild).contentWindow;\n                iWindow.document.open();\n                iWindow.document.close();\n                iWindow.location.hash = '#' + this.fragment;\n            }\n\n            // Add a cross-platform `addEventListener` shim for older browsers.\n            var addEventListener = window.addEventListener || function(eventName, listener) {\n                return attachEvent('on' + eventName, listener);\n            };\n\n            // Depending on whether we're using pushState or hashes, and whether\n            // 'onhashchange' is supported, determine how we check the URL state.\n            if (this._usePushState) {\n                addEventListener('popstate', this.checkUrl, false);\n            } else if (this._useHashChange && !this.iframe) {\n                addEventListener('hashchange', this.checkUrl, false);\n            } else if (this._wantsHashChange) {\n                this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n            }\n\n            if (!this.options.silent) return this.loadUrl();\n        },\n\n        // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n        // but possibly useful for unit testing Routers.\n        stop: function() {\n            // Add a cross-platform `removeEventListener` shim for older browsers.\n            var removeEventListener = window.removeEventListener || function(eventName, listener) {\n                return detachEvent('on' + eventName, listener);\n            };\n\n            // Remove window listeners.\n            if (this._usePushState) {\n                removeEventListener('popstate', this.checkUrl, false);\n            } else if (this._useHashChange && !this.iframe) {\n                removeEventListener('hashchange', this.checkUrl, false);\n            }\n\n            // Clean up the iframe if necessary.\n            if (this.iframe) {\n                document.body.removeChild(this.iframe);\n                this.iframe = null;\n            }\n\n            // Some environments will throw when clearing an undefined interval.\n            if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);\n            History.started = false;\n        },\n\n        // Add a route to be tested when the fragment changes. Routes added later\n        // may override previous routes.\n        route: function(route, callback) {\n            this.handlers.unshift({route: route, callback: callback});\n        },\n\n        // Checks the current URL to see if it has changed, and if it has,\n        // calls `loadUrl`, normalizing across the hidden iframe.\n        checkUrl: function(e) {\n            var current = this.getFragment();\n\n            // If the user pressed the back button, the iframe's hash will have\n            // changed and we should use that for comparison.\n            if (current === this.fragment && this.iframe) {\n                current = this.getHash(this.iframe.contentWindow);\n            }\n\n            if (current === this.fragment) return false;\n            if (this.iframe) this.navigate(current);\n            this.loadUrl();\n        },\n\n        // Attempt to load the current URL fragment. If a route succeeds with a\n        // match, returns `true`. If no defined routes matches the fragment,\n        // returns `false`.\n        loadUrl: function(fragment) {\n            // If the root doesn't match, no routes can match either.\n            if (!this.matchRoot()) return false;\n            fragment = this.fragment = this.getFragment(fragment);\n            return _.some(this.handlers, function(handler) {\n                if (handler.route.test(fragment)) {\n                    handler.callback(fragment);\n                    return true;\n                }\n            });\n        },\n\n        // Save a fragment into the hash history, or replace the URL state if the\n        // 'replace' option is passed. You are responsible for properly URL-encoding\n        // the fragment in advance.\n        //\n        // The options object can contain `trigger: true` if you wish to have the\n        // route callback be fired (not usually desirable), or `replace: true`, if\n        // you wish to modify the current URL without adding an entry to the history.\n        navigate: function(fragment, options) {\n            if (!History.started) return false;\n            if (!options || options === true) options = {trigger: !!options};\n\n            // Normalize the fragment.\n            fragment = this.getFragment(fragment || '');\n\n            // Don't include a trailing slash on the root.\n            var rootPath = this.root;\n            if (fragment === '' || fragment.charAt(0) === '?') {\n                rootPath = rootPath.slice(0, -1) || '/';\n            }\n            var url = rootPath + fragment;\n\n            // Strip the fragment of the query and hash for matching.\n            fragment = fragment.replace(pathStripper, '');\n\n            // Decode for matching.\n            var decodedFragment = this.decodeFragment(fragment);\n\n            if (this.fragment === decodedFragment) return;\n            this.fragment = decodedFragment;\n\n            // If pushState is available, we use it to set the fragment as a real URL.\n            if (this._usePushState) {\n                this.history[options.replace ? 'replaceState' : 'pushState']({}, document.title, url);\n\n                // If hash changes haven't been explicitly disabled, update the hash\n                // fragment to store history.\n            } else if (this._wantsHashChange) {\n                this._updateHash(this.location, fragment, options.replace);\n                if (this.iframe && fragment !== this.getHash(this.iframe.contentWindow)) {\n                    var iWindow = this.iframe.contentWindow;\n\n                    // Opening and closing the iframe tricks IE7 and earlier to push a\n                    // history entry on hash-tag change.  When replace is true, we don't\n                    // want this.\n                    if (!options.replace) {\n                        iWindow.document.open();\n                        iWindow.document.close();\n                    }\n\n                    this._updateHash(iWindow.location, fragment, options.replace);\n                }\n\n                // If you've told us that you explicitly don't want fallback hashchange-\n                // based history, then `navigate` becomes a page refresh.\n            } else {\n                return this.location.assign(url);\n            }\n            if (options.trigger) return this.loadUrl(fragment);\n        },\n\n        // Update the hash location, either replacing the current entry, or adding\n        // a new one to the browser history.\n        _updateHash: function(location, fragment, replace) {\n            if (replace) {\n                var href = location.href.replace(/(javascript:|#).*$/, '');\n                location.replace(href + '#' + fragment);\n            } else {\n                // Some browsers require that `hash` contains a leading #.\n                location.hash = '#' + fragment;\n            }\n        }\n\n    });\n\n    // Create the default Backbone.history.\n    Backbone.history = new History;\n\n    // Helpers\n    // -------\n\n    // Helper function to correctly set up the prototype chain for subclasses.\n    // Similar to `goog.inherits`, but uses a hash of prototype properties and\n    // class properties to be extended.\n    var extend = function(protoProps, staticProps) {\n        var parent = this;\n        var child;\n\n        // The constructor function for the new subclass is either defined by you\n        // (the \"constructor\" property in your `extend` definition), or defaulted\n        // by us to simply call the parent constructor.\n        if (protoProps && _.has(protoProps, 'constructor')) {\n            child = protoProps.constructor;\n        } else {\n            child = function(){ return parent.apply(this, arguments); };\n        }\n\n        // Add static properties to the constructor function, if supplied.\n        _.extend(child, parent, staticProps);\n\n        // Set the prototype chain to inherit from `parent`, without calling\n        // `parent`'s constructor function and add the prototype properties.\n        child.prototype = _.create(parent.prototype, protoProps);\n        child.prototype.constructor = child;\n\n        // Set a convenience property in case the parent's prototype is needed\n        // later.\n        child.__super__ = parent.prototype;\n\n        return child;\n    };\n\n    // Set up inheritance for the model, collection, router, view and history.\n    Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;\n\n    // Throw an error when a URL is needed, and none is supplied.\n    var urlError = function() {\n        throw new Error('A \"url\" property or function must be specified');\n    };\n\n    // Wrap an optional error callback with a fallback error event.\n    var wrapError = function(model, options) {\n        var error = options.error;\n        options.error = function(resp) {\n            if (error) error.call(options.context, model, resp, options);\n            model.trigger('error', model, resp, options);\n        };\n    };\n\n    return Backbone;\n});\n","Goomento_PageBuilder/lib/backbone/backbone.marionette.js":"// MarionetteJS (Backbone.Marionette)\n// ----------------------------------\n// v2.4.5\n//\n// Copyright (c)2016 Derick Bailey, Muted Solutions, LLC.\n// Distributed under MIT license\n//\n// http://marionettejs.com\n\n\n/*!\n * Includes BabySitter\n * https://github.com/marionettejs/backbone.babysitter/\n *\n * Includes Wreqr\n * https://github.com/marionettejs/backbone.wreqr/\n */\n\n\n(function(root, factory) {\n\n    /* istanbul ignore next */\n    if (typeof define === 'function' && define.amd) {\n        define(['backbone', 'underscore'], function(Backbone, _) {\n            return (root.Marionette = root.Mn = factory(root, Backbone, _));\n        });\n    } else if (typeof exports !== 'undefined') {\n        var Backbone = require('backbone');\n        var _ = require('underscore');\n        module.exports = factory(root, Backbone, _);\n    } else {\n        root.Marionette = root.Mn = factory(root, root.Backbone, root._);\n    }\n\n}(this, function(root, Backbone, _) {\n    'use strict';\n\n    /* istanbul ignore next */\n    // Backbone.BabySitter\n    // -------------------\n    // v0.1.11\n    //\n    // Copyright (c)2016 Derick Bailey, Muted Solutions, LLC.\n    // Distributed under MIT license\n    //\n    // http://github.com/marionettejs/backbone.babysitter\n    (function(Backbone, _) {\n        \"use strict\";\n        var previousChildViewContainer = Backbone.ChildViewContainer;\n        // BabySitter.ChildViewContainer\n        // -----------------------------\n        //\n        // Provide a container to store, retrieve and\n        // shut down child views.\n        Backbone.ChildViewContainer = function(Backbone, _) {\n            // Container Constructor\n            // ---------------------\n            var Container = function(views) {\n                this._views = {};\n                this._indexByModel = {};\n                this._indexByCustom = {};\n                this._updateLength();\n                _.each(views, this.add, this);\n            };\n            // Container Methods\n            // -----------------\n            _.extend(Container.prototype, {\n                // Add a view to this container. Stores the view\n                // by `cid` and makes it searchable by the model\n                // cid (and model itself). Optionally specify\n                // a custom key to store an retrieve the view.\n                add: function(view, customIndex) {\n                    var viewCid = view.cid;\n                    // store the view\n                    this._views[viewCid] = view;\n                    // index it by model\n                    if (view.model) {\n                        this._indexByModel[view.model.cid] = viewCid;\n                    }\n                    // index by custom\n                    if (customIndex) {\n                        this._indexByCustom[customIndex] = viewCid;\n                    }\n                    this._updateLength();\n                    return this;\n                },\n                // Find a view by the model that was attached to\n                // it. Uses the model's `cid` to find it.\n                findByModel: function(model) {\n                    return this.findByModelCid(model.cid);\n                },\n                // Find a view by the `cid` of the model that was attached to\n                // it. Uses the model's `cid` to find the view `cid` and\n                // retrieve the view using it.\n                findByModelCid: function(modelCid) {\n                    var viewCid = this._indexByModel[modelCid];\n                    return this.findByCid(viewCid);\n                },\n                // Find a view by a custom indexer.\n                findByCustom: function(index) {\n                    var viewCid = this._indexByCustom[index];\n                    return this.findByCid(viewCid);\n                },\n                // Find by index. This is not guaranteed to be a\n                // stable index.\n                findByIndex: function(index) {\n                    return _.values(this._views)[index];\n                },\n                // retrieve a view by its `cid` directly\n                findByCid: function(cid) {\n                    return this._views[cid];\n                },\n                // Remove a view\n                remove: function(view) {\n                    var viewCid = view.cid;\n                    // delete model index\n                    if (view.model) {\n                        delete this._indexByModel[view.model.cid];\n                    }\n                    // delete custom index\n                    _.any(this._indexByCustom, function(cid, key) {\n                        if (cid === viewCid) {\n                            delete this._indexByCustom[key];\n                            return true;\n                        }\n                    }, this);\n                    // remove the view from the container\n                    delete this._views[viewCid];\n                    // update the length\n                    this._updateLength();\n                    return this;\n                },\n                // Call a method on every view in the container,\n                // passing parameters to the call method one at a\n                // time, like `function.call`.\n                call: function(method) {\n                    this.apply(method, _.tail(arguments));\n                },\n                // Apply a method on every view in the container,\n                // passing parameters to the call method one at a\n                // time, like `function.apply`.\n                apply: function(method, args) {\n                    _.each(this._views, function(view) {\n                        if (_.isFunction(view[method])) {\n                            view[method].apply(view, args || []);\n                        }\n                    });\n                },\n                // Update the `.length` attribute on this container\n                _updateLength: function() {\n                    this.length = _.size(this._views);\n                }\n            });\n            // Borrowing this code from Backbone.Collection:\n            // http://backbonejs.org/docs/backbone.html#section-106\n            //\n            // Mix in methods from Underscore, for iteration, and other\n            // collection related features.\n            var methods = [ \"forEach\", \"each\", \"map\", \"find\", \"detect\", \"filter\", \"select\", \"reject\", \"every\", \"all\", \"some\", \"any\", \"include\", \"contains\", \"invoke\", \"toArray\", \"first\", \"initial\", \"rest\", \"last\", \"without\", \"isEmpty\", \"pluck\", \"reduce\" ];\n            _.each(methods, function(method) {\n                Container.prototype[method] = function() {\n                    var views = _.values(this._views);\n                    var args = [ views ].concat(_.toArray(arguments));\n                    return _[method].apply(_, args);\n                };\n            });\n            // return the public API\n            return Container;\n        }(Backbone, _);\n        Backbone.ChildViewContainer.VERSION = \"0.1.11\";\n        Backbone.ChildViewContainer.noConflict = function() {\n            Backbone.ChildViewContainer = previousChildViewContainer;\n            return this;\n        };\n        return Backbone.ChildViewContainer;\n    })(Backbone, _);\n\n    /* istanbul ignore next */\n    // Backbone.Wreqr (Backbone.Marionette)\n    // ----------------------------------\n    // v1.3.6\n    //\n    // Copyright (c)2016 Derick Bailey, Muted Solutions, LLC.\n    // Distributed under MIT license\n    //\n    // http://github.com/marionettejs/backbone.wreqr\n    (function(Backbone, _) {\n        \"use strict\";\n        var previousWreqr = Backbone.Wreqr;\n        var Wreqr = Backbone.Wreqr = {};\n        Backbone.Wreqr.VERSION = \"1.3.6\";\n        Backbone.Wreqr.noConflict = function() {\n            Backbone.Wreqr = previousWreqr;\n            return this;\n        };\n        // Handlers\n        // --------\n        // A registry of functions to call, given a name\n        Wreqr.Handlers = function(Backbone, _) {\n            \"use strict\";\n            // Constructor\n            // -----------\n            var Handlers = function(options) {\n                this.options = options;\n                this._wreqrHandlers = {};\n                if (_.isFunction(this.initialize)) {\n                    this.initialize(options);\n                }\n            };\n            Handlers.extend = Backbone.Model.extend;\n            // Instance Members\n            // ----------------\n            _.extend(Handlers.prototype, Backbone.Events, {\n                // Add multiple handlers using an object literal configuration\n                setHandlers: function(handlers) {\n                    _.each(handlers, function(handler, name) {\n                        var context = null;\n                        if (_.isObject(handler) && !_.isFunction(handler)) {\n                            context = handler.context;\n                            handler = handler.callback;\n                        }\n                        this.setHandler(name, handler, context);\n                    }, this);\n                },\n                // Add a handler for the given name, with an\n                // optional context to run the handler within\n                setHandler: function(name, handler, context) {\n                    var config = {\n                        callback: handler,\n                        context: context\n                    };\n                    this._wreqrHandlers[name] = config;\n                    this.trigger(\"handler:add\", name, handler, context);\n                },\n                // Determine whether or not a handler is registered\n                hasHandler: function(name) {\n                    return !!this._wreqrHandlers[name];\n                },\n                // Get the currently registered handler for\n                // the specified name. Throws an exception if\n                // no handler is found.\n                getHandler: function(name) {\n                    var config = this._wreqrHandlers[name];\n                    if (!config) {\n                        return;\n                    }\n                    return function() {\n                        return config.callback.apply(config.context, arguments);\n                    };\n                },\n                // Remove a handler for the specified name\n                removeHandler: function(name) {\n                    delete this._wreqrHandlers[name];\n                },\n                // Remove all handlers from this registry\n                removeAllHandlers: function() {\n                    this._wreqrHandlers = {};\n                }\n            });\n            return Handlers;\n        }(Backbone, _);\n        // Wreqr.CommandStorage\n        // --------------------\n        //\n        // Store and retrieve commands for execution.\n        Wreqr.CommandStorage = function() {\n            \"use strict\";\n            // Constructor function\n            var CommandStorage = function(options) {\n                this.options = options;\n                this._commands = {};\n                if (_.isFunction(this.initialize)) {\n                    this.initialize(options);\n                }\n            };\n            // Instance methods\n            _.extend(CommandStorage.prototype, Backbone.Events, {\n                // Get an object literal by command name, that contains\n                // the `commandName` and the `instances` of all commands\n                // represented as an array of arguments to process\n                getCommands: function(commandName) {\n                    var commands = this._commands[commandName];\n                    // we don't have it, so add it\n                    if (!commands) {\n                        // build the configuration\n                        commands = {\n                            command: commandName,\n                            instances: []\n                        };\n                        // store it\n                        this._commands[commandName] = commands;\n                    }\n                    return commands;\n                },\n                // Add a command by name, to the storage and store the\n                // args for the command\n                addCommand: function(commandName, args) {\n                    var command = this.getCommands(commandName);\n                    command.instances.push(args);\n                },\n                // Clear all commands for the given `commandName`\n                clearCommands: function(commandName) {\n                    var command = this.getCommands(commandName);\n                    command.instances = [];\n                }\n            });\n            return CommandStorage;\n        }();\n        // Wreqr.Commands\n        // --------------\n        //\n        // A simple command pattern implementation. Register a command\n        // handler and execute it.\n        Wreqr.Commands = function(Wreqr, _) {\n            \"use strict\";\n            return Wreqr.Handlers.extend({\n                // default storage type\n                storageType: Wreqr.CommandStorage,\n                constructor: function(options) {\n                    this.options = options || {};\n                    this._initializeStorage(this.options);\n                    this.on(\"handler:add\", this._executeCommands, this);\n                    Wreqr.Handlers.prototype.constructor.apply(this, arguments);\n                },\n                // Execute a named command with the supplied args\n                execute: function(name) {\n                    name = arguments[0];\n                    var args = _.rest(arguments);\n                    if (this.hasHandler(name)) {\n                        this.getHandler(name).apply(this, args);\n                    } else {\n                        this.storage.addCommand(name, args);\n                    }\n                },\n                // Internal method to handle bulk execution of stored commands\n                _executeCommands: function(name, handler, context) {\n                    var command = this.storage.getCommands(name);\n                    // loop through and execute all the stored command instances\n                    _.each(command.instances, function(args) {\n                        handler.apply(context, args);\n                    });\n                    this.storage.clearCommands(name);\n                },\n                // Internal method to initialize storage either from the type's\n                // `storageType` or the instance `options.storageType`.\n                _initializeStorage: function(options) {\n                    var storage;\n                    var StorageType = options.storageType || this.storageType;\n                    if (_.isFunction(StorageType)) {\n                        storage = new StorageType();\n                    } else {\n                        storage = StorageType;\n                    }\n                    this.storage = storage;\n                }\n            });\n        }(Wreqr, _);\n        // Wreqr.RequestResponse\n        // ---------------------\n        //\n        // A simple request/response implementation. Register a\n        // request handler, and return a response from it\n        Wreqr.RequestResponse = function(Wreqr, _) {\n            \"use strict\";\n            return Wreqr.Handlers.extend({\n                request: function(name) {\n                    if (this.hasHandler(name)) {\n                        return this.getHandler(name).apply(this, _.rest(arguments));\n                    }\n                }\n            });\n        }(Wreqr, _);\n        // Event Aggregator\n        // ----------------\n        // A pub-sub object that can be used to decouple various parts\n        // of an application through event-driven architecture.\n        Wreqr.EventAggregator = function(Backbone, _) {\n            \"use strict\";\n            var EA = function() {};\n            // Copy the `extend` function used by Backbone's classes\n            EA.extend = Backbone.Model.extend;\n            // Copy the basic Backbone.Events on to the event aggregator\n            _.extend(EA.prototype, Backbone.Events);\n            return EA;\n        }(Backbone, _);\n        // Wreqr.Channel\n        // --------------\n        //\n        // An object that wraps the three messaging systems:\n        // EventAggregator, RequestResponse, Commands\n        Wreqr.Channel = function(Wreqr) {\n            \"use strict\";\n            var Channel = function(channelName) {\n                this.vent = new Backbone.Wreqr.EventAggregator();\n                this.reqres = new Backbone.Wreqr.RequestResponse();\n                this.commands = new Backbone.Wreqr.Commands();\n                this.channelName = channelName;\n            };\n            _.extend(Channel.prototype, {\n                // Remove all handlers from the messaging systems of this channel\n                reset: function() {\n                    this.vent.off();\n                    this.vent.stopListening();\n                    this.reqres.removeAllHandlers();\n                    this.commands.removeAllHandlers();\n                    return this;\n                },\n                // Connect a hash of events; one for each messaging system\n                connectEvents: function(hash, context) {\n                    this._connect(\"vent\", hash, context);\n                    return this;\n                },\n                connectCommands: function(hash, context) {\n                    this._connect(\"commands\", hash, context);\n                    return this;\n                },\n                connectRequests: function(hash, context) {\n                    this._connect(\"reqres\", hash, context);\n                    return this;\n                },\n                // Attach the handlers to a given message system `type`\n                _connect: function(type, hash, context) {\n                    if (!hash) {\n                        return;\n                    }\n                    context = context || this;\n                    var method = type === \"vent\" ? \"on\" : \"setHandler\";\n                    _.each(hash, function(fn, eventName) {\n                        this[type][method](eventName, _.bind(fn, context));\n                    }, this);\n                }\n            });\n            return Channel;\n        }(Wreqr);\n        // Wreqr.Radio\n        // --------------\n        //\n        // An object that lets you communicate with many channels.\n        Wreqr.radio = function(Wreqr, _) {\n            \"use strict\";\n            var Radio = function() {\n                this._channels = {};\n                this.vent = {};\n                this.commands = {};\n                this.reqres = {};\n                this._proxyMethods();\n            };\n            _.extend(Radio.prototype, {\n                channel: function(channelName) {\n                    if (!channelName) {\n                        throw new Error(\"Channel must receive a name\");\n                    }\n                    return this._getChannel(channelName);\n                },\n                _getChannel: function(channelName) {\n                    var channel = this._channels[channelName];\n                    if (!channel) {\n                        channel = new Wreqr.Channel(channelName);\n                        this._channels[channelName] = channel;\n                    }\n                    return channel;\n                },\n                _proxyMethods: function() {\n                    _.each([ \"vent\", \"commands\", \"reqres\" ], function(system) {\n                        _.each(messageSystems[system], function(method) {\n                            this[system][method] = proxyMethod(this, system, method);\n                        }, this);\n                    }, this);\n                }\n            });\n            var messageSystems = {\n                vent: [ \"on\", \"off\", \"trigger\", \"once\", \"stopListening\", \"listenTo\", \"listenToOnce\" ],\n                commands: [ \"execute\", \"setHandler\", \"setHandlers\", \"removeHandler\", \"removeAllHandlers\" ],\n                reqres: [ \"request\", \"setHandler\", \"setHandlers\", \"removeHandler\", \"removeAllHandlers\" ]\n            };\n            var proxyMethod = function(radio, system, method) {\n                return function(channelName) {\n                    var messageSystem = radio._getChannel(channelName)[system];\n                    return messageSystem[method].apply(messageSystem, _.rest(arguments));\n                };\n            };\n            return new Radio();\n        }(Wreqr, _);\n        return Backbone.Wreqr;\n    })(Backbone, _);\n\n    var previousMarionette = root.Marionette;\n    var previousMn = root.Mn;\n\n    var Marionette = Backbone.Marionette = {};\n\n    Marionette.VERSION = '2.4.5';\n\n    Marionette.noConflict = function() {\n        root.Marionette = previousMarionette;\n        root.Mn = previousMn;\n        return this;\n    };\n\n    Backbone.Marionette = Marionette;\n\n    // Get the Deferred creator for later use\n    Marionette.Deferred = Backbone.$.Deferred;\n\n    /* jshint unused: false *//* global console */\n\n    // Helpers\n    // -------\n\n    // Marionette.extend\n    // -----------------\n\n    // Borrow the Backbone `extend` method so we can use it as needed\n    Marionette.extend = Backbone.Model.extend;\n\n    // Marionette.isNodeAttached\n    // -------------------------\n\n    // Determine if `el` is a child of the document\n    Marionette.isNodeAttached = function(el) {\n        return Backbone.$.contains(document.documentElement, el);\n    };\n\n    // Merge `keys` from `options` onto `this`\n    Marionette.mergeOptions = function(options, keys) {\n        if (!options) { return; }\n        _.extend(this, _.pick(options, keys));\n    };\n\n    // Marionette.getOption\n    // --------------------\n\n    // Retrieve an object, function or other value from a target\n    // object or its `options`, with `options` taking precedence.\n    Marionette.getOption = function(target, optionName) {\n        if (!target || !optionName) { return; }\n        if (target.options && (target.options[optionName] !== undefined)) {\n            return target.options[optionName];\n        } else {\n            return target[optionName];\n        }\n    };\n\n    // Proxy `Marionette.getOption`\n    Marionette.proxyGetOption = function(optionName) {\n        return Marionette.getOption(this, optionName);\n    };\n\n    // Similar to `_.result`, this is a simple helper\n    // If a function is provided we call it with context\n    // otherwise just return the value. If the value is\n    // undefined return a default value\n    Marionette._getValue = function(value, context, params) {\n        if (_.isFunction(value)) {\n            value = params ? value.apply(context, params) : value.call(context);\n        }\n        return value;\n    };\n\n    // Marionette.normalizeMethods\n    // ----------------------\n\n    // Pass in a mapping of events => functions or function names\n    // and return a mapping of events => functions\n    Marionette.normalizeMethods = function(hash) {\n        return _.reduce(hash, function(normalizedHash, method, name) {\n            if (!_.isFunction(method)) {\n                method = this[method];\n            }\n            if (method) {\n                normalizedHash[name] = method;\n            }\n            return normalizedHash;\n        }, {}, this);\n    };\n\n    // utility method for parsing @ui. syntax strings\n    // into associated selector\n    Marionette.normalizeUIString = function(uiString, ui) {\n        return uiString.replace(/@ui\\.[a-zA-Z-_$0-9]*/g, function(r) {\n            return ui[r.slice(4)];\n        });\n    };\n\n    // allows for the use of the @ui. syntax within\n    // a given key for triggers and events\n    // swaps the @ui with the associated selector.\n    // Returns a new, non-mutated, parsed events hash.\n    Marionette.normalizeUIKeys = function(hash, ui) {\n        return _.reduce(hash, function(memo, val, key) {\n            var normalizedKey = Marionette.normalizeUIString(key, ui);\n            memo[normalizedKey] = val;\n            return memo;\n        }, {});\n    };\n\n    // allows for the use of the @ui. syntax within\n    // a given value for regions\n    // swaps the @ui with the associated selector\n    Marionette.normalizeUIValues = function(hash, ui, properties) {\n        _.each(hash, function(val, key) {\n            if (_.isString(val)) {\n                hash[key] = Marionette.normalizeUIString(val, ui);\n            } else if (_.isObject(val) && _.isArray(properties)) {\n                _.extend(val, Marionette.normalizeUIValues(_.pick(val, properties), ui));\n                /* Value is an object, and we got an array of embedded property names to normalize. */\n                _.each(properties, function(property) {\n                    var propertyVal = val[property];\n                    if (_.isString(propertyVal)) {\n                        val[property] = Marionette.normalizeUIString(propertyVal, ui);\n                    }\n                });\n            }\n        });\n        return hash;\n    };\n\n    // Mix in methods from Underscore, for iteration, and other\n    // collection related features.\n    // Borrowing this code from Backbone.Collection:\n    // http://backbonejs.org/docs/backbone.html#section-121\n    Marionette.actAsCollection = function(object, listProperty) {\n        var methods = ['forEach', 'each', 'map', 'find', 'detect', 'filter',\n            'select', 'reject', 'every', 'all', 'some', 'any', 'include',\n            'contains', 'invoke', 'toArray', 'first', 'initial', 'rest',\n            'last', 'without', 'isEmpty', 'pluck'];\n\n        _.each(methods, function(method) {\n            object[method] = function() {\n                var list = _.values(_.result(this, listProperty));\n                var args = [list].concat(_.toArray(arguments));\n                return _[method].apply(_, args);\n            };\n        });\n    };\n\n    var deprecate = Marionette.deprecate = function(message, test) {\n        if (_.isObject(message)) {\n            message = (\n                message.prev + ' is going to be removed in the future. ' +\n                'Please use ' + message.next + ' instead.' +\n                (message.url ? ' See: ' + message.url : '')\n            );\n        }\n\n        if ((test === undefined || !test) && !deprecate._cache[message]) {\n            deprecate._warn('Deprecation warning: ' + message);\n            deprecate._cache[message] = true;\n        }\n    };\n\n    deprecate._console = typeof console !== 'undefined' ? console : {};\n    deprecate._warn = function() {\n        var warn = deprecate._console.warn || deprecate._console.log || function() {};\n        return warn.apply(deprecate._console, arguments);\n    };\n    deprecate._cache = {};\n\n    /* jshint maxstatements: 14, maxcomplexity: 7 */\n\n    // Trigger Method\n    // --------------\n\n    Marionette._triggerMethod = (function() {\n        // split the event name on the \":\"\n        var splitter = /(^|:)(\\w)/gi;\n\n        // take the event section (\"section1:section2:section3\")\n        // and turn it in to uppercase name\n        function getEventName(match, prefix, eventName) {\n            return eventName.toUpperCase();\n        }\n\n        return function(context, event, args) {\n            var noEventArg = arguments.length < 3;\n            if (noEventArg) {\n                args = event;\n                event = args[0];\n            }\n\n            // get the method name from the event name\n            var methodName = 'on' + event.replace(splitter, getEventName);\n            var method = context[methodName];\n            var result;\n\n            // call the onMethodName if it exists\n            if (_.isFunction(method)) {\n                // pass all args, except the event name\n                result = method.apply(context, noEventArg ? _.rest(args) : args);\n            }\n\n            // trigger the event, if a trigger method exists\n            if (_.isFunction(context.trigger)) {\n                if (noEventArg + args.length > 1) {\n                    context.trigger.apply(context, noEventArg ? args : [event].concat(_.drop(args, 0)));\n                } else {\n                    context.trigger(event);\n                }\n            }\n\n            return result;\n        };\n    })();\n\n    // Trigger an event and/or a corresponding method name. Examples:\n    //\n    // `this.triggerMethod(\"foo\")` will trigger the \"foo\" event and\n    // call the \"onFoo\" method.\n    //\n    // `this.triggerMethod(\"foo:bar\")` will trigger the \"foo:bar\" event and\n    // call the \"onFooBar\" method.\n    Marionette.triggerMethod = function(event) {\n        return Marionette._triggerMethod(this, arguments);\n    };\n\n    // triggerMethodOn invokes triggerMethod on a specific context\n    //\n    // e.g. `Marionette.triggerMethodOn(view, 'show')`\n    // will trigger a \"show\" event or invoke onShow the view.\n    Marionette.triggerMethodOn = function(context) {\n        var fnc = _.isFunction(context.triggerMethod) ?\n            context.triggerMethod :\n            Marionette.triggerMethod;\n\n        return fnc.apply(context, _.rest(arguments));\n    };\n\n    // DOM Refresh\n    // -----------\n\n    // Monitor a view's state, and after it has been rendered and shown\n    // in the DOM, trigger a \"dom:refresh\" event every time it is\n    // re-rendered.\n\n    Marionette.MonitorDOMRefresh = function(view) {\n        if (view._isDomRefreshMonitored) { return; }\n        view._isDomRefreshMonitored = true;\n\n        // track when the view has been shown in the DOM,\n        // using a Marionette.Region (or by other means of triggering \"show\")\n        function handleShow() {\n            view._isShown = true;\n            triggerDOMRefresh();\n        }\n\n        // track when the view has been rendered\n        function handleRender() {\n            view._isRendered = true;\n            triggerDOMRefresh();\n        }\n\n        // Trigger the \"dom:refresh\" event and corresponding \"onDomRefresh\" method\n        function triggerDOMRefresh() {\n            if (view._isShown && view._isRendered && Marionette.isNodeAttached(view.el)) {\n                Marionette.triggerMethodOn(view, 'dom:refresh', view);\n            }\n        }\n\n        view.on({\n            show: handleShow,\n            render: handleRender\n        });\n    };\n\n    /* jshint maxparams: 5 */\n\n    // Bind Entity Events & Unbind Entity Events\n    // -----------------------------------------\n    //\n    // These methods are used to bind/unbind a backbone \"entity\" (e.g. collection/model)\n    // to methods on a target object.\n    //\n    // The first parameter, `target`, must have the Backbone.Events module mixed in.\n    //\n    // The second parameter is the `entity` (Backbone.Model, Backbone.Collection or\n    // any object that has Backbone.Events mixed in) to bind the events from.\n    //\n    // The third parameter is a hash of { \"event:name\": \"eventHandler\" }\n    // configuration. Multiple handlers can be separated by a space. A\n    // function can be supplied instead of a string handler name.\n\n    (function(Marionette) {\n        'use strict';\n\n        // Bind the event to handlers specified as a string of\n        // handler names on the target object\n        function bindFromStrings(target, entity, evt, methods) {\n            var methodNames = methods.split(/\\s+/);\n\n            _.each(methodNames, function(methodName) {\n\n                var method = target[methodName];\n                if (!method) {\n                    throw new Marionette.Error('Method \"' + methodName +\n                        '\" was configured as an event handler, but does not exist.');\n                }\n\n                target.listenTo(entity, evt, method);\n            });\n        }\n\n        // Bind the event to a supplied callback function\n        function bindToFunction(target, entity, evt, method) {\n            target.listenTo(entity, evt, method);\n        }\n\n        // Bind the event to handlers specified as a string of\n        // handler names on the target object\n        function unbindFromStrings(target, entity, evt, methods) {\n            var methodNames = methods.split(/\\s+/);\n\n            _.each(methodNames, function(methodName) {\n                var method = target[methodName];\n                target.stopListening(entity, evt, method);\n            });\n        }\n\n        // Bind the event to a supplied callback function\n        function unbindToFunction(target, entity, evt, method) {\n            target.stopListening(entity, evt, method);\n        }\n\n        // generic looping function\n        function iterateEvents(target, entity, bindings, functionCallback, stringCallback) {\n            if (!entity || !bindings) { return; }\n\n            // type-check bindings\n            if (!_.isObject(bindings)) {\n                throw new Marionette.Error({\n                    message: 'Bindings must be an object or function.',\n                    url: 'marionette.functions.html#marionettebindentityevents'\n                });\n            }\n\n            // allow the bindings to be a function\n            bindings = Marionette._getValue(bindings, target);\n\n            // iterate the bindings and bind them\n            _.each(bindings, function(methods, evt) {\n\n                // allow for a function as the handler,\n                // or a list of event names as a string\n                if (_.isFunction(methods)) {\n                    functionCallback(target, entity, evt, methods);\n                } else {\n                    stringCallback(target, entity, evt, methods);\n                }\n\n            });\n        }\n\n        // Export Public API\n        Marionette.bindEntityEvents = function(target, entity, bindings) {\n            iterateEvents(target, entity, bindings, bindToFunction, bindFromStrings);\n        };\n\n        Marionette.unbindEntityEvents = function(target, entity, bindings) {\n            iterateEvents(target, entity, bindings, unbindToFunction, unbindFromStrings);\n        };\n\n        // Proxy `bindEntityEvents`\n        Marionette.proxyBindEntityEvents = function(entity, bindings) {\n            return Marionette.bindEntityEvents(this, entity, bindings);\n        };\n\n        // Proxy `unbindEntityEvents`\n        Marionette.proxyUnbindEntityEvents = function(entity, bindings) {\n            return Marionette.unbindEntityEvents(this, entity, bindings);\n        };\n    })(Marionette);\n\n\n    // Error\n    // -----\n\n    var errorProps = ['description', 'fileName', 'lineNumber', 'name', 'message', 'number'];\n\n    Marionette.Error = Marionette.extend.call(Error, {\n        urlRoot: 'http://marionettejs.com/docs/v' + Marionette.VERSION + '/',\n\n        constructor: function(message, options) {\n            if (_.isObject(message)) {\n                options = message;\n                message = options.message;\n            } else if (!options) {\n                options = {};\n            }\n\n            var error = Error.call(this, message);\n            _.extend(this, _.pick(error, errorProps), _.pick(options, errorProps));\n\n            this.captureStackTrace();\n\n            if (options.url) {\n                this.url = this.urlRoot + options.url;\n            }\n        },\n\n        captureStackTrace: function() {\n            if (Error.captureStackTrace) {\n                Error.captureStackTrace(this, Marionette.Error);\n            }\n        },\n\n        toString: function() {\n            return this.name + ': ' + this.message + (this.url ? ' See: ' + this.url : '');\n        }\n    });\n\n    Marionette.Error.extend = Marionette.extend;\n\n    // Callbacks\n    // ---------\n\n    // A simple way of managing a collection of callbacks\n    // and executing them at a later point in time, using jQuery's\n    // `Deferred` object.\n    Marionette.Callbacks = function() {\n        this._deferred = Marionette.Deferred();\n        this._callbacks = [];\n    };\n\n    _.extend(Marionette.Callbacks.prototype, {\n\n        // Add a callback to be executed. Callbacks added here are\n        // guaranteed to execute, even if they are added after the\n        // `run` method is called.\n        add: function(callback, contextOverride) {\n            var promise = _.result(this._deferred, 'promise');\n\n            this._callbacks.push({cb: callback, ctx: contextOverride});\n\n            promise.then(function(args) {\n                if (contextOverride) { args.context = contextOverride; }\n                callback.call(args.context, args.options);\n            });\n        },\n\n        // Run all registered callbacks with the context specified.\n        // Additional callbacks can be added after this has been run\n        // and they will still be executed.\n        run: function(options, context) {\n            this._deferred.resolve({\n                options: options,\n                context: context\n            });\n        },\n\n        // Resets the list of callbacks to be run, allowing the same list\n        // to be run multiple times - whenever the `run` method is called.\n        reset: function() {\n            var callbacks = this._callbacks;\n            this._deferred = Marionette.Deferred();\n            this._callbacks = [];\n\n            _.each(callbacks, function(cb) {\n                this.add(cb.cb, cb.ctx);\n            }, this);\n        }\n    });\n\n    // Controller\n    // ----------\n\n    // A multi-purpose object to use as a controller for\n    // modules and routers, and as a mediator for workflow\n    // and coordination of other objects, views, and more.\n    Marionette.Controller = function(options) {\n        this.options = options || {};\n\n        if (_.isFunction(this.initialize)) {\n            this.initialize(this.options);\n        }\n    };\n\n    Marionette.Controller.extend = Marionette.extend;\n\n    // Controller Methods\n    // --------------\n\n    // Ensure it can trigger events with Backbone.Events\n    _.extend(Marionette.Controller.prototype, Backbone.Events, {\n        destroy: function() {\n            Marionette._triggerMethod(this, 'before:destroy', arguments);\n            Marionette._triggerMethod(this, 'destroy', arguments);\n\n            this.stopListening();\n            this.off();\n            return this;\n        },\n\n        // import the `triggerMethod` to trigger events with corresponding\n        // methods if the method exists\n        triggerMethod: Marionette.triggerMethod,\n\n        // A handy way to merge options onto the instance\n        mergeOptions: Marionette.mergeOptions,\n\n        // Proxy `getOption` to enable getting options from this or this.options by name.\n        getOption: Marionette.proxyGetOption\n\n    });\n\n    // Object\n    // ------\n\n    // A Base Class that other Classes should descend from.\n    // Object borrows many conventions and utilities from Backbone.\n    Marionette.Object = function(options) {\n        this.options = _.extend({}, _.result(this, 'options'), options);\n\n        this.initialize.apply(this, arguments);\n    };\n\n    Marionette.Object.extend = Marionette.extend;\n\n    // Object Methods\n    // --------------\n\n    // Ensure it can trigger events with Backbone.Events\n    _.extend(Marionette.Object.prototype, Backbone.Events, {\n\n        //this is a noop method intended to be overridden by classes that extend from this base\n        initialize: function() {},\n\n        destroy: function(options) {\n            options = options || {};\n\n            this.triggerMethod('before:destroy', options);\n            this.triggerMethod('destroy', options);\n            this.stopListening();\n\n            return this;\n        },\n\n        // Import the `triggerMethod` to trigger events with corresponding\n        // methods if the method exists\n        triggerMethod: Marionette.triggerMethod,\n\n        // A handy way to merge options onto the instance\n        mergeOptions: Marionette.mergeOptions,\n\n        // Proxy `getOption` to enable getting options from this or this.options by name.\n        getOption: Marionette.proxyGetOption,\n\n        // Proxy `bindEntityEvents` to enable binding view's events from another entity.\n        bindEntityEvents: Marionette.proxyBindEntityEvents,\n\n        // Proxy `unbindEntityEvents` to enable unbinding view's events from another entity.\n        unbindEntityEvents: Marionette.proxyUnbindEntityEvents\n    });\n\n    /* jshint maxcomplexity: 16, maxstatements: 45, maxlen: 120 */\n\n    // Region\n    // ------\n\n    // Manage the visual regions of your composite application. See\n    // http://lostechies.com/derickbailey/2011/12/12/composite-js-apps-regions-and-region-managers/\n\n    Marionette.Region = Marionette.Object.extend({\n            constructor: function(options) {\n\n                // set options temporarily so that we can get `el`.\n                // options will be overriden by Object.constructor\n                this.options = options || {};\n                this.el = this.getOption('el');\n\n                // Handle when this.el is passed in as a $ wrapped element.\n                this.el = this.el instanceof Backbone.$ ? this.el[0] : this.el;\n\n                if (!this.el) {\n                    throw new Marionette.Error({\n                        name: 'NoElError',\n                        message: 'An \"el\" must be specified for a region.'\n                    });\n                }\n\n                this.$el = this.getEl(this.el);\n                Marionette.Object.call(this, options);\n            },\n\n            // Displays a backbone view instance inside of the region.\n            // Handles calling the `render` method for you. Reads content\n            // directly from the `el` attribute. Also calls an optional\n            // `onShow` and `onDestroy` method on your view, just after showing\n            // or just before destroying the view, respectively.\n            // The `preventDestroy` option can be used to prevent a view from\n            // the old view being destroyed on show.\n            // The `forceShow` option can be used to force a view to be\n            // re-rendered if it's already shown in the region.\n            show: function(view, options) {\n                if (!this._ensureElement()) {\n                    return;\n                }\n\n                this._ensureViewIsIntact(view);\n                Marionette.MonitorDOMRefresh(view);\n\n                var showOptions     = options || {};\n                var isDifferentView = view !== this.currentView;\n                var preventDestroy  = !!showOptions.preventDestroy;\n                var forceShow       = !!showOptions.forceShow;\n\n                // We are only changing the view if there is a current view to change to begin with\n                var isChangingView = !!this.currentView;\n\n                // Only destroy the current view if we don't want to `preventDestroy` and if\n                // the view given in the first argument is different than `currentView`\n                var _shouldDestroyView = isDifferentView && !preventDestroy;\n\n                // Only show the view given in the first argument if it is different than\n                // the current view or if we want to re-show the view. Note that if\n                // `_shouldDestroyView` is true, then `_shouldShowView` is also necessarily true.\n                var _shouldShowView = isDifferentView || forceShow;\n\n                if (isChangingView) {\n                    this.triggerMethod('before:swapOut', this.currentView, this, options);\n                }\n\n                if (this.currentView && isDifferentView) {\n                    delete this.currentView._parent;\n                }\n\n                if (_shouldDestroyView) {\n                    this.empty();\n\n                    // A `destroy` event is attached to the clean up manually removed views.\n                    // We need to detach this event when a new view is going to be shown as it\n                    // is no longer relevant.\n                } else if (isChangingView && _shouldShowView) {\n                    this.currentView.off('destroy', this.empty, this);\n                }\n\n                if (_shouldShowView) {\n\n                    // We need to listen for if a view is destroyed\n                    // in a way other than through the region.\n                    // If this happens we need to remove the reference\n                    // to the currentView since once a view has been destroyed\n                    // we can not reuse it.\n                    view.once('destroy', this.empty, this);\n\n                    // make this region the view's parent,\n                    // It's important that this parent binding happens before rendering\n                    // so that any events the child may trigger during render can also be\n                    // triggered on the child's ancestor views\n                    view._parent = this;\n                    this._renderView(view);\n\n                    if (isChangingView) {\n                        this.triggerMethod('before:swap', view, this, options);\n                    }\n\n                    this.triggerMethod('before:show', view, this, options);\n                    Marionette.triggerMethodOn(view, 'before:show', view, this, options);\n\n                    if (isChangingView) {\n                        this.triggerMethod('swapOut', this.currentView, this, options);\n                    }\n\n                    // An array of views that we're about to display\n                    var attachedRegion = Marionette.isNodeAttached(this.el);\n\n                    // The views that we're about to attach to the document\n                    // It's important that we prevent _getNestedViews from being executed unnecessarily\n                    // as it's a potentially-slow method\n                    var displayedViews = [];\n\n                    var attachOptions = _.extend({\n                        triggerBeforeAttach: this.triggerBeforeAttach,\n                        triggerAttach: this.triggerAttach\n                    }, showOptions);\n\n                    if (attachedRegion && attachOptions.triggerBeforeAttach) {\n                        displayedViews = this._displayedViews(view);\n                        this._triggerAttach(displayedViews, 'before:');\n                    }\n\n                    this.attachHtml(view);\n                    this.currentView = view;\n\n                    if (attachedRegion && attachOptions.triggerAttach) {\n                        displayedViews = this._displayedViews(view);\n                        this._triggerAttach(displayedViews);\n                    }\n\n                    if (isChangingView) {\n                        this.triggerMethod('swap', view, this, options);\n                    }\n\n                    this.triggerMethod('show', view, this, options);\n                    Marionette.triggerMethodOn(view, 'show', view, this, options);\n\n                    return this;\n                }\n\n                return this;\n            },\n\n            triggerBeforeAttach: true,\n            triggerAttach: true,\n\n            _triggerAttach: function(views, prefix) {\n                var eventName = (prefix || '') + 'attach';\n                _.each(views, function(view) {\n                    Marionette.triggerMethodOn(view, eventName, view, this);\n                }, this);\n            },\n\n            _displayedViews: function(view) {\n                return _.union([view], _.result(view, '_getNestedViews') || []);\n            },\n\n            _renderView: function(view) {\n                if (!view.supportsRenderLifecycle) {\n                    Marionette.triggerMethodOn(view, 'before:render', view);\n                }\n                view.render();\n                if (!view.supportsRenderLifecycle) {\n                    Marionette.triggerMethodOn(view, 'render', view);\n                }\n            },\n\n            _ensureElement: function() {\n                if (!_.isObject(this.el)) {\n                    this.$el = this.getEl(this.el);\n                    this.el = this.$el[0];\n                }\n\n                if (!this.$el || this.$el.length === 0) {\n                    if (this.getOption('allowMissingEl')) {\n                        return false;\n                    } else {\n                        throw new Marionette.Error('An \"el\" ' + this.$el.selector + ' must exist in DOM');\n                    }\n                }\n                return true;\n            },\n\n            _ensureViewIsIntact: function(view) {\n                if (!view) {\n                    throw new Marionette.Error({\n                        name: 'ViewNotValid',\n                        message: 'The view passed is undefined and therefore invalid. You must pass a view instance to show.'\n                    });\n                }\n\n                if (view.isDestroyed) {\n                    throw new Marionette.Error({\n                        name: 'ViewDestroyedError',\n                        message: 'View (cid: \"' + view.cid + '\") has already been destroyed and cannot be used.'\n                    });\n                }\n            },\n\n            // Override this method to change how the region finds the DOM\n            // element that it manages. Return a jQuery selector object scoped\n            // to a provided parent el or the document if none exists.\n            getEl: function(el) {\n                return Backbone.$(el, Marionette._getValue(this.options.parentEl, this));\n            },\n\n            // Override this method to change how the new view is\n            // appended to the `$el` that the region is managing\n            attachHtml: function(view) {\n                this.$el.contents().detach();\n\n                this.el.appendChild(view.el);\n            },\n\n            // Destroy the current view, if there is one. If there is no\n            // current view, it does nothing and returns immediately.\n            empty: function(options) {\n                var view = this.currentView;\n\n                var emptyOptions = options || {};\n                var preventDestroy  = !!emptyOptions.preventDestroy;\n                // If there is no view in the region\n                // we should not remove anything\n                if (!view) { return this; }\n\n                view.off('destroy', this.empty, this);\n                this.triggerMethod('before:empty', view);\n                if (!preventDestroy) {\n                    this._destroyView();\n                }\n                this.triggerMethod('empty', view);\n\n                // Remove region pointer to the currentView\n                delete this.currentView;\n\n                if (preventDestroy) {\n                    this.$el.contents().detach();\n                }\n\n                return this;\n            },\n\n            // call 'destroy' or 'remove', depending on which is found\n            // on the view (if showing a raw Backbone view or a Marionette View)\n            _destroyView: function() {\n                var view = this.currentView;\n                if (view.isDestroyed) { return; }\n\n                if (!view.supportsDestroyLifecycle) {\n                    Marionette.triggerMethodOn(view, 'before:destroy', view);\n                }\n                if (view.destroy) {\n                    view.destroy();\n                } else {\n                    view.remove();\n\n                    // appending isDestroyed to raw Backbone View allows regions\n                    // to throw a ViewDestroyedError for this view\n                    view.isDestroyed = true;\n                }\n                if (!view.supportsDestroyLifecycle) {\n                    Marionette.triggerMethodOn(view, 'destroy', view);\n                }\n            },\n\n            // Attach an existing view to the region. This\n            // will not call `render` or `onShow` for the new view,\n            // and will not replace the current HTML for the `el`\n            // of the region.\n            attachView: function(view) {\n                if (this.currentView) {\n                    delete this.currentView._parent;\n                }\n                view._parent = this;\n                this.currentView = view;\n                return this;\n            },\n\n            // Checks whether a view is currently present within\n            // the region. Returns `true` if there is and `false` if\n            // no view is present.\n            hasView: function() {\n                return !!this.currentView;\n            },\n\n            // Reset the region by destroying any existing view and\n            // clearing out the cached `$el`. The next time a view\n            // is shown via this region, the region will re-query the\n            // DOM for the region's `el`.\n            reset: function() {\n                this.empty();\n\n                if (this.$el) {\n                    this.el = this.$el.selector;\n                }\n\n                delete this.$el;\n                return this;\n            }\n\n        },\n\n        // Static Methods\n        {\n\n            // Build an instance of a region by passing in a configuration object\n            // and a default region class to use if none is specified in the config.\n            //\n            // The config object should either be a string as a jQuery DOM selector,\n            // a Region class directly, or an object literal that specifies a selector,\n            // a custom regionClass, and any options to be supplied to the region:\n            //\n            // ```js\n            // {\n            //   selector: \"#foo\",\n            //   regionClass: MyCustomRegion,\n            //   allowMissingEl: false\n            // }\n            // ```\n            //\n            buildRegion: function(regionConfig, DefaultRegionClass) {\n                if (_.isString(regionConfig)) {\n                    return this._buildRegionFromSelector(regionConfig, DefaultRegionClass);\n                }\n\n                if (regionConfig.selector || regionConfig.el || regionConfig.regionClass) {\n                    return this._buildRegionFromObject(regionConfig, DefaultRegionClass);\n                }\n\n                if (_.isFunction(regionConfig)) {\n                    return this._buildRegionFromRegionClass(regionConfig);\n                }\n\n                throw new Marionette.Error({\n                    message: 'Improper region configuration type.',\n                    url: 'marionette.region.html#region-configuration-types'\n                });\n            },\n\n            // Build the region from a string selector like '#foo-region'\n            _buildRegionFromSelector: function(selector, DefaultRegionClass) {\n                return new DefaultRegionClass({el: selector});\n            },\n\n            // Build the region from a configuration object\n            // ```js\n            // { selector: '#foo', regionClass: FooRegion, allowMissingEl: false }\n            // ```\n            _buildRegionFromObject: function(regionConfig, DefaultRegionClass) {\n                var RegionClass = regionConfig.regionClass || DefaultRegionClass;\n                var options = _.omit(regionConfig, 'selector', 'regionClass');\n\n                if (regionConfig.selector && !options.el) {\n                    options.el = regionConfig.selector;\n                }\n\n                return new RegionClass(options);\n            },\n\n            // Build the region directly from a given `RegionClass`\n            _buildRegionFromRegionClass: function(RegionClass) {\n                return new RegionClass();\n            }\n        });\n\n    // Region Manager\n    // --------------\n\n    // Manage one or more related `Marionette.Region` objects.\n    Marionette.RegionManager = Marionette.Controller.extend({\n        constructor: function(options) {\n            this._regions = {};\n            this.length = 0;\n\n            Marionette.Controller.call(this, options);\n\n            this.addRegions(this.getOption('regions'));\n        },\n\n        // Add multiple regions using an object literal or a\n        // function that returns an object literal, where\n        // each key becomes the region name, and each value is\n        // the region definition.\n        addRegions: function(regionDefinitions, defaults) {\n            regionDefinitions = Marionette._getValue(regionDefinitions, this, arguments);\n\n            return _.reduce(regionDefinitions, function(regions, definition, name) {\n                if (_.isString(definition)) {\n                    definition = {selector: definition};\n                }\n                if (definition.selector) {\n                    definition = _.defaults({}, definition, defaults);\n                }\n\n                regions[name] = this.addRegion(name, definition);\n                return regions;\n            }, {}, this);\n        },\n\n        // Add an individual region to the region manager,\n        // and return the region instance\n        addRegion: function(name, definition) {\n            var region;\n\n            if (definition instanceof Marionette.Region) {\n                region = definition;\n            } else {\n                region = Marionette.Region.buildRegion(definition, Marionette.Region);\n            }\n\n            this.triggerMethod('before:add:region', name, region);\n\n            region._parent = this;\n            this._store(name, region);\n\n            this.triggerMethod('add:region', name, region);\n            return region;\n        },\n\n        // Get a region by name\n        get: function(name) {\n            return this._regions[name];\n        },\n\n        // Gets all the regions contained within\n        // the `regionManager` instance.\n        getRegions: function() {\n            return _.clone(this._regions);\n        },\n\n        // Remove a region by name\n        removeRegion: function(name) {\n            var region = this._regions[name];\n            this._remove(name, region);\n\n            return region;\n        },\n\n        // Empty all regions in the region manager, and\n        // remove them\n        removeRegions: function() {\n            var regions = this.getRegions();\n            _.each(this._regions, function(region, name) {\n                this._remove(name, region);\n            }, this);\n\n            return regions;\n        },\n\n        // Empty all regions in the region manager, but\n        // leave them attached\n        emptyRegions: function() {\n            var regions = this.getRegions();\n            _.invoke(regions, 'empty');\n            return regions;\n        },\n\n        // Destroy all regions and shut down the region\n        // manager entirely\n        destroy: function() {\n            this.removeRegions();\n            return Marionette.Controller.prototype.destroy.apply(this, arguments);\n        },\n\n        // internal method to store regions\n        _store: function(name, region) {\n            if (!this._regions[name]) {\n                this.length++;\n            }\n\n            this._regions[name] = region;\n        },\n\n        // internal method to remove a region\n        _remove: function(name, region) {\n            this.triggerMethod('before:remove:region', name, region);\n            region.empty();\n            region.stopListening();\n\n            delete region._parent;\n            delete this._regions[name];\n            this.length--;\n            this.triggerMethod('remove:region', name, region);\n        }\n    });\n\n    Marionette.actAsCollection(Marionette.RegionManager.prototype, '_regions');\n\n\n    // Template Cache\n    // --------------\n\n    // Manage templates stored in `<script>` blocks,\n    // caching them for faster access.\n    Marionette.TemplateCache = function(templateId) {\n        this.templateId = templateId;\n    };\n\n    // TemplateCache object-level methods. Manage the template\n    // caches from these method calls instead of creating\n    // your own TemplateCache instances\n    _.extend(Marionette.TemplateCache, {\n        templateCaches: {},\n\n        // Get the specified template by id. Either\n        // retrieves the cached version, or loads it\n        // from the DOM.\n        get: function(templateId, options) {\n            var cachedTemplate = this.templateCaches[templateId];\n\n            if (!cachedTemplate) {\n                cachedTemplate = new Marionette.TemplateCache(templateId);\n                this.templateCaches[templateId] = cachedTemplate;\n            }\n\n            return cachedTemplate.load(options);\n        },\n\n        // Clear templates from the cache. If no arguments\n        // are specified, clears all templates:\n        // `clear()`\n        //\n        // If arguments are specified, clears each of the\n        // specified templates from the cache:\n        // `clear(\"#t1\", \"#t2\", \"...\")`\n        clear: function() {\n            var i;\n            var args = _.toArray(arguments);\n            var length = args.length;\n\n            if (length > 0) {\n                for (i = 0; i < length; i++) {\n                    delete this.templateCaches[args[i]];\n                }\n            } else {\n                this.templateCaches = {};\n            }\n        }\n    });\n\n    // TemplateCache instance methods, allowing each\n    // template cache object to manage its own state\n    // and know whether or not it has been loaded\n    _.extend(Marionette.TemplateCache.prototype, {\n\n        // Internal method to load the template\n        load: function(options) {\n            // Guard clause to prevent loading this template more than once\n            if (this.compiledTemplate) {\n                return this.compiledTemplate;\n            }\n\n            // Load the template and compile it\n            var template = this.loadTemplate(this.templateId, options);\n            this.compiledTemplate = this.compileTemplate(template, options);\n\n            return this.compiledTemplate;\n        },\n\n        // Load a template from the DOM, by default. Override\n        // this method to provide your own template retrieval\n        // For asynchronous loading with AMD/RequireJS, consider\n        // using a template-loader plugin as described here:\n        // https://github.com/marionettejs/backbone.marionette/wiki/Using-marionette-with-requirejs\n        loadTemplate: function(templateId, options) {\n            var $template = Backbone.$(templateId);\n\n            if (!$template.length) {\n                throw new Marionette.Error({\n                    name: 'NoTemplateError',\n                    message: 'Could not find template: \"' + templateId + '\"'\n                });\n            }\n            return $template.html();\n        },\n\n        // Pre-compile the template before caching it. Override\n        // this method if you do not need to pre-compile a template\n        // (JST / RequireJS for example) or if you want to change\n        // the template engine used (Handebars, etc).\n        compileTemplate: function(rawTemplate, options) {\n            return _.template(rawTemplate, options);\n        }\n    });\n\n    // Renderer\n    // --------\n\n    // Render a template with data by passing in the template\n    // selector and the data to render.\n    Marionette.Renderer = {\n\n        // Render a template with data. The `template` parameter is\n        // passed to the `TemplateCache` object to retrieve the\n        // template function. Override this method to provide your own\n        // custom rendering and template handling for all of Marionette.\n        render: function(template, data) {\n            if (!template) {\n                throw new Marionette.Error({\n                    name: 'TemplateNotFoundError',\n                    message: 'Cannot render the template since its false, null or undefined.'\n                });\n            }\n\n            var templateFunc = _.isFunction(template) ? template : Marionette.TemplateCache.get(template);\n\n            return templateFunc(data);\n        }\n    };\n\n\n    /* jshint maxlen: 114, nonew: false */\n    // View\n    // ----\n\n    // The core view class that other Marionette views extend from.\n    Marionette.View = Backbone.View.extend({\n        isDestroyed: false,\n        supportsRenderLifecycle: true,\n        supportsDestroyLifecycle: true,\n\n        constructor: function(options) {\n            this.render = _.bind(this.render, this);\n\n            options = Marionette._getValue(options, this);\n\n            // this exposes view options to the view initializer\n            // this is a backfill since backbone removed the assignment\n            // of this.options\n            // at some point however this may be removed\n            this.options = _.extend({}, _.result(this, 'options'), options);\n\n            this._behaviors = Marionette.Behaviors(this);\n\n            Backbone.View.call(this, this.options);\n\n            Marionette.MonitorDOMRefresh(this);\n        },\n\n        // Get the template for this view\n        // instance. You can set a `template` attribute in the view\n        // definition or pass a `template: \"whatever\"` parameter in\n        // to the constructor options.\n        getTemplate: function() {\n            return this.getOption('template');\n        },\n\n        // Serialize a model by returning its attributes. Clones\n        // the attributes to allow modification.\n        serializeModel: function(model) {\n            return model.toJSON.apply(model, _.rest(arguments));\n        },\n\n        // Mix in template helper methods. Looks for a\n        // `templateHelpers` attribute, which can either be an\n        // object literal, or a function that returns an object\n        // literal. All methods and attributes from this object\n        // are copies to the object passed in.\n        mixinTemplateHelpers: function(target) {\n            target = target || {};\n            var templateHelpers = this.getOption('templateHelpers');\n            templateHelpers = Marionette._getValue(templateHelpers, this);\n            return _.extend(target, templateHelpers);\n        },\n\n        // normalize the keys of passed hash with the views `ui` selectors.\n        // `{\"@ui.foo\": \"bar\"}`\n        normalizeUIKeys: function(hash) {\n            var uiBindings = _.result(this, '_uiBindings');\n            return Marionette.normalizeUIKeys(hash, uiBindings || _.result(this, 'ui'));\n        },\n\n        // normalize the values of passed hash with the views `ui` selectors.\n        // `{foo: \"@ui.bar\"}`\n        normalizeUIValues: function(hash, properties) {\n            var ui = _.result(this, 'ui');\n            var uiBindings = _.result(this, '_uiBindings');\n            return Marionette.normalizeUIValues(hash, uiBindings || ui, properties);\n        },\n\n        // Configure `triggers` to forward DOM events to view\n        // events. `triggers: {\"click .foo\": \"do:foo\"}`\n        configureTriggers: function() {\n            if (!this.triggers) { return; }\n\n            // Allow `triggers` to be configured as a function\n            var triggers = this.normalizeUIKeys(_.result(this, 'triggers'));\n\n            // Configure the triggers, prevent default\n            // action and stop propagation of DOM events\n            return _.reduce(triggers, function(events, value, key) {\n                events[key] = this._buildViewTrigger(value);\n                return events;\n            }, {}, this);\n        },\n\n        // Overriding Backbone.View's delegateEvents to handle\n        // the `triggers`, `modelEvents`, and `collectionEvents` configuration\n        delegateEvents: function(events) {\n            this._delegateDOMEvents(events);\n            this.bindEntityEvents(this.model, this.getOption('modelEvents'));\n            this.bindEntityEvents(this.collection, this.getOption('collectionEvents'));\n\n            _.each(this._behaviors, function(behavior) {\n                behavior.bindEntityEvents(this.model, behavior.getOption('modelEvents'));\n                behavior.bindEntityEvents(this.collection, behavior.getOption('collectionEvents'));\n            }, this);\n\n            return this;\n        },\n\n        // internal method to delegate DOM events and triggers\n        _delegateDOMEvents: function(eventsArg) {\n            var events = Marionette._getValue(eventsArg || this.events, this);\n\n            // normalize ui keys\n            events = this.normalizeUIKeys(events);\n            if (_.isUndefined(eventsArg)) {this.events = events;}\n\n            var combinedEvents = {};\n\n            // look up if this view has behavior events\n            var behaviorEvents = _.result(this, 'behaviorEvents') || {};\n            var triggers = this.configureTriggers();\n            var behaviorTriggers = _.result(this, 'behaviorTriggers') || {};\n\n            // behavior events will be overriden by view events and or triggers\n            _.extend(combinedEvents, behaviorEvents, events, triggers, behaviorTriggers);\n\n            Backbone.View.prototype.delegateEvents.call(this, combinedEvents);\n        },\n\n        // Overriding Backbone.View's undelegateEvents to handle unbinding\n        // the `triggers`, `modelEvents`, and `collectionEvents` config\n        undelegateEvents: function() {\n            Backbone.View.prototype.undelegateEvents.apply(this, arguments);\n\n            this.unbindEntityEvents(this.model, this.getOption('modelEvents'));\n            this.unbindEntityEvents(this.collection, this.getOption('collectionEvents'));\n\n            _.each(this._behaviors, function(behavior) {\n                behavior.unbindEntityEvents(this.model, behavior.getOption('modelEvents'));\n                behavior.unbindEntityEvents(this.collection, behavior.getOption('collectionEvents'));\n            }, this);\n\n            return this;\n        },\n\n        // Internal helper method to verify whether the view hasn't been destroyed\n        _ensureViewIsIntact: function() {\n            if (this.isDestroyed) {\n                throw new Marionette.Error({\n                    name: 'ViewDestroyedError',\n                    message: 'View (cid: \"' + this.cid + '\") has already been destroyed and cannot be used.'\n                });\n            }\n        },\n\n        // Default `destroy` implementation, for removing a view from the\n        // DOM and unbinding it. Regions will call this method\n        // for you. You can specify an `onDestroy` method in your view to\n        // add custom code that is called after the view is destroyed.\n        destroy: function() {\n            if (this.isDestroyed) { return this; }\n\n            var args = _.toArray(arguments);\n\n            this.triggerMethod.apply(this, ['before:destroy'].concat(args));\n\n            // mark as destroyed before doing the actual destroy, to\n            // prevent infinite loops within \"destroy\" event handlers\n            // that are trying to destroy other views\n            this.isDestroyed = true;\n            this.triggerMethod.apply(this, ['destroy'].concat(args));\n\n            // unbind UI elements\n            this.unbindUIElements();\n\n            this.isRendered = false;\n\n            // remove the view from the DOM\n            this.remove();\n\n            // Call destroy on each behavior after\n            // destroying the view.\n            // This unbinds event listeners\n            // that behaviors have registered for.\n            _.invoke(this._behaviors, 'destroy', args);\n\n            return this;\n        },\n\n        bindUIElements: function() {\n            this._bindUIElements();\n            _.invoke(this._behaviors, this._bindUIElements);\n        },\n\n        // This method binds the elements specified in the \"ui\" hash inside the view's code with\n        // the associated jQuery selectors.\n        _bindUIElements: function() {\n            if (!this.ui) { return; }\n\n            // store the ui hash in _uiBindings so they can be reset later\n            // and so re-rendering the view will be able to find the bindings\n            if (!this._uiBindings) {\n                this._uiBindings = this.ui;\n            }\n\n            // get the bindings result, as a function or otherwise\n            var bindings = _.result(this, '_uiBindings');\n\n            // empty the ui so we don't have anything to start with\n            this.ui = {};\n\n            // bind each of the selectors\n            _.each(bindings, function(selector, key) {\n                this.ui[key] = this.$(selector);\n            }, this);\n        },\n\n        // This method unbinds the elements specified in the \"ui\" hash\n        unbindUIElements: function() {\n            this._unbindUIElements();\n            _.invoke(this._behaviors, this._unbindUIElements);\n        },\n\n        _unbindUIElements: function() {\n            if (!this.ui || !this._uiBindings) { return; }\n\n            // delete all of the existing ui bindings\n            _.each(this.ui, function($el, name) {\n                delete this.ui[name];\n            }, this);\n\n            // reset the ui element to the original bindings configuration\n            this.ui = this._uiBindings;\n            delete this._uiBindings;\n        },\n\n        // Internal method to create an event handler for a given `triggerDef` like\n        // 'click:foo'\n        _buildViewTrigger: function(triggerDef) {\n\n            var options = _.defaults({}, triggerDef, {\n                preventDefault: true,\n                stopPropagation: true\n            });\n\n            var eventName = _.isObject(triggerDef) ? options.event : triggerDef;\n\n            return function(e) {\n                if (e) {\n                    if (e.preventDefault && options.preventDefault) {\n                        e.preventDefault();\n                    }\n\n                    if (e.stopPropagation && options.stopPropagation) {\n                        e.stopPropagation();\n                    }\n                }\n\n                var args = {\n                    view: this,\n                    model: this.model,\n                    collection: this.collection\n                };\n\n                this.triggerMethod(eventName, args);\n            };\n        },\n\n        setElement: function() {\n            var ret = Backbone.View.prototype.setElement.apply(this, arguments);\n\n            // proxy behavior $el to the view's $el.\n            // This is needed because a view's $el proxy\n            // is not set until after setElement is called.\n            _.invoke(this._behaviors, 'proxyViewProperties', this);\n\n            return ret;\n        },\n\n        // import the `triggerMethod` to trigger events with corresponding\n        // methods if the method exists\n        triggerMethod: function() {\n            var ret = Marionette._triggerMethod(this, arguments);\n\n            this._triggerEventOnBehaviors(arguments);\n            this._triggerEventOnParentLayout(arguments[0], _.rest(arguments));\n\n            return ret;\n        },\n\n        _triggerEventOnBehaviors: function(args) {\n            var triggerMethod = Marionette._triggerMethod;\n            var behaviors = this._behaviors;\n            // Use good ol' for as this is a very hot function\n            for (var i = 0, length = behaviors && behaviors.length; i < length; i++) {\n                triggerMethod(behaviors[i], args);\n            }\n        },\n\n        _triggerEventOnParentLayout: function(eventName, args) {\n            var layoutView = this._parentLayoutView();\n            if (!layoutView) {\n                return;\n            }\n\n            // invoke triggerMethod on parent view\n            var eventPrefix = Marionette.getOption(layoutView, 'childViewEventPrefix');\n            var prefixedEventName = eventPrefix + ':' + eventName;\n            var callArgs = [this].concat(args);\n\n            Marionette._triggerMethod(layoutView, prefixedEventName, callArgs);\n\n            // call the parent view's childEvents handler\n            var childEvents = Marionette.getOption(layoutView, 'childEvents');\n\n            // since childEvents can be an object or a function use Marionette._getValue\n            // to handle the abstaction for us.\n            childEvents = Marionette._getValue(childEvents, layoutView);\n            var normalizedChildEvents = layoutView.normalizeMethods(childEvents);\n\n            if (normalizedChildEvents && _.isFunction(normalizedChildEvents[eventName])) {\n                normalizedChildEvents[eventName].apply(layoutView, callArgs);\n            }\n        },\n\n        // This method returns any views that are immediate\n        // children of this view\n        _getImmediateChildren: function() {\n            return [];\n        },\n\n        // Returns an array of every nested view within this view\n        _getNestedViews: function() {\n            var children = this._getImmediateChildren();\n\n            if (!children.length) { return children; }\n\n            return _.reduce(children, function(memo, view) {\n                if (!view._getNestedViews) { return memo; }\n                return memo.concat(view._getNestedViews());\n            }, children);\n        },\n\n        // Walk the _parent tree until we find a layout view (if one exists).\n        // Returns the parent layout view hierarchically closest to this view.\n        _parentLayoutView: function() {\n            var parent  = this._parent;\n\n            while (parent) {\n                if (parent instanceof Marionette.LayoutView) {\n                    return parent;\n                }\n                parent = parent._parent;\n            }\n        },\n\n        // Imports the \"normalizeMethods\" to transform hashes of\n        // events=>function references/names to a hash of events=>function references\n        normalizeMethods: Marionette.normalizeMethods,\n\n        // A handy way to merge passed-in options onto the instance\n        mergeOptions: Marionette.mergeOptions,\n\n        // Proxy `getOption` to enable getting options from this or this.options by name.\n        getOption: Marionette.proxyGetOption,\n\n        // Proxy `bindEntityEvents` to enable binding view's events from another entity.\n        bindEntityEvents: Marionette.proxyBindEntityEvents,\n\n        // Proxy `unbindEntityEvents` to enable unbinding view's events from another entity.\n        unbindEntityEvents: Marionette.proxyUnbindEntityEvents\n    });\n\n    // Item View\n    // ---------\n\n    // A single item view implementation that contains code for rendering\n    // with underscore.js templates, serializing the view's model or collection,\n    // and calling several methods on extended views, such as `onRender`.\n    Marionette.ItemView = Marionette.View.extend({\n\n        // Setting up the inheritance chain which allows changes to\n        // Marionette.View.prototype.constructor which allows overriding\n        constructor: function() {\n            Marionette.View.apply(this, arguments);\n        },\n\n        // Serialize the model or collection for the view. If a model is\n        // found, the view's `serializeModel` is called. If a collection is found,\n        // each model in the collection is serialized by calling\n        // the view's `serializeCollection` and put into an `items` array in\n        // the resulting data. If both are found, defaults to the model.\n        // You can override the `serializeData` method in your own view definition,\n        // to provide custom serialization for your view's data.\n        serializeData: function() {\n            if (!this.model && !this.collection) {\n                return {};\n            }\n\n            var args = [this.model || this.collection];\n            if (arguments.length) {\n                args.push.apply(args, arguments);\n            }\n\n            if (this.model) {\n                return this.serializeModel.apply(this, args);\n            } else {\n                return {\n                    items: this.serializeCollection.apply(this, args)\n                };\n            }\n        },\n\n        // Serialize a collection by serializing each of its models.\n        serializeCollection: function(collection) {\n            return collection.toJSON.apply(collection, _.rest(arguments));\n        },\n\n        // Render the view, defaulting to underscore.js templates.\n        // You can override this in your view definition to provide\n        // a very specific rendering for your view. In general, though,\n        // you should override the `Marionette.Renderer` object to\n        // change how Marionette renders views.\n        render: function() {\n            this._ensureViewIsIntact();\n\n            this.triggerMethod('before:render', this);\n\n            this._renderTemplate();\n            this.isRendered = true;\n            this.bindUIElements();\n\n            this.triggerMethod('render', this);\n\n            return this;\n        },\n\n        // Internal method to render the template with the serialized data\n        // and template helpers via the `Marionette.Renderer` object.\n        // Throws an `UndefinedTemplateError` error if the template is\n        // any falsely value but literal `false`.\n        _renderTemplate: function() {\n            var template = this.getTemplate();\n\n            // Allow template-less item views\n            if (template === false) {\n                return;\n            }\n\n            if (!template) {\n                throw new Marionette.Error({\n                    name: 'UndefinedTemplateError',\n                    message: 'Cannot render the template since it is null or undefined.'\n                });\n            }\n\n            // Add in entity data and template helpers\n            var data = this.mixinTemplateHelpers(this.serializeData());\n\n            // Render and add to el\n            var html = Marionette.Renderer.render(template, data, this);\n            this.attachElContent(html);\n\n            return this;\n        },\n\n        // Attaches the content of a given view.\n        // This method can be overridden to optimize rendering,\n        // or to render in a non standard way.\n        //\n        // For example, using `innerHTML` instead of `$el.html`\n        //\n        // ```js\n        // attachElContent: function(html) {\n        //   this.el.innerHTML = html;\n        //   return this;\n        // }\n        // ```\n        attachElContent: function(html) {\n            this.$el.html(html);\n\n            return this;\n        }\n    });\n\n    /* jshint maxstatements: 20, maxcomplexity: 7 */\n\n    // Collection View\n    // ---------------\n\n    // A view that iterates over a Backbone.Collection\n    // and renders an individual child view for each model.\n    Marionette.CollectionView = Marionette.View.extend({\n\n        // used as the prefix for child view events\n        // that are forwarded through the collectionview\n        childViewEventPrefix: 'childview',\n\n        // flag for maintaining the sorted order of the collection\n        sort: true,\n\n        // constructor\n        // option to pass `{sort: false}` to prevent the `CollectionView` from\n        // maintaining the sorted order of the collection.\n        // This will fallback onto appending childView's to the end.\n        //\n        // option to pass `{comparator: compFunction()}` to allow the `CollectionView`\n        // to use a custom sort order for the collection.\n        constructor: function(options) {\n            this.once('render', this._initialEvents);\n            this._initChildViewStorage();\n\n            Marionette.View.apply(this, arguments);\n\n            this.on({\n                'before:show':   this._onBeforeShowCalled,\n                'show':          this._onShowCalled,\n                'before:attach': this._onBeforeAttachCalled,\n                'attach':        this._onAttachCalled\n            });\n            this.initRenderBuffer();\n        },\n\n        // Instead of inserting elements one by one into the page,\n        // it's much more performant to insert elements into a document\n        // fragment and then insert that document fragment into the page\n        initRenderBuffer: function() {\n            this._bufferedChildren = [];\n        },\n\n        startBuffering: function() {\n            this.initRenderBuffer();\n            this.isBuffering = true;\n        },\n\n        endBuffering: function() {\n            // Only trigger attach if already shown and attached, otherwise Region#show() handles this.\n            var canTriggerAttach = this._isShown && Marionette.isNodeAttached(this.el);\n            var nestedViews;\n\n            this.isBuffering = false;\n\n            if (this._isShown) {\n                this._triggerMethodMany(this._bufferedChildren, this, 'before:show');\n            }\n            if (canTriggerAttach && this._triggerBeforeAttach) {\n                nestedViews = this._getNestedViews();\n                this._triggerMethodMany(nestedViews, this, 'before:attach');\n            }\n\n            this.attachBuffer(this, this._createBuffer());\n\n            if (canTriggerAttach && this._triggerAttach) {\n                nestedViews = this._getNestedViews();\n                this._triggerMethodMany(nestedViews, this, 'attach');\n            }\n            if (this._isShown) {\n                this._triggerMethodMany(this._bufferedChildren, this, 'show');\n            }\n            this.initRenderBuffer();\n        },\n\n        _triggerMethodMany: function(targets, source, eventName) {\n            var args = _.drop(arguments, 3);\n\n            _.each(targets, function(target) {\n                Marionette.triggerMethodOn.apply(target, [target, eventName, target, source].concat(args));\n            });\n        },\n\n        // Configured the initial events that the collection view\n        // binds to.\n        _initialEvents: function() {\n            if (this.collection) {\n                this.listenTo(this.collection, 'add', this._onCollectionAdd);\n                this.listenTo(this.collection, 'remove', this._onCollectionRemove);\n                this.listenTo(this.collection, 'reset', this.render);\n\n                if (this.getOption('sort')) {\n                    this.listenTo(this.collection, 'sort', this._sortViews);\n                }\n            }\n        },\n\n        // Handle a child added to the collection\n        _onCollectionAdd: function(child, collection, opts) {\n            // `index` is present when adding with `at` since BB 1.2; indexOf fallback for < 1.2\n            var index = opts.at !== undefined && (opts.index || collection.indexOf(child));\n\n            // When filtered or when there is no initial index, calculate index.\n            if (this.getOption('filter') || index === false) {\n                index = _.indexOf(this._filteredSortedModels(index), child);\n            }\n\n            if (this._shouldAddChild(child, index)) {\n                this.destroyEmptyView();\n                var ChildView = this.getChildView(child);\n                this.addChild(child, ChildView, index);\n            }\n        },\n\n        // get the child view by model it holds, and remove it\n        _onCollectionRemove: function(model) {\n            var view = this.children.findByModel(model);\n            this.removeChildView(view);\n            this.checkEmpty();\n        },\n\n        _onBeforeShowCalled: function() {\n            // Reset attach event flags at the top of the Region#show() event lifecycle; if the Region's\n            // show() options permit onBeforeAttach/onAttach events, these flags will be set true again.\n            this._triggerBeforeAttach = this._triggerAttach = false;\n            this.children.each(function(childView) {\n                Marionette.triggerMethodOn(childView, 'before:show', childView);\n            });\n        },\n\n        _onShowCalled: function() {\n            this.children.each(function(childView) {\n                Marionette.triggerMethodOn(childView, 'show', childView);\n            });\n        },\n\n        // If during Region#show() onBeforeAttach was fired, continue firing it for child views\n        _onBeforeAttachCalled: function() {\n            this._triggerBeforeAttach = true;\n        },\n\n        // If during Region#show() onAttach was fired, continue firing it for child views\n        _onAttachCalled: function() {\n            this._triggerAttach = true;\n        },\n\n        // Render children views. Override this method to\n        // provide your own implementation of a render function for\n        // the collection view.\n        render: function() {\n            this._ensureViewIsIntact();\n            this.triggerMethod('before:render', this);\n            this._renderChildren();\n            this.isRendered = true;\n            this.triggerMethod('render', this);\n            return this;\n        },\n\n        // Reorder DOM after sorting. When your element's rendering\n        // do not use their index, you can pass reorderOnSort: true\n        // to only reorder the DOM after a sort instead of rendering\n        // all the collectionView\n        reorder: function() {\n            var children = this.children;\n            var models = this._filteredSortedModels();\n            var anyModelsAdded = _.some(models, function(model) {\n                return !children.findByModel(model);\n            });\n\n            // If there are any new models added due to filtering\n            // We need to add child views\n            // So render as normal\n            if (anyModelsAdded) {\n                this.render();\n            } else {\n                // get the DOM nodes in the same order as the models\n                var elsToReorder = _.map(models, function(model, index) {\n                    var view = children.findByModel(model);\n                    view._index = index;\n                    return view.el;\n                });\n\n                // find the views that were children before but arent in this new ordering\n                var filteredOutViews = children.filter(function(view) {\n                    return !_.contains(elsToReorder, view.el);\n                });\n\n                this.triggerMethod('before:reorder');\n\n                // since append moves elements that are already in the DOM,\n                // appending the elements will effectively reorder them\n                this._appendReorderedChildren(elsToReorder);\n\n                // remove any views that have been filtered out\n                _.each(filteredOutViews, this.removeChildView, this);\n                this.checkEmpty();\n\n                this.triggerMethod('reorder');\n            }\n        },\n\n        // Render view after sorting. Override this method to\n        // change how the view renders after a `sort` on the collection.\n        // An example of this would be to only `renderChildren` in a `CompositeView`\n        // rather than the full view.\n        resortView: function() {\n            if (Marionette.getOption(this, 'reorderOnSort')) {\n                this.reorder();\n            } else {\n                this.render();\n            }\n        },\n\n        // Internal method. This checks for any changes in the order of the collection.\n        // If the index of any view doesn't match, it will render.\n        _sortViews: function() {\n            var models = this._filteredSortedModels();\n\n            // check for any changes in sort order of views\n            var orderChanged = _.find(models, function(item, index) {\n                var view = this.children.findByModel(item);\n                return !view || view._index !== index;\n            }, this);\n\n            if (orderChanged) {\n                this.resortView();\n            }\n        },\n\n        // Internal reference to what index a `emptyView` is.\n        _emptyViewIndex: -1,\n\n        // Internal method. Separated so that CompositeView can append to the childViewContainer\n        // if necessary\n        _appendReorderedChildren: function(children) {\n            this.$el.append(children);\n        },\n\n        // Internal method. Separated so that CompositeView can have\n        // more control over events being triggered, around the rendering\n        // process\n        _renderChildren: function() {\n            this.destroyEmptyView();\n            this.destroyChildren({checkEmpty: false});\n\n            if (this.isEmpty(this.collection)) {\n                this.showEmptyView();\n            } else {\n                this.triggerMethod('before:render:collection', this);\n                this.startBuffering();\n                this.showCollection();\n                this.endBuffering();\n                this.triggerMethod('render:collection', this);\n\n                // If we have shown children and none have passed the filter, show the empty view\n                if (this.children.isEmpty() && this.getOption('filter')) {\n                    this.showEmptyView();\n                }\n            }\n        },\n\n        // Internal method to loop through collection and show each child view.\n        showCollection: function() {\n            var ChildView;\n\n            var models = this._filteredSortedModels();\n\n            _.each(models, function(child, index) {\n                ChildView = this.getChildView(child);\n                this.addChild(child, ChildView, index);\n            }, this);\n        },\n\n        // Allow the collection to be sorted by a custom view comparator\n        _filteredSortedModels: function(addedAt) {\n            var viewComparator = this.getViewComparator();\n            var models = this.collection.models;\n            addedAt = Math.min(Math.max(addedAt, 0), models.length - 1);\n\n            if (viewComparator) {\n                var addedModel;\n                // Preserve `at` location, even for a sorted view\n                if (addedAt) {\n                    addedModel = models[addedAt];\n                    models = models.slice(0, addedAt).concat(models.slice(addedAt + 1));\n                }\n                models = this._sortModelsBy(models, viewComparator);\n                if (addedModel) {\n                    models.splice(addedAt, 0, addedModel);\n                }\n            }\n\n            // Filter after sorting in case the filter uses the index\n            if (this.getOption('filter')) {\n                models = _.filter(models, function(model, index) {\n                    return this._shouldAddChild(model, index);\n                }, this);\n            }\n\n            return models;\n        },\n\n        _sortModelsBy: function(models, comparator) {\n            if (typeof comparator === 'string') {\n                return _.sortBy(models, function(model) {\n                    return model.get(comparator);\n                }, this);\n            } else if (comparator.length === 1) {\n                return _.sortBy(models, comparator, this);\n            } else {\n                return models.sort(_.bind(comparator, this));\n            }\n        },\n\n        // Internal method to show an empty view in place of\n        // a collection of child views, when the collection is empty\n        showEmptyView: function() {\n            var EmptyView = this.getEmptyView();\n\n            if (EmptyView && !this._showingEmptyView) {\n                this.triggerMethod('before:render:empty');\n\n                this._showingEmptyView = true;\n                var model = new Backbone.Model();\n                this.addEmptyView(model, EmptyView);\n\n                this.triggerMethod('render:empty');\n            }\n        },\n\n        // Internal method to destroy an existing emptyView instance\n        // if one exists. Called when a collection view has been\n        // rendered empty, and then a child is added to the collection.\n        destroyEmptyView: function() {\n            if (this._showingEmptyView) {\n                this.triggerMethod('before:remove:empty');\n\n                this.destroyChildren();\n                delete this._showingEmptyView;\n\n                this.triggerMethod('remove:empty');\n            }\n        },\n\n        // Retrieve the empty view class\n        getEmptyView: function() {\n            return this.getOption('emptyView');\n        },\n\n        // Render and show the emptyView. Similar to addChild method\n        // but \"add:child\" events are not fired, and the event from\n        // emptyView are not forwarded\n        addEmptyView: function(child, EmptyView) {\n            // Only trigger attach if already shown, attached, and not buffering, otherwise endBuffer() or\n            // Region#show() handles this.\n            var canTriggerAttach = this._isShown && !this.isBuffering && Marionette.isNodeAttached(this.el);\n            var nestedViews;\n\n            // get the emptyViewOptions, falling back to childViewOptions\n            var emptyViewOptions = this.getOption('emptyViewOptions') ||\n                this.getOption('childViewOptions');\n\n            if (_.isFunction(emptyViewOptions)) {\n                emptyViewOptions = emptyViewOptions.call(this, child, this._emptyViewIndex);\n            }\n\n            // build the empty view\n            var view = this.buildChildView(child, EmptyView, emptyViewOptions);\n\n            view._parent = this;\n\n            // Proxy emptyView events\n            this.proxyChildEvents(view);\n\n            view.once('render', function() {\n                // trigger the 'before:show' event on `view` if the collection view has already been shown\n                if (this._isShown) {\n                    Marionette.triggerMethodOn(view, 'before:show', view);\n                }\n\n                // Trigger `before:attach` following `render` to avoid adding logic and event triggers\n                // to public method `renderChildView()`.\n                if (canTriggerAttach && this._triggerBeforeAttach) {\n                    nestedViews = this._getViewAndNested(view);\n                    this._triggerMethodMany(nestedViews, this, 'before:attach');\n                }\n            }, this);\n\n            // Store the `emptyView` like a `childView` so we can properly remove and/or close it later\n            this.children.add(view);\n            this.renderChildView(view, this._emptyViewIndex);\n\n            // Trigger `attach`\n            if (canTriggerAttach && this._triggerAttach) {\n                nestedViews = this._getViewAndNested(view);\n                this._triggerMethodMany(nestedViews, this, 'attach');\n            }\n            // call the 'show' method if the collection view has already been shown\n            if (this._isShown) {\n                Marionette.triggerMethodOn(view, 'show', view);\n            }\n        },\n\n        // Retrieve the `childView` class, either from `this.options.childView`\n        // or from the `childView` in the object definition. The \"options\"\n        // takes precedence.\n        // This method receives the model that will be passed to the instance\n        // created from this `childView`. Overriding methods may use the child\n        // to determine what `childView` class to return.\n        getChildView: function(child) {\n            var childView = this.getOption('childView');\n\n            if (!childView) {\n                throw new Marionette.Error({\n                    name: 'NoChildViewError',\n                    message: 'A \"childView\" must be specified'\n                });\n            }\n\n            return childView;\n        },\n\n        // Render the child's view and add it to the\n        // HTML for the collection view at a given index.\n        // This will also update the indices of later views in the collection\n        // in order to keep the children in sync with the collection.\n        addChild: function(child, ChildView, index) {\n            var childViewOptions = this.getOption('childViewOptions');\n            childViewOptions = Marionette._getValue(childViewOptions, this, [child, index]);\n\n            var view = this.buildChildView(child, ChildView, childViewOptions);\n\n            // increment indices of views after this one\n            this._updateIndices(view, true, index);\n\n            this.triggerMethod('before:add:child', view);\n            this._addChildView(view, index);\n            this.triggerMethod('add:child', view);\n\n            view._parent = this;\n\n            return view;\n        },\n\n        // Internal method. This decrements or increments the indices of views after the\n        // added/removed view to keep in sync with the collection.\n        _updateIndices: function(view, increment, index) {\n            if (!this.getOption('sort')) {\n                return;\n            }\n\n            if (increment) {\n                // assign the index to the view\n                view._index = index;\n            }\n\n            // update the indexes of views after this one\n            this.children.each(function(laterView) {\n                if (laterView._index >= view._index) {\n                    laterView._index += increment ? 1 : -1;\n                }\n            });\n        },\n\n        // Internal Method. Add the view to children and render it at\n        // the given index.\n        _addChildView: function(view, index) {\n            // Only trigger attach if already shown, attached, and not buffering, otherwise endBuffer() or\n            // Region#show() handles this.\n            var canTriggerAttach = this._isShown && !this.isBuffering && Marionette.isNodeAttached(this.el);\n            var nestedViews;\n\n            // set up the child view event forwarding\n            this.proxyChildEvents(view);\n\n            view.once('render', function() {\n                // trigger the 'before:show' event on `view` if the collection view has already been shown\n                if (this._isShown && !this.isBuffering) {\n                    Marionette.triggerMethodOn(view, 'before:show', view);\n                }\n\n                // Trigger `before:attach` following `render` to avoid adding logic and event triggers\n                // to public method `renderChildView()`.\n                if (canTriggerAttach && this._triggerBeforeAttach) {\n                    nestedViews = this._getViewAndNested(view);\n                    this._triggerMethodMany(nestedViews, this, 'before:attach');\n                }\n            }, this);\n\n            // Store the child view itself so we can properly remove and/or destroy it later\n            this.children.add(view);\n            this.renderChildView(view, index);\n\n            // Trigger `attach`\n            if (canTriggerAttach && this._triggerAttach) {\n                nestedViews = this._getViewAndNested(view);\n                this._triggerMethodMany(nestedViews, this, 'attach');\n            }\n            // Trigger `show`\n            if (this._isShown && !this.isBuffering) {\n                Marionette.triggerMethodOn(view, 'show', view);\n            }\n        },\n\n        // render the child view\n        renderChildView: function(view, index) {\n            if (!view.supportsRenderLifecycle) {\n                Marionette.triggerMethodOn(view, 'before:render', view);\n            }\n            view.render();\n            if (!view.supportsRenderLifecycle) {\n                Marionette.triggerMethodOn(view, 'render', view);\n            }\n            this.attachHtml(this, view, index);\n            return view;\n        },\n\n        // Build a `childView` for a model in the collection.\n        buildChildView: function(child, ChildViewClass, childViewOptions) {\n            var options = _.extend({model: child}, childViewOptions);\n            var childView = new ChildViewClass(options);\n            Marionette.MonitorDOMRefresh(childView);\n            return childView;\n        },\n\n        // Remove the child view and destroy it.\n        // This function also updates the indices of\n        // later views in the collection in order to keep\n        // the children in sync with the collection.\n        removeChildView: function(view) {\n            if (!view) { return view; }\n\n            this.triggerMethod('before:remove:child', view);\n\n            if (!view.supportsDestroyLifecycle) {\n                Marionette.triggerMethodOn(view, 'before:destroy', view);\n            }\n            // call 'destroy' or 'remove', depending on which is found\n            if (view.destroy) {\n                view.destroy();\n            } else {\n                view.remove();\n            }\n            if (!view.supportsDestroyLifecycle) {\n                Marionette.triggerMethodOn(view, 'destroy', view);\n            }\n\n            delete view._parent;\n            this.stopListening(view);\n            this.children.remove(view);\n            this.triggerMethod('remove:child', view);\n\n            // decrement the index of views after this one\n            this._updateIndices(view, false);\n\n            return view;\n        },\n\n        // check if the collection is empty\n        isEmpty: function() {\n            return !this.collection || this.collection.length === 0;\n        },\n\n        // If empty, show the empty view\n        checkEmpty: function() {\n            if (this.isEmpty(this.collection)) {\n                this.showEmptyView();\n            }\n        },\n\n        // You might need to override this if you've overridden attachHtml\n        attachBuffer: function(collectionView, buffer) {\n            collectionView.$el.append(buffer);\n        },\n\n        // Create a fragment buffer from the currently buffered children\n        _createBuffer: function() {\n            var elBuffer = document.createDocumentFragment();\n            _.each(this._bufferedChildren, function(b) {\n                elBuffer.appendChild(b.el);\n            });\n            return elBuffer;\n        },\n\n        // Append the HTML to the collection's `el`.\n        // Override this method to do something other\n        // than `.append`.\n        attachHtml: function(collectionView, childView, index) {\n            if (collectionView.isBuffering) {\n                // buffering happens on reset events and initial renders\n                // in order to reduce the number of inserts into the\n                // document, which are expensive.\n                collectionView._bufferedChildren.splice(index, 0, childView);\n            } else {\n                // If we've already rendered the main collection, append\n                // the new child into the correct order if we need to. Otherwise\n                // append to the end.\n                if (!collectionView._insertBefore(childView, index)) {\n                    collectionView._insertAfter(childView);\n                }\n            }\n        },\n\n        // Internal method. Check whether we need to insert the view into\n        // the correct position.\n        _insertBefore: function(childView, index) {\n            var currentView;\n            var findPosition = this.getOption('sort') && (index < this.children.length - 1);\n            if (findPosition) {\n                // Find the view after this one\n                currentView = this.children.find(function(view) {\n                    return view._index === index + 1;\n                });\n            }\n\n            if (currentView) {\n                currentView.$el.before(childView.el);\n                return true;\n            }\n\n            return false;\n        },\n\n        // Internal method. Append a view to the end of the $el\n        _insertAfter: function(childView) {\n            this.$el.append(childView.el);\n        },\n\n        // Internal method to set up the `children` object for\n        // storing all of the child views\n        _initChildViewStorage: function() {\n            this.children = new Backbone.ChildViewContainer();\n        },\n\n        // Handle cleanup and other destroying needs for the collection of views\n        destroy: function() {\n            if (this.isDestroyed) { return this; }\n\n            this.triggerMethod('before:destroy:collection');\n            this.destroyChildren({checkEmpty: false});\n            this.triggerMethod('destroy:collection');\n\n            return Marionette.View.prototype.destroy.apply(this, arguments);\n        },\n\n        // Destroy the child views that this collection view\n        // is holding on to, if any\n        destroyChildren: function(options) {\n            var destroyOptions = options || {};\n            var shouldCheckEmpty = true;\n            var childViews = this.children.map(_.identity);\n\n            if (!_.isUndefined(destroyOptions.checkEmpty)) {\n                shouldCheckEmpty = destroyOptions.checkEmpty;\n            }\n\n            this.children.each(this.removeChildView, this);\n\n            if (shouldCheckEmpty) {\n                this.checkEmpty();\n            }\n            return childViews;\n        },\n\n        // Return true if the given child should be shown\n        // Return false otherwise\n        // The filter will be passed (child, index, collection)\n        // Where\n        //  'child' is the given model\n        //  'index' is the index of that model in the collection\n        //  'collection' is the collection referenced by this CollectionView\n        _shouldAddChild: function(child, index) {\n            var filter = this.getOption('filter');\n            return !_.isFunction(filter) || filter.call(this, child, index, this.collection);\n        },\n\n        // Set up the child view event forwarding. Uses a \"childview:\"\n        // prefix in front of all forwarded events.\n        proxyChildEvents: function(view) {\n            var prefix = this.getOption('childViewEventPrefix');\n\n            // Forward all child view events through the parent,\n            // prepending \"childview:\" to the event name\n            this.listenTo(view, 'all', function() {\n                var args = _.toArray(arguments);\n                var rootEvent = args[0];\n                var childEvents = this.normalizeMethods(_.result(this, 'childEvents'));\n\n                args[0] = prefix + ':' + rootEvent;\n                args.splice(1, 0, view);\n\n                // call collectionView childEvent if defined\n                if (typeof childEvents !== 'undefined' && _.isFunction(childEvents[rootEvent])) {\n                    childEvents[rootEvent].apply(this, args.slice(1));\n                }\n\n                this.triggerMethod.apply(this, args);\n            });\n        },\n\n        _getImmediateChildren: function() {\n            return _.values(this.children._views);\n        },\n\n        _getViewAndNested: function(view) {\n            // This will not fail on Backbone.View which does not have #_getNestedViews.\n            return [view].concat(_.result(view, '_getNestedViews') || []);\n        },\n\n        getViewComparator: function() {\n            return this.getOption('viewComparator');\n        }\n    });\n\n    /* jshint maxstatements: 17, maxlen: 117 */\n\n    // Composite View\n    // --------------\n\n    // Used for rendering a branch-leaf, hierarchical structure.\n    // Extends directly from CollectionView and also renders an\n    // a child view as `modelView`, for the top leaf\n    Marionette.CompositeView = Marionette.CollectionView.extend({\n\n        // Setting up the inheritance chain which allows changes to\n        // Marionette.CollectionView.prototype.constructor which allows overriding\n        // option to pass '{sort: false}' to prevent the CompositeView from\n        // maintaining the sorted order of the collection.\n        // This will fallback onto appending childView's to the end.\n        constructor: function() {\n            Marionette.CollectionView.apply(this, arguments);\n        },\n\n        // Configured the initial events that the composite view\n        // binds to. Override this method to prevent the initial\n        // events, or to add your own initial events.\n        _initialEvents: function() {\n\n            // Bind only after composite view is rendered to avoid adding child views\n            // to nonexistent childViewContainer\n\n            if (this.collection) {\n                this.listenTo(this.collection, 'add', this._onCollectionAdd);\n                this.listenTo(this.collection, 'remove', this._onCollectionRemove);\n                this.listenTo(this.collection, 'reset', this._renderChildren);\n\n                if (this.getOption('sort')) {\n                    this.listenTo(this.collection, 'sort', this._sortViews);\n                }\n            }\n        },\n\n        // Retrieve the `childView` to be used when rendering each of\n        // the items in the collection. The default is to return\n        // `this.childView` or Marionette.CompositeView if no `childView`\n        // has been defined\n        getChildView: function(child) {\n            var childView = this.getOption('childView') || this.constructor;\n\n            return childView;\n        },\n\n        // Serialize the model for the view.\n        // You can override the `serializeData` method in your own view\n        // definition, to provide custom serialization for your view's data.\n        serializeData: function() {\n            var data = {};\n\n            if (this.model) {\n                data = _.partial(this.serializeModel, this.model).apply(this, arguments);\n            }\n\n            return data;\n        },\n\n        // Renders the model and the collection.\n        render: function() {\n            this._ensureViewIsIntact();\n            this._isRendering = true;\n            this.resetChildViewContainer();\n\n            this.triggerMethod('before:render', this);\n\n            this._renderTemplate();\n            this._renderChildren();\n\n            this._isRendering = false;\n            this.isRendered = true;\n            this.triggerMethod('render', this);\n            return this;\n        },\n\n        _renderChildren: function() {\n            if (this.isRendered || this._isRendering) {\n                Marionette.CollectionView.prototype._renderChildren.call(this);\n            }\n        },\n\n        // Render the root template that the children\n        // views are appended to\n        _renderTemplate: function() {\n            var data = {};\n            data = this.serializeData();\n            data = this.mixinTemplateHelpers(data);\n\n            this.triggerMethod('before:render:template');\n\n            var template = this.getTemplate();\n            var html = Marionette.Renderer.render(template, data, this);\n            this.attachElContent(html);\n\n            // the ui bindings is done here and not at the end of render since they\n            // will not be available until after the model is rendered, but should be\n            // available before the collection is rendered.\n            this.bindUIElements();\n            this.triggerMethod('render:template');\n        },\n\n        // Attaches the content of the root.\n        // This method can be overridden to optimize rendering,\n        // or to render in a non standard way.\n        //\n        // For example, using `innerHTML` instead of `$el.html`\n        //\n        // ```js\n        // attachElContent: function(html) {\n        //   this.el.innerHTML = html;\n        //   return this;\n        // }\n        // ```\n        attachElContent: function(html) {\n            this.$el.html(html);\n\n            return this;\n        },\n\n        // You might need to override this if you've overridden attachHtml\n        attachBuffer: function(compositeView, buffer) {\n            var $container = this.getChildViewContainer(compositeView);\n            $container.append(buffer);\n        },\n\n        // Internal method. Append a view to the end of the $el.\n        // Overidden from CollectionView to ensure view is appended to\n        // childViewContainer\n        _insertAfter: function(childView) {\n            var $container = this.getChildViewContainer(this, childView);\n            $container.append(childView.el);\n        },\n\n        // Internal method. Append reordered childView'.\n        // Overidden from CollectionView to ensure reordered views\n        // are appended to childViewContainer\n        _appendReorderedChildren: function(children) {\n            var $container = this.getChildViewContainer(this);\n            $container.append(children);\n        },\n\n        // Internal method to ensure an `$childViewContainer` exists, for the\n        // `attachHtml` method to use.\n        getChildViewContainer: function(containerView, childView) {\n            if (!!containerView.$childViewContainer) {\n                return containerView.$childViewContainer;\n            }\n\n            var container;\n            var childViewContainer = Marionette.getOption(containerView, 'childViewContainer');\n            if (childViewContainer) {\n\n                var selector = Marionette._getValue(childViewContainer, containerView);\n\n                if (selector.charAt(0) === '@' && containerView.ui) {\n                    container = containerView.ui[selector.substr(4)];\n                } else {\n                    container = containerView.$(selector);\n                }\n\n                if (container.length <= 0) {\n                    throw new Marionette.Error({\n                        name: 'ChildViewContainerMissingError',\n                        message: 'The specified \"childViewContainer\" was not found: ' + containerView.childViewContainer\n                    });\n                }\n\n            } else {\n                container = containerView.$el;\n            }\n\n            containerView.$childViewContainer = container;\n            return container;\n        },\n\n        // Internal method to reset the `$childViewContainer` on render\n        resetChildViewContainer: function() {\n            if (this.$childViewContainer) {\n                this.$childViewContainer = undefined;\n            }\n        }\n    });\n\n    // Layout View\n    // -----------\n\n    // Used for managing application layoutViews, nested layoutViews and\n    // multiple regions within an application or sub-application.\n    //\n    // A specialized view class that renders an area of HTML and then\n    // attaches `Region` instances to the specified `regions`.\n    // Used for composite view management and sub-application areas.\n    Marionette.LayoutView = Marionette.ItemView.extend({\n        regionClass: Marionette.Region,\n\n        options: {\n            destroyImmediate: false\n        },\n\n        // used as the prefix for child view events\n        // that are forwarded through the layoutview\n        childViewEventPrefix: 'childview',\n\n        // Ensure the regions are available when the `initialize` method\n        // is called.\n        constructor: function(options) {\n            options = options || {};\n\n            this._firstRender = true;\n            this._initializeRegions(options);\n\n            Marionette.ItemView.call(this, options);\n        },\n\n        // LayoutView's render will use the existing region objects the\n        // first time it is called. Subsequent calls will destroy the\n        // views that the regions are showing and then reset the `el`\n        // for the regions to the newly rendered DOM elements.\n        render: function() {\n            this._ensureViewIsIntact();\n\n            if (this._firstRender) {\n                // if this is the first render, don't do anything to\n                // reset the regions\n                this._firstRender = false;\n            } else {\n                // If this is not the first render call, then we need to\n                // re-initialize the `el` for each region\n                this._reInitializeRegions();\n            }\n\n            return Marionette.ItemView.prototype.render.apply(this, arguments);\n        },\n\n        // Handle destroying regions, and then destroy the view itself.\n        destroy: function() {\n            if (this.isDestroyed) { return this; }\n            // #2134: remove parent element before destroying the child views, so\n            // removing the child views doesn't retrigger repaints\n            if (this.getOption('destroyImmediate') === true) {\n                this.$el.remove();\n            }\n            this.regionManager.destroy();\n            return Marionette.ItemView.prototype.destroy.apply(this, arguments);\n        },\n\n        showChildView: function(regionName, view, options) {\n            var region = this.getRegion(regionName);\n            return region.show.apply(region, _.rest(arguments));\n        },\n\n        getChildView: function(regionName) {\n            return this.getRegion(regionName).currentView;\n        },\n\n        // Add a single region, by name, to the layoutView\n        addRegion: function(name, definition) {\n            var regions = {};\n            regions[name] = definition;\n            return this._buildRegions(regions)[name];\n        },\n\n        // Add multiple regions as a {name: definition, name2: def2} object literal\n        addRegions: function(regions) {\n            this.regions = _.extend({}, this.regions, regions);\n            return this._buildRegions(regions);\n        },\n\n        // Remove a single region from the LayoutView, by name\n        removeRegion: function(name) {\n            delete this.regions[name];\n            return this.regionManager.removeRegion(name);\n        },\n\n        // Provides alternative access to regions\n        // Accepts the region name\n        // getRegion('main')\n        getRegion: function(region) {\n            return this.regionManager.get(region);\n        },\n\n        // Get all regions\n        getRegions: function() {\n            return this.regionManager.getRegions();\n        },\n\n        // internal method to build regions\n        _buildRegions: function(regions) {\n            var defaults = {\n                regionClass: this.getOption('regionClass'),\n                parentEl: _.partial(_.result, this, 'el')\n            };\n\n            return this.regionManager.addRegions(regions, defaults);\n        },\n\n        // Internal method to initialize the regions that have been defined in a\n        // `regions` attribute on this layoutView.\n        _initializeRegions: function(options) {\n            var regions;\n            this._initRegionManager();\n\n            regions = Marionette._getValue(this.regions, this, [options]) || {};\n\n            // Enable users to define `regions` as instance options.\n            var regionOptions = this.getOption.call(options, 'regions');\n\n            // enable region options to be a function\n            regionOptions = Marionette._getValue(regionOptions, this, [options]);\n\n            _.extend(regions, regionOptions);\n\n            // Normalize region selectors hash to allow\n            // a user to use the @ui. syntax.\n            regions = this.normalizeUIValues(regions, ['selector', 'el']);\n\n            this.addRegions(regions);\n        },\n\n        // Internal method to re-initialize all of the regions by updating the `el` that\n        // they point to\n        _reInitializeRegions: function() {\n            this.regionManager.invoke('reset');\n        },\n\n        // Enable easy overriding of the default `RegionManager`\n        // for customized region interactions and business specific\n        // view logic for better control over single regions.\n        getRegionManager: function() {\n            return new Marionette.RegionManager();\n        },\n\n        // Internal method to initialize the region manager\n        // and all regions in it\n        _initRegionManager: function() {\n            this.regionManager = this.getRegionManager();\n            this.regionManager._parent = this;\n\n            this.listenTo(this.regionManager, 'before:add:region', function(name) {\n                this.triggerMethod('before:add:region', name);\n            });\n\n            this.listenTo(this.regionManager, 'add:region', function(name, region) {\n                this[name] = region;\n                this.triggerMethod('add:region', name, region);\n            });\n\n            this.listenTo(this.regionManager, 'before:remove:region', function(name) {\n                this.triggerMethod('before:remove:region', name);\n            });\n\n            this.listenTo(this.regionManager, 'remove:region', function(name, region) {\n                delete this[name];\n                this.triggerMethod('remove:region', name, region);\n            });\n        },\n\n        _getImmediateChildren: function() {\n            return _.chain(this.regionManager.getRegions())\n                .pluck('currentView')\n                .compact()\n                .value();\n        }\n    });\n\n\n    // Behavior\n    // --------\n\n    // A Behavior is an isolated set of DOM /\n    // user interactions that can be mixed into any View.\n    // Behaviors allow you to blackbox View specific interactions\n    // into portable logical chunks, keeping your views simple and your code DRY.\n\n    Marionette.Behavior = Marionette.Object.extend({\n        constructor: function(options, view) {\n            // Setup reference to the view.\n            // this comes in handle when a behavior\n            // wants to directly talk up the chain\n            // to the view.\n            this.view = view;\n            this.defaults = _.result(this, 'defaults') || {};\n            this.options  = _.extend({}, this.defaults, options);\n            // Construct an internal UI hash using\n            // the views UI hash and then the behaviors UI hash.\n            // This allows the user to use UI hash elements\n            // defined in the parent view as well as those\n            // defined in the given behavior.\n            this.ui = _.extend({}, _.result(view, 'ui'), _.result(this, 'ui'));\n\n            Marionette.Object.apply(this, arguments);\n        },\n\n        // proxy behavior $ method to the view\n        // this is useful for doing jquery DOM lookups\n        // scoped to behaviors view.\n        $: function() {\n            return this.view.$.apply(this.view, arguments);\n        },\n\n        // Stops the behavior from listening to events.\n        // Overrides Object#destroy to prevent additional events from being triggered.\n        destroy: function() {\n            this.stopListening();\n\n            return this;\n        },\n\n        proxyViewProperties: function(view) {\n            this.$el = view.$el;\n            this.el = view.el;\n        }\n    });\n\n    /* jshint maxlen: 143 */\n    // Behaviors\n    // ---------\n\n    // Behaviors is a utility class that takes care of\n    // gluing your behavior instances to their given View.\n    // The most important part of this class is that you\n    // **MUST** override the class level behaviorsLookup\n    // method for things to work properly.\n\n    Marionette.Behaviors = (function(Marionette, _) {\n        // Borrow event splitter from Backbone\n        var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n        function Behaviors(view, behaviors) {\n\n            if (!_.isObject(view.behaviors)) {\n                return {};\n            }\n\n            // Behaviors defined on a view can be a flat object literal\n            // or it can be a function that returns an object.\n            behaviors = Behaviors.parseBehaviors(view, behaviors || _.result(view, 'behaviors'));\n\n            // Wraps several of the view's methods\n            // calling the methods first on each behavior\n            // and then eventually calling the method on the view.\n            Behaviors.wrap(view, behaviors, _.keys(methods));\n            return behaviors;\n        }\n\n        var methods = {\n            behaviorTriggers: function(behaviorTriggers, behaviors) {\n                var triggerBuilder = new BehaviorTriggersBuilder(this, behaviors);\n                return triggerBuilder.buildBehaviorTriggers();\n            },\n\n            behaviorEvents: function(behaviorEvents, behaviors) {\n                var _behaviorsEvents = {};\n\n                _.each(behaviors, function(b, i) {\n                    var _events = {};\n                    var behaviorEvents = _.clone(_.result(b, 'events')) || {};\n\n                    // Normalize behavior events hash to allow\n                    // a user to use the @ui. syntax.\n                    behaviorEvents = Marionette.normalizeUIKeys(behaviorEvents, getBehaviorsUI(b));\n\n                    var j = 0;\n                    _.each(behaviorEvents, function(behaviour, key) {\n                        var match     = key.match(delegateEventSplitter);\n\n                        // Set event name to be namespaced using the view cid,\n                        // the behavior index, and the behavior event index\n                        // to generate a non colliding event namespace\n                        // http://api.jquery.com/event.namespace/\n                        var eventName = match[1] + '.' + [this.cid, i, j++, ' '].join('');\n                        var selector  = match[2];\n\n                        var eventKey  = eventName + selector;\n                        var handler   = _.isFunction(behaviour) ? behaviour : b[behaviour];\n                        if (!handler) { return; }\n                        _events[eventKey] = _.bind(handler, b);\n                    }, this);\n\n                    _behaviorsEvents = _.extend(_behaviorsEvents, _events);\n                }, this);\n\n                return _behaviorsEvents;\n            }\n        };\n\n        _.extend(Behaviors, {\n\n            // Placeholder method to be extended by the user.\n            // The method should define the object that stores the behaviors.\n            // i.e.\n            //\n            // ```js\n            // Marionette.Behaviors.behaviorsLookup: function() {\n            //   return App.Behaviors\n            // }\n            // ```\n            behaviorsLookup: function() {\n                throw new Marionette.Error({\n                    message: 'You must define where your behaviors are stored.',\n                    url: 'marionette.behaviors.html#behaviorslookup'\n                });\n            },\n\n            // Takes care of getting the behavior class\n            // given options and a key.\n            // If a user passes in options.behaviorClass\n            // default to using that. Otherwise delegate\n            // the lookup to the users `behaviorsLookup` implementation.\n            getBehaviorClass: function(options, key) {\n                if (options.behaviorClass) {\n                    return options.behaviorClass;\n                }\n\n                // Get behavior class can be either a flat object or a method\n                return Marionette._getValue(Behaviors.behaviorsLookup, this, [options, key])[key];\n            },\n\n            // Iterate over the behaviors object, for each behavior\n            // instantiate it and get its grouped behaviors.\n            parseBehaviors: function(view, behaviors) {\n                return _.chain(behaviors).map(function(options, key) {\n                    var BehaviorClass = Behaviors.getBehaviorClass(options, key);\n\n                    var behavior = new BehaviorClass(options, view);\n                    var nestedBehaviors = Behaviors.parseBehaviors(view, _.result(behavior, 'behaviors'));\n\n                    return [behavior].concat(nestedBehaviors);\n                }).flatten().value();\n            },\n\n            // Wrap view internal methods so that they delegate to behaviors. For example,\n            // `onDestroy` should trigger destroy on all of the behaviors and then destroy itself.\n            // i.e.\n            //\n            // `view.delegateEvents = _.partial(methods.delegateEvents, view.delegateEvents, behaviors);`\n            wrap: function(view, behaviors, methodNames) {\n                _.each(methodNames, function(methodName) {\n                    view[methodName] = _.partial(methods[methodName], view[methodName], behaviors);\n                });\n            }\n        });\n\n        // Class to build handlers for `triggers` on behaviors\n        // for views\n        function BehaviorTriggersBuilder(view, behaviors) {\n            this._view      = view;\n            this._behaviors = behaviors;\n            this._triggers  = {};\n        }\n\n        _.extend(BehaviorTriggersBuilder.prototype, {\n            // Main method to build the triggers hash with event keys and handlers\n            buildBehaviorTriggers: function() {\n                _.each(this._behaviors, this._buildTriggerHandlersForBehavior, this);\n                return this._triggers;\n            },\n\n            // Internal method to build all trigger handlers for a given behavior\n            _buildTriggerHandlersForBehavior: function(behavior, i) {\n                var triggersHash = _.clone(_.result(behavior, 'triggers')) || {};\n\n                triggersHash = Marionette.normalizeUIKeys(triggersHash, getBehaviorsUI(behavior));\n\n                _.each(triggersHash, _.bind(this._setHandlerForBehavior, this, behavior, i));\n            },\n\n            // Internal method to create and assign the trigger handler for a given\n            // behavior\n            _setHandlerForBehavior: function(behavior, i, eventName, trigger) {\n                // Unique identifier for the `this._triggers` hash\n                var triggerKey = trigger.replace(/^\\S+/, function(triggerName) {\n                    return triggerName + '.' + 'behaviortriggers' + i;\n                });\n\n                this._triggers[triggerKey] = this._view._buildViewTrigger(eventName);\n            }\n        });\n\n        function getBehaviorsUI(behavior) {\n            return behavior._uiBindings || behavior.ui;\n        }\n\n        return Behaviors;\n\n    })(Marionette, _);\n\n\n    // App Router\n    // ----------\n\n    // Reduce the boilerplate code of handling route events\n    // and then calling a single method on another object.\n    // Have your routers configured to call the method on\n    // your object, directly.\n    //\n    // Configure an AppRouter with `appRoutes`.\n    //\n    // App routers can only take one `controller` object.\n    // It is recommended that you divide your controller\n    // objects in to smaller pieces of related functionality\n    // and have multiple routers / controllers, instead of\n    // just one giant router and controller.\n    //\n    // You can also add standard routes to an AppRouter.\n\n    Marionette.AppRouter = Backbone.Router.extend({\n\n        constructor: function(options) {\n            this.options = options || {};\n\n            Backbone.Router.apply(this, arguments);\n\n            var appRoutes = this.getOption('appRoutes');\n            var controller = this._getController();\n            this.processAppRoutes(controller, appRoutes);\n            this.on('route', this._processOnRoute, this);\n        },\n\n        // Similar to route method on a Backbone Router but\n        // method is called on the controller\n        appRoute: function(route, methodName) {\n            var controller = this._getController();\n            this._addAppRoute(controller, route, methodName);\n        },\n\n        // process the route event and trigger the onRoute\n        // method call, if it exists\n        _processOnRoute: function(routeName, routeArgs) {\n            // make sure an onRoute before trying to call it\n            if (_.isFunction(this.onRoute)) {\n                // find the path that matches the current route\n                var routePath = _.invert(this.getOption('appRoutes'))[routeName];\n                this.onRoute(routeName, routePath, routeArgs);\n            }\n        },\n\n        // Internal method to process the `appRoutes` for the\n        // router, and turn them in to routes that trigger the\n        // specified method on the specified `controller`.\n        processAppRoutes: function(controller, appRoutes) {\n            if (!appRoutes) { return; }\n\n            var routeNames = _.keys(appRoutes).reverse(); // Backbone requires reverted order of routes\n\n            _.each(routeNames, function(route) {\n                this._addAppRoute(controller, route, appRoutes[route]);\n            }, this);\n        },\n\n        _getController: function() {\n            return this.getOption('controller');\n        },\n\n        _addAppRoute: function(controller, route, methodName) {\n            var method = controller[methodName];\n\n            if (!method) {\n                throw new Marionette.Error('Method \"' + methodName + '\" was not found on the controller');\n            }\n\n            this.route(route, methodName, _.bind(method, controller));\n        },\n\n        mergeOptions: Marionette.mergeOptions,\n\n        // Proxy `getOption` to enable getting options from this or this.options by name.\n        getOption: Marionette.proxyGetOption,\n\n        triggerMethod: Marionette.triggerMethod,\n\n        bindEntityEvents: Marionette.proxyBindEntityEvents,\n\n        unbindEntityEvents: Marionette.proxyUnbindEntityEvents\n    });\n\n    // Application\n    // -----------\n\n    // Contain and manage the composite application as a whole.\n    // Stores and starts up `Region` objects, includes an\n    // event aggregator as `app.vent`\n    Marionette.Application = Marionette.Object.extend({\n        constructor: function(options) {\n            this._initializeRegions(options);\n            this._initCallbacks = new Marionette.Callbacks();\n            this.submodules = {};\n            _.extend(this, options);\n            this._initChannel();\n            Marionette.Object.apply(this, arguments);\n        },\n\n        // Command execution, facilitated by Backbone.Wreqr.Commands\n        execute: function() {\n            this.commands.execute.apply(this.commands, arguments);\n        },\n\n        // Request/response, facilitated by Backbone.Wreqr.RequestResponse\n        request: function() {\n            return this.reqres.request.apply(this.reqres, arguments);\n        },\n\n        // Add an initializer that is either run at when the `start`\n        // method is called, or run immediately if added after `start`\n        // has already been called.\n        addInitializer: function(initializer) {\n            this._initCallbacks.add(initializer);\n        },\n\n        // kick off all of the application's processes.\n        // initializes all of the regions that have been added\n        // to the app, and runs all of the initializer functions\n        start: function(options) {\n            this.triggerMethod('before:start', options);\n            this._initCallbacks.run(options, this);\n            this.triggerMethod('start', options);\n        },\n\n        // Add regions to your app.\n        // Accepts a hash of named strings or Region objects\n        // addRegions({something: \"#someRegion\"})\n        // addRegions({something: Region.extend({el: \"#someRegion\"}) });\n        addRegions: function(regions) {\n            return this._regionManager.addRegions(regions);\n        },\n\n        // Empty all regions in the app, without removing them\n        emptyRegions: function() {\n            return this._regionManager.emptyRegions();\n        },\n\n        // Removes a region from your app, by name\n        // Accepts the regions name\n        // removeRegion('myRegion')\n        removeRegion: function(region) {\n            return this._regionManager.removeRegion(region);\n        },\n\n        // Provides alternative access to regions\n        // Accepts the region name\n        // getRegion('main')\n        getRegion: function(region) {\n            return this._regionManager.get(region);\n        },\n\n        // Get all the regions from the region manager\n        getRegions: function() {\n            return this._regionManager.getRegions();\n        },\n\n        // Create a module, attached to the application\n        module: function(moduleNames, moduleDefinition) {\n\n            // Overwrite the module class if the user specifies one\n            var ModuleClass = Marionette.Module.getClass(moduleDefinition);\n\n            var args = _.toArray(arguments);\n            args.unshift(this);\n\n            // see the Marionette.Module object for more information\n            return ModuleClass.create.apply(ModuleClass, args);\n        },\n\n        // Enable easy overriding of the default `RegionManager`\n        // for customized region interactions and business-specific\n        // view logic for better control over single regions.\n        getRegionManager: function() {\n            return new Marionette.RegionManager();\n        },\n\n        // Internal method to initialize the regions that have been defined in a\n        // `regions` attribute on the application instance\n        _initializeRegions: function(options) {\n            var regions = _.isFunction(this.regions) ? this.regions(options) : this.regions || {};\n\n            this._initRegionManager();\n\n            // Enable users to define `regions` in instance options.\n            var optionRegions = Marionette.getOption(options, 'regions');\n\n            // Enable region options to be a function\n            if (_.isFunction(optionRegions)) {\n                optionRegions = optionRegions.call(this, options);\n            }\n\n            // Overwrite current regions with those passed in options\n            _.extend(regions, optionRegions);\n\n            this.addRegions(regions);\n\n            return this;\n        },\n\n        // Internal method to set up the region manager\n        _initRegionManager: function() {\n            this._regionManager = this.getRegionManager();\n            this._regionManager._parent = this;\n\n            this.listenTo(this._regionManager, 'before:add:region', function() {\n                Marionette._triggerMethod(this, 'before:add:region', arguments);\n            });\n\n            this.listenTo(this._regionManager, 'add:region', function(name, region) {\n                this[name] = region;\n                Marionette._triggerMethod(this, 'add:region', arguments);\n            });\n\n            this.listenTo(this._regionManager, 'before:remove:region', function() {\n                Marionette._triggerMethod(this, 'before:remove:region', arguments);\n            });\n\n            this.listenTo(this._regionManager, 'remove:region', function(name) {\n                delete this[name];\n                Marionette._triggerMethod(this, 'remove:region', arguments);\n            });\n        },\n\n        // Internal method to setup the Wreqr.radio channel\n        _initChannel: function() {\n            this.channelName = _.result(this, 'channelName') || 'global';\n            this.channel = _.result(this, 'channel') || Backbone.Wreqr.radio.channel(this.channelName);\n            this.vent = _.result(this, 'vent') || this.channel.vent;\n            this.commands = _.result(this, 'commands') || this.channel.commands;\n            this.reqres = _.result(this, 'reqres') || this.channel.reqres;\n        }\n    });\n\n    /* jshint maxparams: 9 */\n\n    // Module\n    // ------\n\n    // A simple module system, used to create privacy and encapsulation in\n    // Marionette applications\n    Marionette.Module = function(moduleName, app, options) {\n        this.moduleName = moduleName;\n        this.options = _.extend({}, this.options, options);\n        // Allow for a user to overide the initialize\n        // for a given module instance.\n        this.initialize = options.initialize || this.initialize;\n\n        // Set up an internal store for sub-modules.\n        this.submodules = {};\n\n        this._setupInitializersAndFinalizers();\n\n        // Set an internal reference to the app\n        // within a module.\n        this.app = app;\n\n        if (_.isFunction(this.initialize)) {\n            this.initialize(moduleName, app, this.options);\n        }\n    };\n\n    Marionette.Module.extend = Marionette.extend;\n\n    // Extend the Module prototype with events / listenTo, so that the module\n    // can be used as an event aggregator or pub/sub.\n    _.extend(Marionette.Module.prototype, Backbone.Events, {\n\n        // By default modules start with their parents.\n        startWithParent: true,\n\n        // Initialize is an empty function by default. Override it with your own\n        // initialization logic when extending Marionette.Module.\n        initialize: function() {},\n\n        // Initializer for a specific module. Initializers are run when the\n        // module's `start` method is called.\n        addInitializer: function(callback) {\n            this._initializerCallbacks.add(callback);\n        },\n\n        // Finalizers are run when a module is stopped. They are used to teardown\n        // and finalize any variables, references, events and other code that the\n        // module had set up.\n        addFinalizer: function(callback) {\n            this._finalizerCallbacks.add(callback);\n        },\n\n        // Start the module, and run all of its initializers\n        start: function(options) {\n            // Prevent re-starting a module that is already started\n            if (this._isInitialized) { return; }\n\n            // start the sub-modules (depth-first hierarchy)\n            _.each(this.submodules, function(mod) {\n                // check to see if we should start the sub-module with this parent\n                if (mod.startWithParent) {\n                    mod.start(options);\n                }\n            });\n\n            // run the callbacks to \"start\" the current module\n            this.triggerMethod('before:start', options);\n\n            this._initializerCallbacks.run(options, this);\n            this._isInitialized = true;\n\n            this.triggerMethod('start', options);\n        },\n\n        // Stop this module by running its finalizers and then stop all of\n        // the sub-modules for this module\n        stop: function() {\n            // if we are not initialized, don't bother finalizing\n            if (!this._isInitialized) { return; }\n            this._isInitialized = false;\n\n            this.triggerMethod('before:stop');\n\n            // stop the sub-modules; depth-first, to make sure the\n            // sub-modules are stopped / finalized before parents\n            _.invoke(this.submodules, 'stop');\n\n            // run the finalizers\n            this._finalizerCallbacks.run(undefined, this);\n\n            // reset the initializers and finalizers\n            this._initializerCallbacks.reset();\n            this._finalizerCallbacks.reset();\n\n            this.triggerMethod('stop');\n        },\n\n        // Configure the module with a definition function and any custom args\n        // that are to be passed in to the definition function\n        addDefinition: function(moduleDefinition, customArgs) {\n            this._runModuleDefinition(moduleDefinition, customArgs);\n        },\n\n        // Internal method: run the module definition function with the correct\n        // arguments\n        _runModuleDefinition: function(definition, customArgs) {\n            // If there is no definition short circut the method.\n            if (!definition) { return; }\n\n            // build the correct list of arguments for the module definition\n            var args = _.flatten([\n                this,\n                this.app,\n                Backbone,\n                Marionette,\n                Backbone.$, _,\n                customArgs\n            ]);\n\n            definition.apply(this, args);\n        },\n\n        // Internal method: set up new copies of initializers and finalizers.\n        // Calling this method will wipe out all existing initializers and\n        // finalizers.\n        _setupInitializersAndFinalizers: function() {\n            this._initializerCallbacks = new Marionette.Callbacks();\n            this._finalizerCallbacks = new Marionette.Callbacks();\n        },\n\n        // import the `triggerMethod` to trigger events with corresponding\n        // methods if the method exists\n        triggerMethod: Marionette.triggerMethod\n    });\n\n    // Class methods to create modules\n    _.extend(Marionette.Module, {\n\n        // Create a module, hanging off the app parameter as the parent object.\n        create: function(app, moduleNames, moduleDefinition) {\n            var module = app;\n\n            // get the custom args passed in after the module definition and\n            // get rid of the module name and definition function\n            var customArgs = _.drop(arguments, 3);\n\n            // Split the module names and get the number of submodules.\n            // i.e. an example module name of `Doge.Wow.Amaze` would\n            // then have the potential for 3 module definitions.\n            moduleNames = moduleNames.split('.');\n            var length = moduleNames.length;\n\n            // store the module definition for the last module in the chain\n            var moduleDefinitions = [];\n            moduleDefinitions[length - 1] = moduleDefinition;\n\n            // Loop through all the parts of the module definition\n            _.each(moduleNames, function(moduleName, i) {\n                var parentModule = module;\n                module = this._getModule(parentModule, moduleName, app, moduleDefinition);\n                this._addModuleDefinition(parentModule, module, moduleDefinitions[i], customArgs);\n            }, this);\n\n            // Return the last module in the definition chain\n            return module;\n        },\n\n        _getModule: function(parentModule, moduleName, app, def, args) {\n            var options = _.extend({}, def);\n            var ModuleClass = this.getClass(def);\n\n            // Get an existing module of this name if we have one\n            var module = parentModule[moduleName];\n\n            if (!module) {\n                // Create a new module if we don't have one\n                module = new ModuleClass(moduleName, app, options);\n                parentModule[moduleName] = module;\n                // store the module on the parent\n                parentModule.submodules[moduleName] = module;\n            }\n\n            return module;\n        },\n\n        // ## Module Classes\n        //\n        // Module classes can be used as an alternative to the define pattern.\n        // The extend function of a Module is identical to the extend functions\n        // on other Backbone and Marionette classes.\n        // This allows module lifecyle events like `onStart` and `onStop` to be called directly.\n        getClass: function(moduleDefinition) {\n            var ModuleClass = Marionette.Module;\n\n            if (!moduleDefinition) {\n                return ModuleClass;\n            }\n\n            // If all of the module's functionality is defined inside its class,\n            // then the class can be passed in directly. `MyApp.module(\"Foo\", FooModule)`.\n            if (moduleDefinition.prototype instanceof ModuleClass) {\n                return moduleDefinition;\n            }\n\n            return moduleDefinition.moduleClass || ModuleClass;\n        },\n\n        // Add the module definition and add a startWithParent initializer function.\n        // This is complicated because module definitions are heavily overloaded\n        // and support an anonymous function, module class, or options object\n        _addModuleDefinition: function(parentModule, module, def, args) {\n            var fn = this._getDefine(def);\n            var startWithParent = this._getStartWithParent(def, module);\n\n            if (fn) {\n                module.addDefinition(fn, args);\n            }\n\n            this._addStartWithParent(parentModule, module, startWithParent);\n        },\n\n        _getStartWithParent: function(def, module) {\n            var swp;\n\n            if (_.isFunction(def) && (def.prototype instanceof Marionette.Module)) {\n                swp = module.constructor.prototype.startWithParent;\n                return _.isUndefined(swp) ? true : swp;\n            }\n\n            if (_.isObject(def)) {\n                swp = def.startWithParent;\n                return _.isUndefined(swp) ? true : swp;\n            }\n\n            return true;\n        },\n\n        _getDefine: function(def) {\n            if (_.isFunction(def) && !(def.prototype instanceof Marionette.Module)) {\n                return def;\n            }\n\n            if (_.isObject(def)) {\n                return def.define;\n            }\n\n            return null;\n        },\n\n        _addStartWithParent: function(parentModule, module, startWithParent) {\n            module.startWithParent = module.startWithParent && startWithParent;\n\n            if (!module.startWithParent || !!module.startWithParentIsConfigured) {\n                return;\n            }\n\n            module.startWithParentIsConfigured = true;\n\n            parentModule.addInitializer(function(options) {\n                if (module.startWithParent) {\n                    module.start(options);\n                }\n            });\n        }\n    });\n\n\n    return Marionette;\n}));\n","Goomento_PageBuilder/lib/backbone/backbone.marionette.min.js":"// MarionetteJS (Backbone.Marionette)\n// ----------------------------------\n// v2.4.5\n//\n// Copyright (c)2016 Derick Bailey, Muted Solutions, LLC.\n// Distributed under MIT license\n//\n// http://marionettejs.com\n\n\n/*!\n * Includes BabySitter\n * https://github.com/marionettejs/backbone.babysitter/\n *\n * Includes Wreqr\n * https://github.com/marionettejs/backbone.wreqr/\n */\n\n\n\n!function(a,b){if(\"function\"==typeof define&&define.amd)define([\"backbone\",\"underscore\"],function(c,d){return a.Marionette=a.Mn=b(a,c,d)});else if(\"undefined\"!=typeof exports){var c=require(\"backbone\"),d=require(\"underscore\");module.exports=b(a,c,d)}else a.Marionette=a.Mn=b(a,a.Backbone,a._)}(this,function(a,b,c){\"use strict\";!function(a,b){var c=a.ChildViewContainer;return a.ChildViewContainer=function(a,b){var c=function(a){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),b.each(a,this.add,this)};b.extend(c.prototype,{add:function(a,b){var c=a.cid;return this._views[c]=a,a.model&&(this._indexByModel[a.model.cid]=c),b&&(this._indexByCustom[b]=c),this._updateLength(),this},findByModel:function(a){return this.findByModelCid(a.cid)},findByModelCid:function(a){var b=this._indexByModel[a];return this.findByCid(b)},findByCustom:function(a){var b=this._indexByCustom[a];return this.findByCid(b)},findByIndex:function(a){return b.values(this._views)[a]},findByCid:function(a){return this._views[a]},remove:function(a){var c=a.cid;return a.model&&delete this._indexByModel[a.model.cid],b.any(this._indexByCustom,function(a,b){return a===c?(delete this._indexByCustom[b],!0):void 0},this),delete this._views[c],this._updateLength(),this},call:function(a){this.apply(a,b.tail(arguments))},apply:function(a,c){b.each(this._views,function(d){b.isFunction(d[a])&&d[a].apply(d,c||[])})},_updateLength:function(){this.length=b.size(this._views)}});var d=[\"forEach\",\"each\",\"map\",\"find\",\"detect\",\"filter\",\"select\",\"reject\",\"every\",\"all\",\"some\",\"any\",\"include\",\"contains\",\"invoke\",\"toArray\",\"first\",\"initial\",\"rest\",\"last\",\"without\",\"isEmpty\",\"pluck\",\"reduce\"];return b.each(d,function(a){c.prototype[a]=function(){var c=b.values(this._views),d=[c].concat(b.toArray(arguments));return b[a].apply(b,d)}}),c}(a,b),a.ChildViewContainer.VERSION=\"0.1.11\",a.ChildViewContainer.noConflict=function(){return a.ChildViewContainer=c,this},a.ChildViewContainer}(b,c),function(a,b){var c=a.Wreqr,d=a.Wreqr={};return a.Wreqr.VERSION=\"1.3.6\",a.Wreqr.noConflict=function(){return a.Wreqr=c,this},d.Handlers=function(a,b){var c=function(a){this.options=a,this._wreqrHandlers={},b.isFunction(this.initialize)&&this.initialize(a)};return c.extend=a.Model.extend,b.extend(c.prototype,a.Events,{setHandlers:function(a){b.each(a,function(a,c){var d=null;b.isObject(a)&&!b.isFunction(a)&&(d=a.context,a=a.callback),this.setHandler(c,a,d)},this)},setHandler:function(a,b,c){var d={callback:b,context:c};this._wreqrHandlers[a]=d,this.trigger(\"handler:add\",a,b,c)},hasHandler:function(a){return!!this._wreqrHandlers[a]},getHandler:function(a){var b=this._wreqrHandlers[a];if(b)return function(){return b.callback.apply(b.context,arguments)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}}),c}(a,b),d.CommandStorage=function(){var c=function(a){this.options=a,this._commands={},b.isFunction(this.initialize)&&this.initialize(a)};return b.extend(c.prototype,a.Events,{getCommands:function(a){var b=this._commands[a];return b||(b={command:a,instances:[]},this._commands[a]=b),b},addCommand:function(a,b){var c=this.getCommands(a);c.instances.push(b)},clearCommands:function(a){var b=this.getCommands(a);b.instances=[]}}),c}(),d.Commands=function(a,b){return a.Handlers.extend({storageType:a.CommandStorage,constructor:function(b){this.options=b||{},this._initializeStorage(this.options),this.on(\"handler:add\",this._executeCommands,this),a.Handlers.prototype.constructor.apply(this,arguments)},execute:function(a){a=arguments[0];var c=b.rest(arguments);this.hasHandler(a)?this.getHandler(a).apply(this,c):this.storage.addCommand(a,c)},_executeCommands:function(a,c,d){var e=this.storage.getCommands(a);b.each(e.instances,function(a){c.apply(d,a)}),this.storage.clearCommands(a)},_initializeStorage:function(a){var c,d=a.storageType||this.storageType;c=b.isFunction(d)?new d:d,this.storage=c}})}(d,b),d.RequestResponse=function(a,b){return a.Handlers.extend({request:function(a){return this.hasHandler(a)?this.getHandler(a).apply(this,b.rest(arguments)):void 0}})}(d,b),d.EventAggregator=function(a,b){var c=function(){};return c.extend=a.Model.extend,b.extend(c.prototype,a.Events),c}(a,b),d.Channel=function(c){var d=function(b){this.vent=new a.Wreqr.EventAggregator,this.reqres=new a.Wreqr.RequestResponse,this.commands=new a.Wreqr.Commands,this.channelName=b};return b.extend(d.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(a,b){return this._connect(\"vent\",a,b),this},connectCommands:function(a,b){return this._connect(\"commands\",a,b),this},connectRequests:function(a,b){return this._connect(\"reqres\",a,b),this},_connect:function(a,c,d){if(c){d=d||this;var e=\"vent\"===a?\"on\":\"setHandler\";b.each(c,function(c,f){this[a][e](f,b.bind(c,d))},this)}}}),d}(d),d.radio=function(a,b){var c=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};b.extend(c.prototype,{channel:function(a){if(!a)throw new Error(\"Channel must receive a name\");return this._getChannel(a)},_getChannel:function(b){var c=this._channels[b];return c||(c=new a.Channel(b),this._channels[b]=c),c},_proxyMethods:function(){b.each([\"vent\",\"commands\",\"reqres\"],function(a){b.each(d[a],function(b){this[a][b]=e(this,a,b)},this)},this)}});var d={vent:[\"on\",\"off\",\"trigger\",\"once\",\"stopListening\",\"listenTo\",\"listenToOnce\"],commands:[\"execute\",\"setHandler\",\"setHandlers\",\"removeHandler\",\"removeAllHandlers\"],reqres:[\"request\",\"setHandler\",\"setHandlers\",\"removeHandler\",\"removeAllHandlers\"]},e=function(a,c,d){return function(e){var f=a._getChannel(e)[c];return f[d].apply(f,b.rest(arguments))}};return new c}(d,b),a.Wreqr}(b,c);var d=a.Marionette,e=a.Mn,f=b.Marionette={};f.VERSION=\"2.4.5\",f.noConflict=function(){return a.Marionette=d,a.Mn=e,this},b.Marionette=f,f.Deferred=b.$.Deferred,f.extend=b.Model.extend,f.isNodeAttached=function(a){return b.$.contains(document.documentElement,a)},f.mergeOptions=function(a,b){a&&c.extend(this,c.pick(a,b))},f.getOption=function(a,b){return a&&b?a.options&&void 0!==a.options[b]?a.options[b]:a[b]:void 0},f.proxyGetOption=function(a){return f.getOption(this,a)},f._getValue=function(a,b,d){return c.isFunction(a)&&(a=d?a.apply(b,d):a.call(b)),a},f.normalizeMethods=function(a){return c.reduce(a,function(a,b,d){return c.isFunction(b)||(b=this[b]),b&&(a[d]=b),a},{},this)},f.normalizeUIString=function(a,b){return a.replace(/@ui\\.[a-zA-Z-_$0-9]*/g,function(a){return b[a.slice(4)]})},f.normalizeUIKeys=function(a,b){return c.reduce(a,function(a,c,d){var e=f.normalizeUIString(d,b);return a[e]=c,a},{})},f.normalizeUIValues=function(a,b,d){return c.each(a,function(e,g){c.isString(e)?a[g]=f.normalizeUIString(e,b):c.isObject(e)&&c.isArray(d)&&(c.extend(e,f.normalizeUIValues(c.pick(e,d),b)),c.each(d,function(a){var d=e[a];c.isString(d)&&(e[a]=f.normalizeUIString(d,b))}))}),a},f.actAsCollection=function(a,b){var d=[\"forEach\",\"each\",\"map\",\"find\",\"detect\",\"filter\",\"select\",\"reject\",\"every\",\"all\",\"some\",\"any\",\"include\",\"contains\",\"invoke\",\"toArray\",\"first\",\"initial\",\"rest\",\"last\",\"without\",\"isEmpty\",\"pluck\"];c.each(d,function(d){a[d]=function(){var a=c.values(c.result(this,b)),e=[a].concat(c.toArray(arguments));return c[d].apply(c,e)}})};var g=f.deprecate=function(a,b){c.isObject(a)&&(a=a.prev+\" is going to be removed in the future. Please use \"+a.next+\" instead.\"+(a.url?\" See: \"+a.url:\"\")),void 0!==b&&b||g._cache[a]||(g._warn(\"Deprecation warning: \"+a),g._cache[a]=!0)};g._console=\"undefined\"!=typeof console?console:{},g._warn=function(){var a=g._console.warn||g._console.log||function(){};return a.apply(g._console,arguments)},g._cache={},f._triggerMethod=function(){function a(a,b,c){return c.toUpperCase()}var b=/(^|:)(\\w)/gi;return function(d,e,f){var g=arguments.length<3;g&&(f=e,e=f[0]);var h,i=\"on\"+e.replace(b,a),j=d[i];return c.isFunction(j)&&(h=j.apply(d,g?c.rest(f):f)),c.isFunction(d.trigger)&&(g+f.length>1?d.trigger.apply(d,g?f:[e].concat(c.drop(f,0))):d.trigger(e)),h}}(),f.triggerMethod=function(a){return f._triggerMethod(this,arguments)},f.triggerMethodOn=function(a){var b=c.isFunction(a.triggerMethod)?a.triggerMethod:f.triggerMethod;return b.apply(a,c.rest(arguments))},f.MonitorDOMRefresh=function(a){function b(){a._isShown=!0,d()}function c(){a._isRendered=!0,d()}function d(){a._isShown&&a._isRendered&&f.isNodeAttached(a.el)&&f.triggerMethodOn(a,\"dom:refresh\",a)}a._isDomRefreshMonitored||(a._isDomRefreshMonitored=!0,a.on({show:b,render:c}))},function(a){function b(b,d,e,f){var g=f.split(/\\s+/);c.each(g,function(c){var f=b[c];if(!f)throw new a.Error('Method \"'+c+'\" was configured as an event handler, but does not exist.');b.listenTo(d,e,f)})}function d(a,b,c,d){a.listenTo(b,c,d)}function e(a,b,d,e){var f=e.split(/\\s+/);c.each(f,function(c){var e=a[c];a.stopListening(b,d,e)})}function f(a,b,c,d){a.stopListening(b,c,d)}function g(b,d,e,f,g){if(d&&e){if(!c.isObject(e))throw new a.Error({message:\"Bindings must be an object or function.\",url:\"marionette.functions.html#marionettebindentityevents\"});e=a._getValue(e,b),c.each(e,function(a,e){c.isFunction(a)?f(b,d,e,a):g(b,d,e,a)})}}a.bindEntityEvents=function(a,c,e){g(a,c,e,d,b)},a.unbindEntityEvents=function(a,b,c){g(a,b,c,f,e)},a.proxyBindEntityEvents=function(b,c){return a.bindEntityEvents(this,b,c)},a.proxyUnbindEntityEvents=function(b,c){return a.unbindEntityEvents(this,b,c)}}(f);var h=[\"description\",\"fileName\",\"lineNumber\",\"name\",\"message\",\"number\"];return f.Error=f.extend.call(Error,{urlRoot:\"http://marionettejs.com/docs/v\"+f.VERSION+\"/\",constructor:function(a,b){c.isObject(a)?(b=a,a=b.message):b||(b={});var d=Error.call(this,a);c.extend(this,c.pick(d,h),c.pick(b,h)),this.captureStackTrace(),b.url&&(this.url=this.urlRoot+b.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,f.Error)},toString:function(){return this.name+\": \"+this.message+(this.url?\" See: \"+this.url:\"\")}}),f.Error.extend=f.extend,f.Callbacks=function(){this._deferred=f.Deferred(),this._callbacks=[]},c.extend(f.Callbacks.prototype,{add:function(a,b){var d=c.result(this._deferred,\"promise\");this._callbacks.push({cb:a,ctx:b}),d.then(function(c){b&&(c.context=b),a.call(c.context,c.options)})},run:function(a,b){this._deferred.resolve({options:a,context:b})},reset:function(){var a=this._callbacks;this._deferred=f.Deferred(),this._callbacks=[],c.each(a,function(a){this.add(a.cb,a.ctx)},this)}}),f.Controller=function(a){this.options=a||{},c.isFunction(this.initialize)&&this.initialize(this.options)},f.Controller.extend=f.extend,c.extend(f.Controller.prototype,b.Events,{destroy:function(){return f._triggerMethod(this,\"before:destroy\",arguments),f._triggerMethod(this,\"destroy\",arguments),this.stopListening(),this.off(),this},triggerMethod:f.triggerMethod,mergeOptions:f.mergeOptions,getOption:f.proxyGetOption}),f.Object=function(a){this.options=c.extend({},c.result(this,\"options\"),a),this.initialize.apply(this,arguments)},f.Object.extend=f.extend,c.extend(f.Object.prototype,b.Events,{initialize:function(){},destroy:function(a){return a=a||{},this.triggerMethod(\"before:destroy\",a),this.triggerMethod(\"destroy\",a),this.stopListening(),this},triggerMethod:f.triggerMethod,mergeOptions:f.mergeOptions,getOption:f.proxyGetOption,bindEntityEvents:f.proxyBindEntityEvents,unbindEntityEvents:f.proxyUnbindEntityEvents}),f.Region=f.Object.extend({constructor:function(a){if(this.options=a||{},this.el=this.getOption(\"el\"),this.el=this.el instanceof b.$?this.el[0]:this.el,!this.el)throw new f.Error({name:\"NoElError\",message:'An \"el\" must be specified for a region.'});this.$el=this.getEl(this.el),f.Object.call(this,a)},show:function(a,b){if(this._ensureElement()){this._ensureViewIsIntact(a),f.MonitorDOMRefresh(a);var d=b||{},e=a!==this.currentView,g=!!d.preventDestroy,h=!!d.forceShow,i=!!this.currentView,j=e&&!g,k=e||h;if(i&&this.triggerMethod(\"before:swapOut\",this.currentView,this,b),this.currentView&&e&&delete this.currentView._parent,j?this.empty():i&&k&&this.currentView.off(\"destroy\",this.empty,this),k){a.once(\"destroy\",this.empty,this),a._parent=this,this._renderView(a),i&&this.triggerMethod(\"before:swap\",a,this,b),this.triggerMethod(\"before:show\",a,this,b),f.triggerMethodOn(a,\"before:show\",a,this,b),i&&this.triggerMethod(\"swapOut\",this.currentView,this,b);var l=f.isNodeAttached(this.el),m=[],n=c.extend({triggerBeforeAttach:this.triggerBeforeAttach,triggerAttach:this.triggerAttach},d);return l&&n.triggerBeforeAttach&&(m=this._displayedViews(a),this._triggerAttach(m,\"before:\")),this.attachHtml(a),this.currentView=a,l&&n.triggerAttach&&(m=this._displayedViews(a),this._triggerAttach(m)),i&&this.triggerMethod(\"swap\",a,this,b),this.triggerMethod(\"show\",a,this,b),f.triggerMethodOn(a,\"show\",a,this,b),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(a,b){var d=(b||\"\")+\"attach\";c.each(a,function(a){f.triggerMethodOn(a,d,a,this)},this)},_displayedViews:function(a){return c.union([a],c.result(a,\"_getNestedViews\")||[])},_renderView:function(a){a.supportsRenderLifecycle||f.triggerMethodOn(a,\"before:render\",a),a.render(),a.supportsRenderLifecycle||f.triggerMethodOn(a,\"render\",a)},_ensureElement:function(){if(c.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption(\"allowMissingEl\"))return!1;throw new f.Error('An \"el\" '+this.$el.selector+\" must exist in DOM\")}return!0},_ensureViewIsIntact:function(a){if(!a)throw new f.Error({name:\"ViewNotValid\",message:\"The view passed is undefined and therefore invalid. You must pass a view instance to show.\"});if(a.isDestroyed)throw new f.Error({name:\"ViewDestroyedError\",message:'View (cid: \"'+a.cid+'\") has already been destroyed and cannot be used.'})},getEl:function(a){return b.$(a,f._getValue(this.options.parentEl,this))},attachHtml:function(a){this.$el.contents().detach(),this.el.appendChild(a.el)},empty:function(a){var b=this.currentView,c=a||{},d=!!c.preventDestroy;return b?(b.off(\"destroy\",this.empty,this),this.triggerMethod(\"before:empty\",b),d||this._destroyView(),this.triggerMethod(\"empty\",b),delete this.currentView,d&&this.$el.contents().detach(),this):this},_destroyView:function(){var a=this.currentView;a.isDestroyed||(a.supportsDestroyLifecycle||f.triggerMethodOn(a,\"before:destroy\",a),a.destroy?a.destroy():(a.remove(),a.isDestroyed=!0),a.supportsDestroyLifecycle||f.triggerMethodOn(a,\"destroy\",a))},attachView:function(a){return this.currentView&&delete this.currentView._parent,a._parent=this,this.currentView=a,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildRegion:function(a,b){if(c.isString(a))return this._buildRegionFromSelector(a,b);if(a.selector||a.el||a.regionClass)return this._buildRegionFromObject(a,b);if(c.isFunction(a))return this._buildRegionFromRegionClass(a);throw new f.Error({message:\"Improper region configuration type.\",url:\"marionette.region.html#region-configuration-types\"})},_buildRegionFromSelector:function(a,b){return new b({el:a})},_buildRegionFromObject:function(a,b){var d=a.regionClass||b,e=c.omit(a,\"selector\",\"regionClass\");return a.selector&&!e.el&&(e.el=a.selector),new d(e)},_buildRegionFromRegionClass:function(a){return new a}}),f.RegionManager=f.Controller.extend({constructor:function(a){this._regions={},this.length=0,f.Controller.call(this,a),this.addRegions(this.getOption(\"regions\"))},addRegions:function(a,b){return a=f._getValue(a,this,arguments),c.reduce(a,function(a,d,e){return c.isString(d)&&(d={selector:d}),d.selector&&(d=c.defaults({},d,b)),a[e]=this.addRegion(e,d),a},{},this)},addRegion:function(a,b){var c;return c=b instanceof f.Region?b:f.Region.buildRegion(b,f.Region),this.triggerMethod(\"before:add:region\",a,c),c._parent=this,this._store(a,c),this.triggerMethod(\"add:region\",a,c),c},get:function(a){return this._regions[a]},getRegions:function(){return c.clone(this._regions)},removeRegion:function(a){var b=this._regions[a];return this._remove(a,b),b},removeRegions:function(){var a=this.getRegions();return c.each(this._regions,function(a,b){this._remove(b,a)},this),a},emptyRegions:function(){var a=this.getRegions();return c.invoke(a,\"empty\"),a},destroy:function(){return this.removeRegions(),f.Controller.prototype.destroy.apply(this,arguments)},_store:function(a,b){this._regions[a]||this.length++,this._regions[a]=b},_remove:function(a,b){this.triggerMethod(\"before:remove:region\",a,b),b.empty(),b.stopListening(),delete b._parent,delete this._regions[a],this.length--,this.triggerMethod(\"remove:region\",a,b)}}),f.actAsCollection(f.RegionManager.prototype,\"_regions\"),f.TemplateCache=function(a){this.templateId=a},c.extend(f.TemplateCache,{templateCaches:{},get:function(a,b){var c=this.templateCaches[a];return c||(c=new f.TemplateCache(a),this.templateCaches[a]=c),c.load(b)},clear:function(){var a,b=c.toArray(arguments),d=b.length;if(d>0)for(a=0;d>a;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}}),c.extend(f.TemplateCache.prototype,{load:function(a){if(this.compiledTemplate)return this.compiledTemplate;var b=this.loadTemplate(this.templateId,a);return this.compiledTemplate=this.compileTemplate(b,a),this.compiledTemplate},loadTemplate:function(a,c){var d=b.$(a);if(!d.length)throw new f.Error({name:\"NoTemplateError\",message:'Could not find template: \"'+a+'\"'});return d.html()},compileTemplate:function(a,b){return c.template(a,b)}}),f.Renderer={render:function(a,b){if(!a)throw new f.Error({name:\"TemplateNotFoundError\",message:\"Cannot render the template since its false, null or undefined.\"});var d=c.isFunction(a)?a:f.TemplateCache.get(a);return d(b)}},f.View=b.View.extend({isDestroyed:!1,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,constructor:function(a){this.render=c.bind(this.render,this),a=f._getValue(a,this),this.options=c.extend({},c.result(this,\"options\"),a),this._behaviors=f.Behaviors(this),b.View.call(this,this.options),f.MonitorDOMRefresh(this)},getTemplate:function(){return this.getOption(\"template\")},serializeModel:function(a){return a.toJSON.apply(a,c.rest(arguments))},mixinTemplateHelpers:function(a){a=a||{};var b=this.getOption(\"templateHelpers\");return b=f._getValue(b,this),c.extend(a,b)},normalizeUIKeys:function(a){var b=c.result(this,\"_uiBindings\");return f.normalizeUIKeys(a,b||c.result(this,\"ui\"))},normalizeUIValues:function(a,b){var d=c.result(this,\"ui\"),e=c.result(this,\"_uiBindings\");return f.normalizeUIValues(a,e||d,b)},configureTriggers:function(){if(this.triggers){var a=this.normalizeUIKeys(c.result(this,\"triggers\"));return c.reduce(a,function(a,b,c){return a[c]=this._buildViewTrigger(b),a},{},this)}},delegateEvents:function(a){return this._delegateDOMEvents(a),this.bindEntityEvents(this.model,this.getOption(\"modelEvents\")),this.bindEntityEvents(this.collection,this.getOption(\"collectionEvents\")),c.each(this._behaviors,function(a){a.bindEntityEvents(this.model,a.getOption(\"modelEvents\")),a.bindEntityEvents(this.collection,a.getOption(\"collectionEvents\"))},this),this},_delegateDOMEvents:function(a){var d=f._getValue(a||this.events,this);d=this.normalizeUIKeys(d),c.isUndefined(a)&&(this.events=d);var e={},g=c.result(this,\"behaviorEvents\")||{},h=this.configureTriggers(),i=c.result(this,\"behaviorTriggers\")||{};c.extend(e,g,d,h,i),b.View.prototype.delegateEvents.call(this,e)},undelegateEvents:function(){return b.View.prototype.undelegateEvents.apply(this,arguments),this.unbindEntityEvents(this.model,this.getOption(\"modelEvents\")),this.unbindEntityEvents(this.collection,this.getOption(\"collectionEvents\")),c.each(this._behaviors,function(a){a.unbindEntityEvents(this.model,a.getOption(\"modelEvents\")),a.unbindEntityEvents(this.collection,a.getOption(\"collectionEvents\"))},this),this},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new f.Error({name:\"ViewDestroyedError\",message:'View (cid: \"'+this.cid+'\") has already been destroyed and cannot be used.'})},destroy:function(){if(this.isDestroyed)return this;var a=c.toArray(arguments);return this.triggerMethod.apply(this,[\"before:destroy\"].concat(a)),this.isDestroyed=!0,this.triggerMethod.apply(this,[\"destroy\"].concat(a)),this.unbindUIElements(),this.isRendered=!1,this.remove(),c.invoke(this._behaviors,\"destroy\",a),this},bindUIElements:function(){this._bindUIElements(),c.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=c.result(this,\"_uiBindings\");this.ui={},c.each(a,function(a,b){this.ui[b]=this.$(a)},this)}},unbindUIElements:function(){this._unbindUIElements(),c.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(c.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(a){var b=c.defaults({},a,{preventDefault:!0,stopPropagation:!0}),d=c.isObject(a)?b.event:a;return function(a){a&&(a.preventDefault&&b.preventDefault&&a.preventDefault(),a.stopPropagation&&b.stopPropagation&&a.stopPropagation());var c={view:this,model:this.model,collection:this.collection};this.triggerMethod(d,c)}},setElement:function(){var a=b.View.prototype.setElement.apply(this,arguments);return c.invoke(this._behaviors,\"proxyViewProperties\",this),a},triggerMethod:function(){var a=f._triggerMethod(this,arguments);return this._triggerEventOnBehaviors(arguments),this._triggerEventOnParentLayout(arguments[0],c.rest(arguments)),a},_triggerEventOnBehaviors:function(a){for(var b=f._triggerMethod,c=this._behaviors,d=0,e=c&&c.length;e>d;d++)b(c[d],a)},_triggerEventOnParentLayout:function(a,b){var d=this._parentLayoutView();if(d){var e=f.getOption(d,\"childViewEventPrefix\"),g=e+\":\"+a,h=[this].concat(b);f._triggerMethod(d,g,h);var i=f.getOption(d,\"childEvents\");i=f._getValue(i,d);var j=d.normalizeMethods(i);j&&c.isFunction(j[a])&&j[a].apply(d,h)}},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var a=this._getImmediateChildren();return a.length?c.reduce(a,function(a,b){return b._getNestedViews?a.concat(b._getNestedViews()):a},a):a},_parentLayoutView:function(){for(var a=this._parent;a;){if(a instanceof f.LayoutView)return a;a=a._parent}},normalizeMethods:f.normalizeMethods,mergeOptions:f.mergeOptions,getOption:f.proxyGetOption,bindEntityEvents:f.proxyBindEntityEvents,unbindEntityEvents:f.proxyUnbindEntityEvents}),f.ItemView=f.View.extend({constructor:function(){f.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var a=[this.model||this.collection];return arguments.length&&a.push.apply(a,arguments),this.model?this.serializeModel.apply(this,a):{items:this.serializeCollection.apply(this,a)}},serializeCollection:function(a){return a.toJSON.apply(a,c.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod(\"before:render\",this),this._renderTemplate(),this.isRendered=!0,this.bindUIElements(),this.triggerMethod(\"render\",this),this},_renderTemplate:function(){var a=this.getTemplate();if(a!==!1){if(!a)throw new f.Error({name:\"UndefinedTemplateError\",message:\"Cannot render the template since it is null or undefined.\"});var b=this.mixinTemplateHelpers(this.serializeData()),c=f.Renderer.render(a,b,this);return this.attachElContent(c),this}},attachElContent:function(a){return this.$el.html(a),this}}),f.CollectionView=f.View.extend({childViewEventPrefix:\"childview\",sort:!0,constructor:function(a){this.once(\"render\",this._initialEvents),this._initChildViewStorage(),f.View.apply(this,arguments),this.on({\"before:show\":this._onBeforeShowCalled,show:this._onShowCalled,\"before:attach\":this._onBeforeAttachCalled,attach:this._onAttachCalled}),this.initRenderBuffer()},initRenderBuffer:function(){this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){var a,b=this._isShown&&f.isNodeAttached(this.el);this.isBuffering=!1,this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,\"before:show\"),b&&this._triggerBeforeAttach&&(a=this._getNestedViews(),this._triggerMethodMany(a,this,\"before:attach\")),this.attachBuffer(this,this._createBuffer()),b&&this._triggerAttach&&(a=this._getNestedViews(),this._triggerMethodMany(a,this,\"attach\")),this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,\"show\"),this.initRenderBuffer()},_triggerMethodMany:function(a,b,d){var e=c.drop(arguments,3);c.each(a,function(a){f.triggerMethodOn.apply(a,[a,d,a,b].concat(e))})},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,\"add\",this._onCollectionAdd),this.listenTo(this.collection,\"remove\",this._onCollectionRemove),this.listenTo(this.collection,\"reset\",this.render),this.getOption(\"sort\")&&this.listenTo(this.collection,\"sort\",this._sortViews))},_onCollectionAdd:function(a,b,d){var e=void 0!==d.at&&(d.index||b.indexOf(a));if((this.getOption(\"filter\")||e===!1)&&(e=c.indexOf(this._filteredSortedModels(e),a)),this._shouldAddChild(a,e)){this.destroyEmptyView();var f=this.getChildView(a);this.addChild(a,f,e)}},_onCollectionRemove:function(a){var b=this.children.findByModel(a);this.removeChildView(b),this.checkEmpty()},_onBeforeShowCalled:function(){this._triggerBeforeAttach=this._triggerAttach=!1,this.children.each(function(a){f.triggerMethodOn(a,\"before:show\",a)})},_onShowCalled:function(){this.children.each(function(a){f.triggerMethodOn(a,\"show\",a)})},_onBeforeAttachCalled:function(){this._triggerBeforeAttach=!0},_onAttachCalled:function(){this._triggerAttach=!0},render:function(){return this._ensureViewIsIntact(),this.triggerMethod(\"before:render\",this),this._renderChildren(),this.isRendered=!0,this.triggerMethod(\"render\",this),this},reorder:function(){var a=this.children,b=this._filteredSortedModels(),d=c.some(b,function(b){return!a.findByModel(b)});if(d)this.render();else{var e=c.map(b,function(b,c){var d=a.findByModel(b);return d._index=c,d.el}),f=a.filter(function(a){return!c.contains(e,a.el)});this.triggerMethod(\"before:reorder\"),this._appendReorderedChildren(e),c.each(f,this.removeChildView,this),this.checkEmpty(),this.triggerMethod(\"reorder\")}},resortView:function(){f.getOption(this,\"reorderOnSort\")?this.reorder():this.render()},_sortViews:function(){var a=this._filteredSortedModels(),b=c.find(a,function(a,b){var c=this.children.findByModel(a);return!c||c._index!==b},this);b&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(a){this.$el.append(a)},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren({checkEmpty:!1}),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod(\"before:render:collection\",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod(\"render:collection\",this),this.children.isEmpty()&&this.getOption(\"filter\")&&this.showEmptyView())},showCollection:function(){var a,b=this._filteredSortedModels();c.each(b,function(b,c){a=this.getChildView(b),this.addChild(b,a,c)},this)},_filteredSortedModels:function(a){var b=this.getViewComparator(),d=this.collection.models;if(a=Math.min(Math.max(a,0),d.length-1),b){var e;a&&(e=d[a],d=d.slice(0,a).concat(d.slice(a+1))),d=this._sortModelsBy(d,b),e&&d.splice(a,0,e)}return this.getOption(\"filter\")&&(d=c.filter(d,function(a,b){return this._shouldAddChild(a,b)},this)),d},_sortModelsBy:function(a,b){return\"string\"==typeof b?c.sortBy(a,function(a){return a.get(b)},this):1===b.length?c.sortBy(a,b,this):a.sort(c.bind(b,this))},showEmptyView:function(){var a=this.getEmptyView();if(a&&!this._showingEmptyView){this.triggerMethod(\"before:render:empty\"),this._showingEmptyView=!0;var c=new b.Model;this.addEmptyView(c,a),this.triggerMethod(\"render:empty\")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod(\"before:remove:empty\"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod(\"remove:empty\"))},getEmptyView:function(){return this.getOption(\"emptyView\")},addEmptyView:function(a,b){var d,e=this._isShown&&!this.isBuffering&&f.isNodeAttached(this.el),g=this.getOption(\"emptyViewOptions\")||this.getOption(\"childViewOptions\");c.isFunction(g)&&(g=g.call(this,a,this._emptyViewIndex));var h=this.buildChildView(a,b,g);h._parent=this,this.proxyChildEvents(h),h.once(\"render\",function(){this._isShown&&f.triggerMethodOn(h,\"before:show\",h),e&&this._triggerBeforeAttach&&(d=this._getViewAndNested(h),this._triggerMethodMany(d,this,\"before:attach\"))},this),this.children.add(h),this.renderChildView(h,this._emptyViewIndex),e&&this._triggerAttach&&(d=this._getViewAndNested(h),this._triggerMethodMany(d,this,\"attach\")),this._isShown&&f.triggerMethodOn(h,\"show\",h)},getChildView:function(a){var b=this.getOption(\"childView\");if(!b)throw new f.Error({name:\"NoChildViewError\",message:'A \"childView\" must be specified'});return b},addChild:function(a,b,c){var d=this.getOption(\"childViewOptions\");d=f._getValue(d,this,[a,c]);var e=this.buildChildView(a,b,d);return this._updateIndices(e,!0,c),this.triggerMethod(\"before:add:child\",e),this._addChildView(e,c),this.triggerMethod(\"add:child\",e),e._parent=this,e},_updateIndices:function(a,b,c){this.getOption(\"sort\")&&(b&&(a._index=c),this.children.each(function(c){c._index>=a._index&&(c._index+=b?1:-1)}))},_addChildView:function(a,b){var c,d=this._isShown&&!this.isBuffering&&f.isNodeAttached(this.el);this.proxyChildEvents(a),a.once(\"render\",function(){this._isShown&&!this.isBuffering&&f.triggerMethodOn(a,\"before:show\",a),d&&this._triggerBeforeAttach&&(c=this._getViewAndNested(a),this._triggerMethodMany(c,this,\"before:attach\"))},this),this.children.add(a),this.renderChildView(a,b),d&&this._triggerAttach&&(c=this._getViewAndNested(a),this._triggerMethodMany(c,this,\"attach\")),this._isShown&&!this.isBuffering&&f.triggerMethodOn(a,\"show\",a)},renderChildView:function(a,b){return a.supportsRenderLifecycle||f.triggerMethodOn(a,\"before:render\",a),a.render(),a.supportsRenderLifecycle||f.triggerMethodOn(a,\"render\",a),this.attachHtml(this,a,b),a},buildChildView:function(a,b,d){var e=c.extend({model:a},d),g=new b(e);return f.MonitorDOMRefresh(g),g},removeChildView:function(a){return a?(this.triggerMethod(\"before:remove:child\",a),a.supportsDestroyLifecycle||f.triggerMethodOn(a,\"before:destroy\",a),a.destroy?a.destroy():a.remove(),a.supportsDestroyLifecycle||f.triggerMethodOn(a,\"destroy\",a),delete a._parent,this.stopListening(a),this.children.remove(a),this.triggerMethod(\"remove:child\",a),this._updateIndices(a,!1),a):a},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(a,b){a.$el.append(b)},_createBuffer:function(){var a=document.createDocumentFragment();return c.each(this._bufferedChildren,function(b){a.appendChild(b.el)}),a},attachHtml:function(a,b,c){a.isBuffering?a._bufferedChildren.splice(c,0,b):a._insertBefore(b,c)||a._insertAfter(b)},_insertBefore:function(a,b){var c,d=this.getOption(\"sort\")&&b<this.children.length-1;return d&&(c=this.children.find(function(a){return a._index===b+1})),c?(c.$el.before(a.el),!0):!1},_insertAfter:function(a){this.$el.append(a.el)},_initChildViewStorage:function(){this.children=new b.ChildViewContainer},destroy:function(){return this.isDestroyed?this:(this.triggerMethod(\"before:destroy:collection\"),this.destroyChildren({checkEmpty:!1}),this.triggerMethod(\"destroy:collection\"),f.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(a){var b=a||{},d=!0,e=this.children.map(c.identity);return c.isUndefined(b.checkEmpty)||(d=b.checkEmpty),this.children.each(this.removeChildView,this),d&&this.checkEmpty(),e},_shouldAddChild:function(a,b){var d=this.getOption(\"filter\");return!c.isFunction(d)||d.call(this,a,b,this.collection)},proxyChildEvents:function(a){var b=this.getOption(\"childViewEventPrefix\");this.listenTo(a,\"all\",function(){var d=c.toArray(arguments),e=d[0],f=this.normalizeMethods(c.result(this,\"childEvents\"));\nd[0]=b+\":\"+e,d.splice(1,0,a),\"undefined\"!=typeof f&&c.isFunction(f[e])&&f[e].apply(this,d.slice(1)),this.triggerMethod.apply(this,d)})},_getImmediateChildren:function(){return c.values(this.children._views)},_getViewAndNested:function(a){return[a].concat(c.result(a,\"_getNestedViews\")||[])},getViewComparator:function(){return this.getOption(\"viewComparator\")}}),f.CompositeView=f.CollectionView.extend({constructor:function(){f.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,\"add\",this._onCollectionAdd),this.listenTo(this.collection,\"remove\",this._onCollectionRemove),this.listenTo(this.collection,\"reset\",this._renderChildren),this.getOption(\"sort\")&&this.listenTo(this.collection,\"sort\",this._sortViews))},getChildView:function(a){var b=this.getOption(\"childView\")||this.constructor;return b},serializeData:function(){var a={};return this.model&&(a=c.partial(this.serializeModel,this.model).apply(this,arguments)),a},render:function(){return this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod(\"before:render\",this),this._renderTemplate(),this._renderChildren(),this._isRendering=!1,this.isRendered=!0,this.triggerMethod(\"render\",this),this},_renderChildren:function(){(this.isRendered||this._isRendering)&&f.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var a={};a=this.serializeData(),a=this.mixinTemplateHelpers(a),this.triggerMethod(\"before:render:template\");var b=this.getTemplate(),c=f.Renderer.render(b,a,this);this.attachElContent(c),this.bindUIElements(),this.triggerMethod(\"render:template\")},attachElContent:function(a){return this.$el.html(a),this},attachBuffer:function(a,b){var c=this.getChildViewContainer(a);c.append(b)},_insertAfter:function(a){var b=this.getChildViewContainer(this,a);b.append(a.el)},_appendReorderedChildren:function(a){var b=this.getChildViewContainer(this);b.append(a)},getChildViewContainer:function(a,b){if(a.$childViewContainer)return a.$childViewContainer;var c,d=f.getOption(a,\"childViewContainer\");if(d){var e=f._getValue(d,a);if(c=\"@\"===e.charAt(0)&&a.ui?a.ui[e.substr(4)]:a.$(e),c.length<=0)throw new f.Error({name:\"ChildViewContainerMissingError\",message:'The specified \"childViewContainer\" was not found: '+a.childViewContainer})}else c=a.$el;return a.$childViewContainer=c,c},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),f.LayoutView=f.ItemView.extend({regionClass:f.Region,options:{destroyImmediate:!1},childViewEventPrefix:\"childview\",constructor:function(a){a=a||{},this._firstRender=!0,this._initializeRegions(a),f.ItemView.call(this,a)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),f.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.getOption(\"destroyImmediate\")===!0&&this.$el.remove(),this.regionManager.destroy(),f.ItemView.prototype.destroy.apply(this,arguments))},showChildView:function(a,b,d){var e=this.getRegion(a);return e.show.apply(e,c.rest(arguments))},getChildView:function(a){return this.getRegion(a).currentView},addRegion:function(a,b){var c={};return c[a]=b,this._buildRegions(c)[a]},addRegions:function(a){return this.regions=c.extend({},this.regions,a),this._buildRegions(a)},removeRegion:function(a){return delete this.regions[a],this.regionManager.removeRegion(a)},getRegion:function(a){return this.regionManager.get(a)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(a){var b={regionClass:this.getOption(\"regionClass\"),parentEl:c.partial(c.result,this,\"el\")};return this.regionManager.addRegions(a,b)},_initializeRegions:function(a){var b;this._initRegionManager(),b=f._getValue(this.regions,this,[a])||{};var d=this.getOption.call(a,\"regions\");d=f._getValue(d,this,[a]),c.extend(b,d),b=this.normalizeUIValues(b,[\"selector\",\"el\"]),this.addRegions(b)},_reInitializeRegions:function(){this.regionManager.invoke(\"reset\")},getRegionManager:function(){return new f.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,\"before:add:region\",function(a){this.triggerMethod(\"before:add:region\",a)}),this.listenTo(this.regionManager,\"add:region\",function(a,b){this[a]=b,this.triggerMethod(\"add:region\",a,b)}),this.listenTo(this.regionManager,\"before:remove:region\",function(a){this.triggerMethod(\"before:remove:region\",a)}),this.listenTo(this.regionManager,\"remove:region\",function(a,b){delete this[a],this.triggerMethod(\"remove:region\",a,b)})},_getImmediateChildren:function(){return c.chain(this.regionManager.getRegions()).pluck(\"currentView\").compact().value()}}),f.Behavior=f.Object.extend({constructor:function(a,b){this.view=b,this.defaults=c.result(this,\"defaults\")||{},this.options=c.extend({},this.defaults,a),this.ui=c.extend({},c.result(b,\"ui\"),c.result(this,\"ui\")),f.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(a){this.$el=a.$el,this.el=a.el}}),f.Behaviors=function(a,b){function c(a,d){return b.isObject(a.behaviors)?(d=c.parseBehaviors(a,d||b.result(a,\"behaviors\")),c.wrap(a,d,b.keys(g)),d):{}}function d(a,b){this._view=a,this._behaviors=b,this._triggers={}}function e(a){return a._uiBindings||a.ui}var f=/^(\\S+)\\s*(.*)$/,g={behaviorTriggers:function(a,b){var c=new d(this,b);return c.buildBehaviorTriggers()},behaviorEvents:function(c,d){var g={};return b.each(d,function(c,d){var h={},i=b.clone(b.result(c,\"events\"))||{};i=a.normalizeUIKeys(i,e(c));var j=0;b.each(i,function(a,e){var g=e.match(f),i=g[1]+\".\"+[this.cid,d,j++,\" \"].join(\"\"),k=g[2],l=i+k,m=b.isFunction(a)?a:c[a];m&&(h[l]=b.bind(m,c))},this),g=b.extend(g,h)},this),g}};return b.extend(c,{behaviorsLookup:function(){throw new a.Error({message:\"You must define where your behaviors are stored.\",url:\"marionette.behaviors.html#behaviorslookup\"})},getBehaviorClass:function(b,d){return b.behaviorClass?b.behaviorClass:a._getValue(c.behaviorsLookup,this,[b,d])[d]},parseBehaviors:function(a,d){return b.chain(d).map(function(d,e){var f=c.getBehaviorClass(d,e),g=new f(d,a),h=c.parseBehaviors(a,b.result(g,\"behaviors\"));return[g].concat(h)}).flatten().value()},wrap:function(a,c,d){b.each(d,function(d){a[d]=b.partial(g[d],a[d],c)})}}),b.extend(d.prototype,{buildBehaviorTriggers:function(){return b.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(c,d){var f=b.clone(b.result(c,\"triggers\"))||{};f=a.normalizeUIKeys(f,e(c)),b.each(f,b.bind(this._setHandlerForBehavior,this,c,d))},_setHandlerForBehavior:function(a,b,c,d){var e=d.replace(/^\\S+/,function(a){return a+\".behaviortriggers\"+b});this._triggers[e]=this._view._buildViewTrigger(c)}}),c}(f,c),f.AppRouter=b.Router.extend({constructor:function(a){this.options=a||{},b.Router.apply(this,arguments);var c=this.getOption(\"appRoutes\"),d=this._getController();this.processAppRoutes(d,c),this.on(\"route\",this._processOnRoute,this)},appRoute:function(a,b){var c=this._getController();this._addAppRoute(c,a,b)},_processOnRoute:function(a,b){if(c.isFunction(this.onRoute)){var d=c.invert(this.getOption(\"appRoutes\"))[a];this.onRoute(a,d,b)}},processAppRoutes:function(a,b){if(b){var d=c.keys(b).reverse();c.each(d,function(c){this._addAppRoute(a,c,b[c])},this)}},_getController:function(){return this.getOption(\"controller\")},_addAppRoute:function(a,b,d){var e=a[d];if(!e)throw new f.Error('Method \"'+d+'\" was not found on the controller');this.route(b,d,c.bind(e,a))},mergeOptions:f.mergeOptions,getOption:f.proxyGetOption,triggerMethod:f.triggerMethod,bindEntityEvents:f.proxyBindEntityEvents,unbindEntityEvents:f.proxyUnbindEntityEvents}),f.Application=f.Object.extend({constructor:function(a){this._initializeRegions(a),this._initCallbacks=new f.Callbacks,this.submodules={},c.extend(this,a),this._initChannel(),f.Object.apply(this,arguments)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(a){this._initCallbacks.add(a)},start:function(a){this.triggerMethod(\"before:start\",a),this._initCallbacks.run(a,this),this.triggerMethod(\"start\",a)},addRegions:function(a){return this._regionManager.addRegions(a)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(a){return this._regionManager.removeRegion(a)},getRegion:function(a){return this._regionManager.get(a)},getRegions:function(){return this._regionManager.getRegions()},module:function(a,b){var d=f.Module.getClass(b),e=c.toArray(arguments);return e.unshift(this),d.create.apply(d,e)},getRegionManager:function(){return new f.RegionManager},_initializeRegions:function(a){var b=c.isFunction(this.regions)?this.regions(a):this.regions||{};this._initRegionManager();var d=f.getOption(a,\"regions\");return c.isFunction(d)&&(d=d.call(this,a)),c.extend(b,d),this.addRegions(b),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,\"before:add:region\",function(){f._triggerMethod(this,\"before:add:region\",arguments)}),this.listenTo(this._regionManager,\"add:region\",function(a,b){this[a]=b,f._triggerMethod(this,\"add:region\",arguments)}),this.listenTo(this._regionManager,\"before:remove:region\",function(){f._triggerMethod(this,\"before:remove:region\",arguments)}),this.listenTo(this._regionManager,\"remove:region\",function(a){delete this[a],f._triggerMethod(this,\"remove:region\",arguments)})},_initChannel:function(){this.channelName=c.result(this,\"channelName\")||\"global\",this.channel=c.result(this,\"channel\")||b.Wreqr.radio.channel(this.channelName),this.vent=c.result(this,\"vent\")||this.channel.vent,this.commands=c.result(this,\"commands\")||this.channel.commands,this.reqres=c.result(this,\"reqres\")||this.channel.reqres}}),f.Module=function(a,b,d){this.moduleName=a,this.options=c.extend({},this.options,d),this.initialize=d.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=b,c.isFunction(this.initialize)&&this.initialize(a,b,this.options)},f.Module.extend=f.extend,c.extend(f.Module.prototype,b.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(c.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod(\"before:start\",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod(\"start\",a))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod(\"before:stop\"),c.invoke(this.submodules,\"stop\"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod(\"stop\"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,d){if(a){var e=c.flatten([this,this.app,b,f,b.$,c,d]);a.apply(this,e)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new f.Callbacks,this._finalizerCallbacks=new f.Callbacks},triggerMethod:f.triggerMethod}),c.extend(f.Module,{create:function(a,b,d){var e=a,f=c.drop(arguments,3);b=b.split(\".\");var g=b.length,h=[];return h[g-1]=d,c.each(b,function(b,c){var g=e;e=this._getModule(g,b,a,d),this._addModuleDefinition(g,e,h[c],f)},this),e},_getModule:function(a,b,d,e,f){var g=c.extend({},e),h=this.getClass(e),i=a[b];return i||(i=new h(b,d,g),a[b]=i,a.submodules[b]=i),i},getClass:function(a){var b=f.Module;return a?a.prototype instanceof b?a:a.moduleClass||b:b},_addModuleDefinition:function(a,b,c,d){var e=this._getDefine(c),f=this._getStartWithParent(c,b);e&&b.addDefinition(e,d),this._addStartWithParent(a,b,f)},_getStartWithParent:function(a,b){var d;return c.isFunction(a)&&a.prototype instanceof f.Module?(d=b.constructor.prototype.startWithParent,c.isUndefined(d)?!0:d):c.isObject(a)?(d=a.startWithParent,c.isUndefined(d)?!0:d):!0},_getDefine:function(a){return!c.isFunction(a)||a.prototype instanceof f.Module?c.isObject(a)?a.define:null:a},_addStartWithParent:function(a,b,c){b.startWithParent=b.startWithParent&&c,b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}}),f});\n","Goomento_PageBuilder/lib/backbone/backbone.min.js":"(function(t){var e=typeof self==\"object\"&&self.self===self&&self||typeof global==\"object\"&&global.global===global&&global;if(typeof define===\"function\"&&define.amd){define([\"underscore\",\"jquery\",\"exports\"],function(i,n,r){e.Backbone=t(e,r,i,n)})}else if(typeof exports!==\"undefined\"){var i=require(\"underscore\"),n;try{n=require(\"jquery\")}catch(r){}t(e,exports,i,n)}else{e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}})(function(t,e,i,n){var r=t.Backbone;var s=Array.prototype.slice;e.VERSION=\"1.4.0\";e.$=n;e.noConflict=function(){t.Backbone=r;return this};e.emulateHTTP=false;e.emulateJSON=false;var a=e.Events={};var o=/\\s+/;var h;var u=function(t,e,n,r,s){var a=0,h;if(n&&typeof n===\"object\"){if(r!==void 0&&\"context\"in s&&s.context===void 0)s.context=r;for(h=i.keys(n);a<h.length;a++){e=u(t,e,h[a],n[h[a]],s)}}else if(n&&o.test(n)){for(h=n.split(o);a<h.length;a++){e=t(e,h[a],r,s)}}else{e=t(e,n,r,s)}return e};a.on=function(t,e,i){this._events=u(l,this._events||{},t,e,{context:i,ctx:this,listening:h});if(h){var n=this._listeners||(this._listeners={});n[h.id]=h;h.interop=false}return this};a.listenTo=function(t,e,n){if(!t)return this;var r=t._listenId||(t._listenId=i.uniqueId(\"l\"));var s=this._listeningTo||(this._listeningTo={});var a=h=s[r];if(!a){this._listenId||(this._listenId=i.uniqueId(\"l\"));a=h=s[r]=new g(this,t)}var o=c(t,e,n,this);h=void 0;if(o)throw o;if(a.interop)a.on(e,n);return this};var l=function(t,e,i,n){if(i){var r=t[e]||(t[e]=[]);var s=n.context,a=n.ctx,o=n.listening;if(o)o.count++;r.push({callback:i,context:s,ctx:s||a,listening:o})}return t};var c=function(t,e,i,n){try{t.on(e,i,n)}catch(r){return r}};a.off=function(t,e,i){if(!this._events)return this;this._events=u(f,this._events,t,e,{context:i,listeners:this._listeners});return this};a.stopListening=function(t,e,n){var r=this._listeningTo;if(!r)return this;var s=t?[t._listenId]:i.keys(r);for(var a=0;a<s.length;a++){var o=r[s[a]];if(!o)break;o.obj.off(e,n,this);if(o.interop)o.off(e,n)}if(i.isEmpty(r))this._listeningTo=void 0;return this};var f=function(t,e,n,r){if(!t)return;var s=r.context,a=r.listeners;var o=0,h;if(!e&&!s&&!n){for(h=i.keys(a);o<h.length;o++){a[h[o]].cleanup()}return}h=e?[e]:i.keys(t);for(;o<h.length;o++){e=h[o];var u=t[e];if(!u)break;var l=[];for(var c=0;c<u.length;c++){var f=u[c];if(n&&n!==f.callback&&n!==f.callback._callback||s&&s!==f.context){l.push(f)}else{var d=f.listening;if(d)d.off(e,n)}}if(l.length){t[e]=l}else{delete t[e]}}return t};a.once=function(t,e,i){var n=u(d,{},t,e,this.off.bind(this));if(typeof t===\"string\"&&i==null)e=void 0;return this.on(n,e,i)};a.listenToOnce=function(t,e,i){var n=u(d,{},e,i,this.stopListening.bind(this,t));return this.listenTo(t,n)};var d=function(t,e,n,r){if(n){var s=t[e]=i.once(function(){r(e,s);n.apply(this,arguments)});s._callback=n}return t};a.trigger=function(t){if(!this._events)return this;var e=Math.max(0,arguments.length-1);var i=Array(e);for(var n=0;n<e;n++)i[n]=arguments[n+1];u(v,this._events,t,void 0,i);return this};var v=function(t,e,i,n){if(t){var r=t[e];var s=t.all;if(r&&s)s=s.slice();if(r)p(r,n);if(s)p(s,[e].concat(n))}return t};var p=function(t,e){var i,n=-1,r=t.length,s=e[0],a=e[1],o=e[2];switch(e.length){case 0:while(++n<r)(i=t[n]).callback.call(i.ctx);return;case 1:while(++n<r)(i=t[n]).callback.call(i.ctx,s);return;case 2:while(++n<r)(i=t[n]).callback.call(i.ctx,s,a);return;case 3:while(++n<r)(i=t[n]).callback.call(i.ctx,s,a,o);return;default:while(++n<r)(i=t[n]).callback.apply(i.ctx,e);return}};var g=function(t,e){this.id=t._listenId;this.listener=t;this.obj=e;this.interop=true;this.count=0;this._events=void 0};g.prototype.on=a.on;g.prototype.off=function(t,e){var i;if(this.interop){this._events=u(f,this._events,t,e,{context:void 0,listeners:void 0});i=!this._events}else{this.count--;i=this.count===0}if(i)this.cleanup()};g.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId];if(!this.interop)delete this.obj._listeners[this.id]};a.bind=a.on;a.unbind=a.off;i.extend(e,a);var m=e.Model=function(t,e){var n=t||{};e||(e={});this.preinitialize.apply(this,arguments);this.cid=i.uniqueId(this.cidPrefix);this.attributes={};if(e.collection)this.collection=e.collection;if(e.parse)n=this.parse(n,e)||{};var r=i.result(this,\"defaults\");n=i.defaults(i.extend({},r,n),r);this.set(n,e);this.changed={};this.initialize.apply(this,arguments)};i.extend(m.prototype,a,{changed:null,validationError:null,idAttribute:\"id\",cidPrefix:\"c\",preinitialize:function(){},initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return this.get(t)!=null},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(t==null)return this;var r;if(typeof t===\"object\"){r=t;n=e}else{(r={})[t]=e}n||(n={});if(!this._validate(r,n))return false;var s=n.unset;var a=n.silent;var o=[];var h=this._changing;this._changing=true;if(!h){this._previousAttributes=i.clone(this.attributes);this.changed={}}var u=this.attributes;var l=this.changed;var c=this._previousAttributes;for(var f in r){e=r[f];if(!i.isEqual(u[f],e))o.push(f);if(!i.isEqual(c[f],e)){l[f]=e}else{delete l[f]}s?delete u[f]:u[f]=e}if(this.idAttribute in r)this.id=this.get(this.idAttribute);if(!a){if(o.length)this._pending=n;for(var d=0;d<o.length;d++){this.trigger(\"change:\"+o[d],this,u[o[d]],n)}}if(h)return this;if(!a){while(this._pending){n=this._pending;this._pending=false;this.trigger(\"change\",this,n)}}this._pending=false;this._changing=false;return this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:true}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:true}))},hasChanged:function(t){if(t==null)return!i.isEmpty(this.changed);return i.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?i.clone(this.changed):false;var e=this._changing?this._previousAttributes:this.attributes;var n={};var r;for(var s in t){var a=t[s];if(i.isEqual(e[s],a))continue;n[s]=a;r=true}return r?n:false},previous:function(t){if(t==null||!this._previousAttributes)return null;return this._previousAttributes[t]},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:true},t);var e=this;var n=t.success;t.success=function(i){var r=t.parse?e.parse(i,t):i;if(!e.set(r,t))return false;if(n)n.call(t.context,e,i,t);e.trigger(\"sync\",e,i,t)};G(this,t);return this.sync(\"read\",this,t)},save:function(t,e,n){var r;if(t==null||typeof t===\"object\"){r=t;n=e}else{(r={})[t]=e}n=i.extend({validate:true,parse:true},n);var s=n.wait;if(r&&!s){if(!this.set(r,n))return false}else if(!this._validate(r,n)){return false}var a=this;var o=n.success;var h=this.attributes;n.success=function(t){a.attributes=h;var e=n.parse?a.parse(t,n):t;if(s)e=i.extend({},r,e);if(e&&!a.set(e,n))return false;if(o)o.call(n.context,a,t,n);a.trigger(\"sync\",a,t,n)};G(this,n);if(r&&s)this.attributes=i.extend({},h,r);var u=this.isNew()?\"create\":n.patch?\"patch\":\"update\";if(u===\"patch\"&&!n.attrs)n.attrs=r;var l=this.sync(u,this,n);this.attributes=h;return l},destroy:function(t){t=t?i.clone(t):{};var e=this;var n=t.success;var r=t.wait;var s=function(){e.stopListening();e.trigger(\"destroy\",e,e.collection,t)};t.success=function(i){if(r)s();if(n)n.call(t.context,e,i,t);if(!e.isNew())e.trigger(\"sync\",e,i,t)};var a=false;if(this.isNew()){i.defer(t.success)}else{G(this,t);a=this.sync(\"delete\",this,t)}if(!r)s();return a},url:function(){var t=i.result(this,\"urlRoot\")||i.result(this.collection,\"url\")||V();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\\/]$/,\"$&/\")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:true}))},_validate:function(t,e){if(!e.validate||!this.validate)return true;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;if(!n)return true;this.trigger(\"invalid\",this,n,i.extend(e,{validationError:n}));return false}});var _=e.Collection=function(t,e){e||(e={});this.preinitialize.apply(this,arguments);if(e.model)this.model=e.model;if(e.comparator!==void 0)this.comparator=e.comparator;this._reset();this.initialize.apply(this,arguments);if(t)this.reset(t,i.extend({silent:true},e))};var y={add:true,remove:true,merge:true};var b={add:true,remove:false};var x=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n=Array(t.length-i);var r=e.length;var s;for(s=0;s<n.length;s++)n[s]=t[s+i];for(s=0;s<r;s++)t[s+i]=e[s];for(s=0;s<n.length;s++)t[s+r+i]=n[s]};i.extend(_.prototype,a,{model:m,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:false},e,b))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var r=this._removeModels(t,e);if(!e.silent&&r.length){e.changes={added:[],merged:[],removed:r};this.trigger(\"update\",this,e)}return n?r[0]:r},set:function(t,e){if(t==null)return;e=i.extend({},y,e);if(e.parse&&!this._isModel(t)){t=this.parse(t,e)||[]}var n=!i.isArray(t);t=n?[t]:t.slice();var r=e.at;if(r!=null)r=+r;if(r>this.length)r=this.length;if(r<0)r+=this.length+1;var s=[];var a=[];var o=[];var h=[];var u={};var l=e.add;var c=e.merge;var f=e.remove;var d=false;var v=this.comparator&&r==null&&e.sort!==false;var p=i.isString(this.comparator)?this.comparator:null;var g,m;for(m=0;m<t.length;m++){g=t[m];var _=this.get(g);if(_){if(c&&g!==_){var b=this._isModel(g)?g.attributes:g;if(e.parse)b=_.parse(b,e);_.set(b,e);o.push(_);if(v&&!d)d=_.hasChanged(p)}if(!u[_.cid]){u[_.cid]=true;s.push(_)}t[m]=_}else if(l){g=t[m]=this._prepareModel(g,e);if(g){a.push(g);this._addReference(g,e);u[g.cid]=true;s.push(g)}}}if(f){for(m=0;m<this.length;m++){g=this.models[m];if(!u[g.cid])h.push(g)}if(h.length)this._removeModels(h,e)}var w=false;var E=!v&&l&&f;if(s.length&&E){w=this.length!==s.length||i.some(this.models,function(t,e){return t!==s[e]});this.models.length=0;x(this.models,s,0);this.length=this.models.length}else if(a.length){if(v)d=true;x(this.models,a,r==null?this.length:r);this.length=this.models.length}if(d)this.sort({silent:true});if(!e.silent){for(m=0;m<a.length;m++){if(r!=null)e.index=r+m;g=a[m];g.trigger(\"add\",g,this,e)}if(d||w)this.trigger(\"sort\",this,e);if(a.length||h.length||o.length){e.changes={added:a,removed:h,merged:o};this.trigger(\"update\",this,e)}}return n?t[0]:t},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++){this._removeReference(this.models[n],e)}e.previousModels=this.models;this._reset();t=this.add(t,i.extend({silent:true},e));if(!e.silent)this.trigger(\"reset\",this,e);return t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(t==null)return void 0;return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t)]||t.cid&&this._byId[t.cid]},has:function(t){return this.get(t)!=null},at:function(t){if(t<0)t+=this.length;return this.models[t]},where:function(t,e){return this[e?\"find\":\"filter\"](t)},findWhere:function(t){return this.where(t,true)},sort:function(t){var e=this.comparator;if(!e)throw new Error(\"Cannot sort a set without a comparator\");t||(t={});var n=e.length;if(i.isFunction(e))e=e.bind(this);if(n===1||i.isString(e)){this.models=this.sortBy(e)}else{this.models.sort(e)}if(!t.silent)this.trigger(\"sort\",this,t);return this},pluck:function(t){return this.map(t+\"\")},fetch:function(t){t=i.extend({parse:true},t);var e=t.success;var n=this;t.success=function(i){var r=t.reset?\"reset\":\"set\";n[r](i,t);if(e)e.call(t.context,n,i,t);n.trigger(\"sync\",n,i,t)};G(this,t);return this.sync(\"read\",this,t)},create:function(t,e){e=e?i.clone(e):{};var n=e.wait;t=this._prepareModel(t,e);if(!t)return false;if(!n)this.add(t,e);var r=this;var s=e.success;e.success=function(t,e,i){if(n)r.add(t,i);if(s)s.call(i.context,t,e,i)};t.save(null,e);return t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||\"id\"]},values:function(){return new E(this,k)},keys:function(){return new E(this,I)},entries:function(){return new E(this,S)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(t,e){if(this._isModel(t)){if(!t.collection)t.collection=this;return t}e=e?i.clone(e):{};e.collection=this;var n=new this.model(t,e);if(!n.validationError)return n;this.trigger(\"invalid\",this,n.validationError,e);return false},_removeModels:function(t,e){var i=[];for(var n=0;n<t.length;n++){var r=this.get(t[n]);if(!r)continue;var s=this.indexOf(r);this.models.splice(s,1);this.length--;delete this._byId[r.cid];var a=this.modelId(r.attributes);if(a!=null)delete this._byId[a];if(!e.silent){e.index=s;r.trigger(\"remove\",r,this,e)}i.push(r);this._removeReference(r,e)}return i},_isModel:function(t){return t instanceof m},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);if(i!=null)this._byId[i]=t;t.on(\"all\",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);if(i!=null)delete this._byId[i];if(this===t.collection)delete t.collection;t.off(\"all\",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if((t===\"add\"||t===\"remove\")&&i!==this)return;if(t===\"destroy\")this.remove(e,n);if(t===\"change\"){var r=this.modelId(e.previousAttributes());var s=this.modelId(e.attributes);if(r!==s){if(r!=null)delete this._byId[r];if(s!=null)this._byId[s]=e}}}this.trigger.apply(this,arguments)}});var w=typeof Symbol===\"function\"&&Symbol.iterator;if(w){_.prototype[w]=_.prototype.values}var E=function(t,e){this._collection=t;this._kind=e;this._index=0};var k=1;var I=2;var S=3;if(w){E.prototype[w]=function(){return this}}E.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t=this._collection.at(this._index);this._index++;var e;if(this._kind===k){e=t}else{var i=this._collection.modelId(t.attributes);if(this._kind===I){e=i}else{e=[i,t]}}return{value:e,done:false}}this._collection=void 0}return{value:void 0,done:true}};var T=e.View=function(t){this.cid=i.uniqueId(\"view\");this.preinitialize.apply(this,arguments);i.extend(this,i.pick(t,H));this._ensureElement();this.initialize.apply(this,arguments)};var P=/^(\\S+)\\s*(.*)$/;var H=[\"model\",\"collection\",\"el\",\"id\",\"attributes\",\"className\",\"tagName\",\"events\"];i.extend(T.prototype,a,{tagName:\"div\",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(t){this.undelegateEvents();this._setElement(t);this.delegateEvents();return this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t);this.el=this.$el[0]},delegateEvents:function(t){t||(t=i.result(this,\"events\"));if(!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(!i.isFunction(n))n=this[n];if(!n)continue;var r=e.match(P);this.delegate(r[1],r[2],n.bind(this))}return this},delegate:function(t,e,i){this.$el.on(t+\".delegateEvents\"+this.cid,e,i);return this},undelegateEvents:function(){if(this.$el)this.$el.off(\".delegateEvents\"+this.cid);return this},undelegate:function(t,e,i){this.$el.off(t+\".delegateEvents\"+this.cid,e,i);return this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(!this.el){var t=i.extend({},i.result(this,\"attributes\"));if(this.id)t.id=i.result(this,\"id\");if(this.className)t[\"class\"]=i.result(this,\"className\");this.setElement(this._createElement(i.result(this,\"tagName\")));this._setAttributes(t)}else{this.setElement(i.result(this,\"el\"))}},_setAttributes:function(t){this.$el.attr(t)}});var $=function(t,e,i,n){switch(e){case 1:return function(){return t[i](this[n])};case 2:return function(e){return t[i](this[n],e)};case 3:return function(e,r){return t[i](this[n],C(e,this),r)};case 4:return function(e,r,s){return t[i](this[n],C(e,this),r,s)};default:return function(){var e=s.call(arguments);e.unshift(this[n]);return t[i].apply(t,e)}}};var A=function(t,e,n,r){i.each(n,function(i,n){if(e[n])t.prototype[n]=$(e,i,n,r)})};var C=function(t,e){if(i.isFunction(t))return t;if(i.isObject(t)&&!e._isModel(t))return R(t);if(i.isString(t))return function(e){return e.get(t)};return t};var R=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}};var M={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};var N={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};i.each([[_,M,\"models\"],[m,N,\"attributes\"]],function(t){var e=t[0],n=t[1],r=t[2];e.mixin=function(t){var n=i.reduce(i.functions(t),function(t,e){t[e]=0;return t},{});A(e,t,n,r)};A(e,i,n,r)});e.sync=function(t,n,r){var s=j[t];i.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:s,dataType:\"json\"};if(!r.url){a.url=i.result(n,\"url\")||V()}if(r.data==null&&n&&(t===\"create\"||t===\"update\"||t===\"patch\")){a.contentType=\"application/json\";a.data=JSON.stringify(r.attrs||n.toJSON(r))}if(r.emulateJSON){a.contentType=\"application/x-www-form-urlencoded\";a.data=a.data?{model:a.data}:{}}if(r.emulateHTTP&&(s===\"PUT\"||s===\"DELETE\"||s===\"PATCH\")){a.type=\"POST\";if(r.emulateJSON)a.data._method=s;var o=r.beforeSend;r.beforeSend=function(t){t.setRequestHeader(\"X-HTTP-Method-Override\",s);if(o)return o.apply(this,arguments)}}if(a.type!==\"GET\"&&!r.emulateJSON){a.processData=false}var h=r.error;r.error=function(t,e,i){r.textStatus=e;r.errorThrown=i;if(h)h.call(r.context,t,e,i)};var u=r.xhr=e.ajax(i.extend(a,r));n.trigger(\"request\",n,u,r);return u};var j={create:\"POST\",update:\"PUT\",patch:\"PATCH\",\"delete\":\"DELETE\",read:\"GET\"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var O=e.Router=function(t){t||(t={});this.preinitialize.apply(this,arguments);if(t.routes)this.routes=t.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var U=/\\((.*?)\\)/g;var z=/(\\(\\?)?:\\w+/g;var q=/\\*\\w+/g;var F=/[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;i.extend(O.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(t,n,r){if(!i.isRegExp(t))t=this._routeToRegExp(t);if(i.isFunction(n)){r=n;n=\"\"}if(!r)r=this[n];var s=this;e.history.route(t,function(i){var a=s._extractParameters(t,i);if(s.execute(r,a,n)!==false){s.trigger.apply(s,[\"route:\"+n].concat(a));s.trigger(\"route\",n,a);e.history.trigger(\"route\",s,n,a)}});return this},execute:function(t,e,i){if(t)t.apply(this,e)},navigate:function(t,i){e.history.navigate(t,i);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=i.result(this,\"routes\");var t,e=i.keys(this.routes);while((t=e.pop())!=null){this.route(t,this.routes[t])}},_routeToRegExp:function(t){t=t.replace(F,\"\\\\$&\").replace(U,\"(?:$1)?\").replace(z,function(t,e){return e?t:\"([^/?]+)\"}).replace(q,\"([^?]*?)\");return new RegExp(\"^\"+t+\"(?:\\\\?([\\\\s\\\\S]*))?$\")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){if(e===n.length-1)return t||null;return t?decodeURIComponent(t):null})}});var B=e.History=function(){this.handlers=[];this.checkUrl=this.checkUrl.bind(this);if(typeof window!==\"undefined\"){this.location=window.location;this.history=window.history}};var J=/^[#\\/]|\\s+$/g;var L=/^\\/+|\\/+$/g;var W=/#.*$/;B.started=false;i.extend(B.prototype,a,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\\/]$/,\"$&/\");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname);var e=t.slice(0,this.root.length-1)+\"/\";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,\"%2525\"))},getSearch:function(){var t=this.location.href.replace(/#.*/,\"\").match(/\\?.+/);return t?t[0]:\"\"},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:\"\"},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return t.charAt(0)===\"/\"?t.slice(1):t},getFragment:function(t){if(t==null){if(this._usePushState||!this._wantsHashChange){t=this.getPath()}else{t=this.getHash()}}return t.replace(J,\"\")},start:function(t){if(B.started)throw new Error(\"Backbone.history has already been started\");B.started=true;this.options=i.extend({root:\"/\"},this.options,t);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._hasHashChange=\"onhashchange\"in window&&(document.documentMode===void 0||document.documentMode>7);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.history&&this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=(\"/\"+this.root+\"/\").replace(L,\"/\");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||\"/\";this.location.replace(e+\"#\"+this.getPath());return true}else if(this._hasPushState&&this.atRoot()){this.navigate(this.getHash(),{replace:true})}}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement(\"iframe\");this.iframe.src=\"javascript:0\";this.iframe.style.display=\"none\";this.iframe.tabIndex=-1;var n=document.body;var r=n.insertBefore(this.iframe,n.firstChild).contentWindow;r.document.open();r.document.close();r.location.hash=\"#\"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent(\"on\"+t,e)};if(this._usePushState){s(\"popstate\",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){s(\"hashchange\",this.checkUrl,false)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}if(!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent(\"on\"+t,e)};if(this._usePushState){t(\"popstate\",this.checkUrl,false)}else if(this._useHashChange&&!this.iframe){t(\"hashchange\",this.checkUrl,false)}if(this.iframe){document.body.removeChild(this.iframe);this.iframe=null}if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);B.started=false},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe){e=this.getHash(this.iframe.contentWindow)}if(e===this.fragment)return false;if(this.iframe)this.navigate(e);this.loadUrl()},loadUrl:function(t){if(!this.matchRoot())return false;t=this.fragment=this.getFragment(t);return i.some(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return true}})},navigate:function(t,e){if(!B.started)return false;if(!e||e===true)e={trigger:!!e};t=this.getFragment(t||\"\");var i=this.root;if(t===\"\"||t.charAt(0)===\"?\"){i=i.slice(0,-1)||\"/\"}var n=i+t;t=t.replace(W,\"\");var r=this.decodeFragment(t);if(this.fragment===r)return;this.fragment=r;if(this._usePushState){this.history[e.replace?\"replaceState\":\"pushState\"]({},document.title,n)}else if(this._wantsHashChange){this._updateHash(this.location,t,e.replace);if(this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;if(!e.replace){s.document.open();s.document.close()}this._updateHash(s.location,t,e.replace)}}else{return this.location.assign(n)}if(e.trigger)return this.loadUrl(t)},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,\"\");t.replace(n+\"#\"+e)}else{t.hash=\"#\"+e}}});e.history=new B;var D=function(t,e){var n=this;var r;if(t&&i.has(t,\"constructor\")){r=t.constructor}else{r=function(){return n.apply(this,arguments)}}i.extend(r,n,e);r.prototype=i.create(n.prototype,t);r.prototype.constructor=r;r.__super__=n.prototype;return r};m.extend=_.extend=O.extend=T.extend=B.extend=D;var V=function(){throw new Error('A \"url\" property or function must be specified')};var G=function(t,e){var i=e.error;e.error=function(n){if(i)i.call(e.context,t,n,e);t.trigger(\"error\",t,n,e)}};return e});\n","Goomento_PageBuilder/lib/backbone/backbone.radio.js":"// Backbone.Radio v1.0.4\n\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('underscore'), require('backbone')) :\n        typeof define === 'function' && define.amd ? define(['underscore', 'backbone'], factory) :\n            (global.Backbone = global.Backbone || {}, global.Backbone.Radio = factory(global._,global.Backbone));\n}(this, function (_,Backbone) { 'use strict';\n\n    _ = 'default' in _ ? _['default'] : _;\n    Backbone = 'default' in Backbone ? Backbone['default'] : Backbone;\n\n    var babelHelpers = {};\n    babelHelpers.typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n    } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\n    };\n    babelHelpers;\n\n    var previousRadio = Backbone.Radio;\n\n    var Radio = Backbone.Radio = {};\n\n    Radio.VERSION = '1.0.4';\n\n    // This allows you to run multiple instances of Radio on the same\n    // webapp. After loading the new version, call `noConflict()` to\n    // get a reference to it. At the same time the old version will be\n    // returned to Backbone.Radio.\n    Radio.noConflict = function () {\n        Backbone.Radio = previousRadio;\n        return this;\n    };\n\n    // Whether or not we're in DEBUG mode or not. DEBUG mode helps you\n    // get around the issues of lack of warnings when events are mis-typed.\n    Radio.DEBUG = false;\n\n    // Format debug text.\n    Radio._debugText = function (warning, eventName, channelName) {\n        return warning + (channelName ? ' on the ' + channelName + ' channel' : '') + ': \"' + eventName + '\"';\n    };\n\n    // This is the method that's called when an unregistered event was called.\n    // By default, it logs warning to the console. By overriding this you could\n    // make it throw an Error, for instance. This would make firing a nonexistent event\n    // have the same consequence as firing a nonexistent method on an Object.\n    Radio.debugLog = function (warning, eventName, channelName) {\n        if (Radio.DEBUG && console && console.warn) {\n            console.warn(Radio._debugText(warning, eventName, channelName));\n        }\n    };\n\n    var eventSplitter = /\\s+/;\n\n    // An internal method used to handle Radio's method overloading for Requests.\n    // It's borrowed from Backbone.Events. It differs from Backbone's overload\n    // API (which is used in Backbone.Events) in that it doesn't support space-separated\n    // event names.\n    Radio._eventsApi = function (obj, action, name, rest) {\n        if (!name) {\n            return false;\n        }\n\n        var results = {};\n\n        // Handle event maps.\n        if ((typeof name === 'undefined' ? 'undefined' : babelHelpers.typeof(name)) === 'object') {\n            for (var key in name) {\n                var result = obj[action].apply(obj, [key, name[key]].concat(rest));\n                eventSplitter.test(key) ? _.extend(results, result) : results[key] = result;\n            }\n            return results;\n        }\n\n        // Handle space separated event names.\n        if (eventSplitter.test(name)) {\n            var names = name.split(eventSplitter);\n            for (var i = 0, l = names.length; i < l; i++) {\n                results[names[i]] = obj[action].apply(obj, [names[i]].concat(rest));\n            }\n            return results;\n        }\n\n        return false;\n    };\n\n    // An optimized way to execute callbacks.\n    Radio._callHandler = function (callback, context, args) {\n        var a1 = args[0],\n            a2 = args[1],\n            a3 = args[2];\n        switch (args.length) {\n            case 0:\n                return callback.call(context);\n            case 1:\n                return callback.call(context, a1);\n            case 2:\n                return callback.call(context, a1, a2);\n            case 3:\n                return callback.call(context, a1, a2, a3);\n            default:\n                return callback.apply(context, args);\n        }\n    };\n\n    // A helper used by `off` methods to the handler from the store\n    function removeHandler(store, name, callback, context) {\n        var event = store[name];\n        if ((!callback || callback === event.callback || callback === event.callback._callback) && (!context || context === event.context)) {\n            delete store[name];\n            return true;\n        }\n    }\n\n    function removeHandlers(store, name, callback, context) {\n        store || (store = {});\n        var names = name ? [name] : _.keys(store);\n        var matched = false;\n\n        for (var i = 0, length = names.length; i < length; i++) {\n            name = names[i];\n\n            // If there's no event by this name, log it and continue\n            // with the loop\n            if (!store[name]) {\n                continue;\n            }\n\n            if (removeHandler(store, name, callback, context)) {\n                matched = true;\n            }\n        }\n\n        return matched;\n    }\n\n    /*\n     * tune-in\n     * -------\n     * Get console logs of a channel's activity\n     *\n     */\n\n    var _logs = {};\n\n    // This is to produce an identical function in both tuneIn and tuneOut,\n    // so that Backbone.Events unregisters it.\n    function _partial(channelName) {\n        return _logs[channelName] || (_logs[channelName] = _.partial(Radio.log, channelName));\n    }\n\n    _.extend(Radio, {\n\n        // Log information about the channel and event\n        log: function log(channelName, eventName) {\n            if (typeof console === 'undefined') {\n                return;\n            }\n            var args = _.drop(arguments, 2);\n            console.log('[' + channelName + '] \"' + eventName + '\"', args);\n        },\n\n        // Logs all events on this channel to the console. It sets an\n        // internal value on the channel telling it we're listening,\n        // then sets a listener on the Backbone.Events\n        tuneIn: function tuneIn(channelName) {\n            var channel = Radio.channel(channelName);\n            channel._tunedIn = true;\n            channel.on('all', _partial(channelName));\n            return this;\n        },\n\n        // Stop logging all of the activities on this channel to the console\n        tuneOut: function tuneOut(channelName) {\n            var channel = Radio.channel(channelName);\n            channel._tunedIn = false;\n            channel.off('all', _partial(channelName));\n            delete _logs[channelName];\n            return this;\n        }\n    });\n\n    /*\n     * Backbone.Radio.Requests\n     * -----------------------\n     * A messaging system for requesting data.\n     *\n     */\n\n    function makeCallback(callback) {\n        return _.isFunction(callback) ? callback : function () {\n            return callback;\n        };\n    }\n\n    Radio.Requests = {\n\n        // Make a request\n        request: function request(name) {\n            var args = _.rest(arguments);\n            var results = Radio._eventsApi(this, 'request', name, args);\n            if (results) {\n                return results;\n            }\n            var channelName = this.channelName;\n            var requests = this._requests;\n\n            // Check if we should log the request, and if so, do it\n            if (channelName && this._tunedIn) {\n                Radio.log.apply(this, [channelName, name].concat(args));\n            }\n\n            // If the request isn't handled, log it in DEBUG mode and exit\n            if (requests && (requests[name] || requests['default'])) {\n                var handler = requests[name] || requests['default'];\n                args = requests[name] ? args : arguments;\n                return Radio._callHandler(handler.callback, handler.context, args);\n            } else {\n                Radio.debugLog('An unhandled request was fired', name, channelName);\n            }\n        },\n\n        // Set up a handler for a request\n        reply: function reply(name, callback, context) {\n            if (Radio._eventsApi(this, 'reply', name, [callback, context])) {\n                return this;\n            }\n\n            this._requests || (this._requests = {});\n\n            if (this._requests[name]) {\n                Radio.debugLog('A request was overwritten', name, this.channelName);\n            }\n\n            this._requests[name] = {\n                callback: makeCallback(callback),\n                context: context || this\n            };\n\n            return this;\n        },\n\n        // Set up a handler that can only be requested once\n        replyOnce: function replyOnce(name, callback, context) {\n            if (Radio._eventsApi(this, 'replyOnce', name, [callback, context])) {\n                return this;\n            }\n\n            var self = this;\n\n            var once = _.once(function () {\n                self.stopReplying(name);\n                return makeCallback(callback).apply(this, arguments);\n            });\n\n            return this.reply(name, once, context);\n        },\n\n        // Remove handler(s)\n        stopReplying: function stopReplying(name, callback, context) {\n            if (Radio._eventsApi(this, 'stopReplying', name)) {\n                return this;\n            }\n\n            // Remove everything if there are no arguments passed\n            if (!name && !callback && !context) {\n                delete this._requests;\n            } else if (!removeHandlers(this._requests, name, callback, context)) {\n                Radio.debugLog('Attempted to remove the unregistered request', name, this.channelName);\n            }\n\n            return this;\n        }\n    };\n\n    /*\n     * Backbone.Radio.channel\n     * ----------------------\n     * Get a reference to a channel by name.\n     *\n     */\n\n    Radio._channels = {};\n\n    Radio.channel = function (channelName) {\n        if (!channelName) {\n            throw new Error('You must provide a name for the channel.');\n        }\n\n        if (Radio._channels[channelName]) {\n            return Radio._channels[channelName];\n        } else {\n            return Radio._channels[channelName] = new Radio.Channel(channelName);\n        }\n    };\n\n    /*\n     * Backbone.Radio.Channel\n     * ----------------------\n     * A Channel is an object that extends from Backbone.Events,\n     * and Radio.Requests.\n     *\n     */\n\n    Radio.Channel = function (channelName) {\n        this.channelName = channelName;\n    };\n\n    _.extend(Radio.Channel.prototype, Backbone.Events, Radio.Requests, {\n\n        // Remove all handlers from the messaging systems of this channel\n        reset: function reset() {\n            this.off();\n            this.stopListening();\n            this.stopReplying();\n            return this;\n        }\n    });\n\n    /*\n     * Top-level API\n     * -------------\n     * Supplies the 'top-level API' for working with Channels directly\n     * from Backbone.Radio.\n     *\n     */\n\n    var channel;\n    var args;\n    var systems = [Backbone.Events, Radio.Requests];\n    _.each(systems, function (system) {\n        _.each(system, function (method, methodName) {\n            Radio[methodName] = function (channelName) {\n                args = _.rest(arguments);\n                channel = this.channel(channelName);\n                return channel[methodName].apply(channel, args);\n            };\n        });\n    });\n\n    Radio.reset = function (channelName) {\n        var channels = !channelName ? this._channels : [this._channels[channelName]];\n        _.invoke(channels, 'reset');\n    };\n\n    return Radio;\n\n}));\n","Goomento_PageBuilder/lib/backbone/backbone.radio.min.js":"// Backbone.Radio v1.0.4\n!function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n(require(\"underscore\"),require(\"backbone\")):\"function\"==typeof define&&define.amd?define([\"underscore\",\"backbone\"],n):(e.Backbone=e.Backbone||{},e.Backbone.Radio=n(e._,e.Backbone))}(this,function(e,n){\"use strict\";function t(e,n,t,r){var o=e[n];return t&&t!==o.callback&&t!==o.callback._callback||r&&r!==o.context?void 0:(delete e[n],!0)}function r(n,r,o,i){n||(n={});for(var s=r?[r]:e.keys(n),u=!1,a=0,c=s.length;c>a;a++)r=s[a],n[r]&&t(n,r,o,i)&&(u=!0);return u}function o(n){return l[n]||(l[n]=e.partial(a.log,n))}function i(n){return e.isFunction(n)?n:function(){return n}}e=\"default\"in e?e[\"default\"]:e,n=\"default\"in n?n[\"default\"]:n;var s={};s[\"typeof\"]=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol?\"symbol\":typeof e};var u=n.Radio,a=n.Radio={};a.VERSION=\"1.0.4\",a.noConflict=function(){return n.Radio=u,this},a.DEBUG=!1,a._debugText=function(e,n,t){return e+(t?\" on the \"+t+\" channel\":\"\")+': \"'+n+'\"'},a.debugLog=function(e,n,t){a.DEBUG&&console&&console.warn&&console.warn(a._debugText(e,n,t))};var c=/\\s+/;a._eventsApi=function(n,t,r,o){if(!r)return!1;var i={};if(\"object\"===(\"undefined\"==typeof r?\"undefined\":s[\"typeof\"](r))){for(var u in r){var a=n[t].apply(n,[u,r[u]].concat(o));c.test(u)?e.extend(i,a):i[u]=a}return i}if(c.test(r)){for(var l=r.split(c),f=0,h=l.length;h>f;f++)i[l[f]]=n[t].apply(n,[l[f]].concat(o));return i}return!1},a._callHandler=function(e,n,t){var r=t[0],o=t[1],i=t[2];switch(t.length){case 0:return e.call(n);case 1:return e.call(n,r);case 2:return e.call(n,r,o);case 3:return e.call(n,r,o,i);default:return e.apply(n,t)}};var l={};e.extend(a,{log:function(n,t){if(\"undefined\"!=typeof console){var r=e.drop(arguments,2);console.log(\"[\"+n+'] \"'+t+'\"',r)}},tuneIn:function(e){var n=a.channel(e);return n._tunedIn=!0,n.on(\"all\",o(e)),this},tuneOut:function(e){var n=a.channel(e);return n._tunedIn=!1,n.off(\"all\",o(e)),delete l[e],this}}),a.Requests={request:function(n){var t=e.rest(arguments),r=a._eventsApi(this,\"request\",n,t);if(r)return r;var o=this.channelName,i=this._requests;if(o&&this._tunedIn&&a.log.apply(this,[o,n].concat(t)),i&&(i[n]||i[\"default\"])){var s=i[n]||i[\"default\"];return t=i[n]?t:arguments,a._callHandler(s.callback,s.context,t)}a.debugLog(\"An unhandled request was fired\",n,o)},reply:function(e,n,t){return a._eventsApi(this,\"reply\",e,[n,t])?this:(this._requests||(this._requests={}),this._requests[e]&&a.debugLog(\"A request was overwritten\",e,this.channelName),this._requests[e]={callback:i(n),context:t||this},this)},replyOnce:function(n,t,r){if(a._eventsApi(this,\"replyOnce\",n,[t,r]))return this;var o=this,s=e.once(function(){return o.stopReplying(n),i(t).apply(this,arguments)});return this.reply(n,s,r)},stopReplying:function(e,n,t){return a._eventsApi(this,\"stopReplying\",e)?this:(e||n||t?r(this._requests,e,n,t)||a.debugLog(\"Attempted to remove the unregistered request\",e,this.channelName):delete this._requests,this)}},a._channels={},a.channel=function(e){if(!e)throw new Error(\"You must provide a name for the channel.\");return a._channels[e]?a._channels[e]:a._channels[e]=new a.Channel(e)},a.Channel=function(e){this.channelName=e},e.extend(a.Channel.prototype,n.Events,a.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var f,h,d=[n.Events,a.Requests];return e.each(d,function(n){e.each(n,function(n,t){a[t]=function(n){return h=e.rest(arguments),f=this.channel(n),f[t].apply(f,h)}})}),a.reset=function(n){var t=n?[this._channels[n]]:this._channels;e.invoke(t,\"reset\")},a});\n","Goomento_PageBuilder/lib/color-picker/color-picker-alpha.js":"/*!\n * color-picker-alpha\n *\n * Overwrite Automattic Iris for enabled Alpha Channel in wpColorPicker\n * Only run in input and is defined data alpha in true\n *\n * Version: 2.0.1\n * https://github.com/kallookoo/wp-color-picker-alpha\n * Licensed under the GPLv2 license.\n *\n */\nrequire(['jquery', 'jquery/ui'], function ($) {\n    let undef = undefined;\n\n    // Variable for some backgrounds ( grid )\n    const image = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAAHnlligAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAHJJREFUeNpi+P///4EDBxiAGMgCCCAGFB5AADGCRBgYDh48CCRZIJS9vT2QBAggFBkmBiSAogxFBiCAoHogAKIKAlBUYTELAiAmEtABEECk20G6BOmuIl0CIMBQ/IEMkO0myiSSraaaBhZcbkUOs0HuBwDplz5uFJ3Z4gAAAABJRU5ErkJggg==',\n        // html stuff for wpColorPicker copy of the original color-picker.js\n        _before = '<button type=\"button\" class=\"button wp-color-result\" aria-expanded=\"false\"><span class=\"wp-color-result-text\"></span></button>',\n        _after = '<div class=\"wp-picker-holder\" />',\n        _wrap = '<div class=\"wp-picker-container\" />',\n        _button = '<input type=\"button\" class=\"button button-small\" />',\n        _eyeDropperButton = '<button class=\"button eye-dropper-button\" title=\"Eye Dropper\"><i class=\"fas fa-eye-dropper\"></i></button>',\n        _wrappingLabel = '<label></label>',\n        _wrappingLabelText = '<span class=\"screen-reader-text\"></span>';\n\n    /**\n     * Overwrite Color\n     * for enable support rbga\n     */\n    Color.fn.toString = function() {\n        if ( this._alpha < 1 ) {\n            return this.toCSS( 'rgba', this._alpha ).replace( /\\s+/g, '' );\n        }\n        let hex = parseInt(this._color, 10).toString(16);\n\n        if ( this.error ) {\n            return '';\n        }\n        if ( hex.length < 6 ) {\n            hex = ('00000' + hex).substr( -6 );\n        }\n        return '#' + hex;\n    };\n\n    /**\n     * Overwrite wpColorPicker\n     */\n    $.widget( 'wp.wpColorPicker', {\n        options: {\n            defaultColor: false,\n            change: false,\n            clear: false,\n            hide: true,\n            palettes: true,\n            width: 255,\n            mode: 'hsv',\n            type: 'full',\n            slider: 'horizontal'\n        },\n        /**\n         * Closes the color picker dialog.\n         *\n         * @since 3.5.0\n         *\n         * @returns {void}\n         */\n        close: function() {\n            try {\n                this.element.iris( 'toggle' );\n            } catch (e) {\n            }\n            this.inputWrapper.addClass( 'hidden' );\n            this.wrap.removeClass( 'wp-picker-active' );\n            this.toggler\n                .removeClass( 'wp-picker-open' )\n                .attr( 'aria-expanded', 'false' );\n            $( 'body' ).off( 'click.wpcolorpicker', this.close );\n        },\n        /**\n         * Returns the iris object if no new color is provided. If a new color is provided, it sets the new color.\n         *\n         * @param newColor {string|*} The new color to use. Can be undefined.\n         *\n         * @since 3.5.0\n         *\n         * @returns {string} The element's color\n         */\n        color: function( newColor ) {\n            if ( newColor === undef ) {\n                return this.element.iris( 'option', 'color' );\n            }\n            this.element.iris( 'option', 'color', newColor );\n        },\n        /**\n         * Returns the iris object if no new default color is provided.\n         * If a new default color is provided, it sets the new default color.\n         *\n         * @param newDefaultColor {string|*} The new default color to use. Can be undefined.\n         *\n         * @since 3.5.0\n         *\n         * @returns {boolean|string} The element's color.\n         */\n        defaultColor: function( newDefaultColor ) {\n            if ( newDefaultColor === undef ) {\n                return this.options.defaultColor;\n            }\n\n            this.options.defaultColor = newDefaultColor;\n        },\n        /**\n         * Creates a color picker that only allows you to adjust the hue.\n         *\n         * @since 3.5.0\n         *\n         * @access private\n         *\n         * @returns {void}\n         */\n        _createHueOnly: function() {\n            const self = this,\n                el = self.element;\n            let color;\n\n            el.hide();\n\n            // Set the saturation to the maximum level.\n            color = 'hsl(' + el.val() + ', 100, 50)';\n\n            // Create an instance of the color picker, using the hsl mode.\n            el.iris( {\n                mode: 'hsl',\n                type: 'hue',\n                hide: false,\n                color: color,\n                /**\n                 * Handles the onChange event if one has been defined in the options.\n                 *\n                 * @ignore\n                 *\n                 * @param {Event} event    The event that's being called.\n                 * @param {HTMLElement} ui The HTMLElement containing the color picker.\n                 *\n                 * @returns {void}\n                 */\n                change: function( event, ui ) {\n                    if ( $.isFunction( self.options.change ) ) {\n                        self.options.change.call( this, event, ui );\n                    }\n                },\n                width: self.options.width,\n                slider: self.options.slider\n            } );\n        },\n\n        /**\n         * @summary Creates the color picker.\n         *\n         * Creates the color picker, sets default values, css classes and wraps it all in HTML.\n         *\n         * @since 3.5.0\n         *\n         * @access private\n         *\n         * @returns {void}\n         */\n        _create: function() {\n            // Return early if Iris support is missing.\n            if ( ! $.support.iris ) {\n                return;\n            }\n\n            const self = this,\n                el = self.element;\n\n            // Override default options with options bound to the element.\n            $.extend( self.options, el.data() );\n\n            // Create a color picker which only allows adjustments to the hue.\n            if ( self.options.type === 'hue' ) {\n                return self._createHueOnly();\n            }\n\n            // Bind the close event.\n            self.close = $.proxy( self.close, self );\n\n            self.initialValue = el.val();\n\n            // Add a CSS class to the input field.\n            el.addClass( 'wp-color-picker' );\n\n            /*\n             * Check if there's already a wrapping label, e.g. in the Customizer.\n             * If there's no label, add a default one to match the Customizer template.\n             */\n            if ( ! el.parent( 'label' ).length ) {\n                // Wrap the input field in the default label.\n                el.wrap( _wrappingLabel );\n                // Insert the default label text.\n                self.wrappingLabelText = $( _wrappingLabelText )\n                    .insertBefore( el )\n                    .text( 'Color value' );\n            }\n\n            /*\n             * At this point, either it's the standalone version or the Customizer\n             * one, we have a wrapping label to use as hook in the DOM, let's store it.\n             */\n            self.wrappingLabel = el.parent();\n\n            // Wrap the label in the main wrapper.\n            self.wrappingLabel.wrap( _wrap );\n            // Store a reference to the main wrapper.\n            self.wrap = self.wrappingLabel.parent();\n            // Set up the toggle button and insert it before the wrapping label.\n            self.toggler = $( _before )\n                .insertBefore( self.wrappingLabel );\n            // Set the toggle button span element text.\n            self.toggler.find( '.wp-color-result-text' ).text( 'Select Color' );\n            // Set up the Iris container and insert it after the wrapping label.\n            self.pickerContainer = $( _after ).insertAfter( self.wrappingLabel );\n            // Store a reference to the Clear/Default button.\n            self.button = $( _button );\n\n            self.eyeDropperButton = $( _eyeDropperButton );\n\n            self.eyeDropperButton.click(function () {\n                if (!window.EyeDropper) {\n                    alert(\"Your browser does not support the EyeDropper API\");\n                    return;\n                }\n\n                const eyeDropper = new EyeDropper();\n                const abortController = new AbortController();\n\n                eyeDropper\n                    .open({ signal: abortController.signal })\n                    .then((result) => {\n                        el.val(result.sRGBHex).trigger('change');\n                    });\n\n                setTimeout(() => {\n                    abortController.abort();\n                }, 10000);\n            });\n\n            // Wrap the wrapping label in its wrapper and append the Clear/Default button.\n            self.wrappingLabel\n                .wrap( '<span class=\"wp-picker-input-wrap hidden\" />' )\n                .before( self.eyeDropperButton );\n\n            /*\n             * The input wrapper now contains the label+input+Clear/Default button.\n             * Store a reference to the input wrapper: we'll use this to toggle\n             * the controls visibility.\n             */\n            self.inputWrapper = el.closest( '.wp-picker-input-wrap' );\n\n            /*\n             * CSS for support < 4.9\n             */\n            self.toggler.css({\n                padding: 0\n            });\n\n            self.toggler.find( '.wp-color-result-text' ).hide();\n\n            const setTogglerColor = function (color) {\n                if (self.options.alpha) {\n                    self.toggler.css({\n                        'background-image': 'url(' + image + ')',\n                        'position': 'relative'\n                    });\n\n                    if (!self.toggler.find('span.color-alpha').length) {\n                        self.toggler.append('<span class=\"color-alpha\" />');\n                    }\n\n                    self.toggler.find('span.color-alpha').css({'background-color': color + ''});\n                } else {\n                    self.toggler.css({'background-color': color + ''});\n                }\n            };\n\n            el.iris( {\n                target: self.pickerContainer,\n                hide: self.options.hide,\n                width: self.options.width,\n                mode: self.options.mode,\n                palettes: self.options.palettes,\n                /**\n                 * @summary Handles the onChange event if one has been defined in the options.\n                 *\n                 * Handles the onChange event if one has been defined in the options and additionally\n                 * sets the background color for the toggler element.\n                 *\n                 * @since 3.5.0\n                 *\n                 * @param {Event} event    The event that's being called.\n                 * @param {HTMLElement} ui The HTMLElement containing the color picker.\n                 *\n                 * @returns {void}\n                 */\n                change: function( event, ui ) {\n                    setTogglerColor( ui.color );\n\n                    if ( $.isFunction( self.options.change ) ) {\n                        self.options.change.call( this, event, ui );\n                    }\n                }\n            } );\n\n            el.val( self.initialValue );\n\n            setTogglerColor( self.initialValue );\n\n            self._addListeners();\n\n            // Force the color picker to always be closed on initial load.\n            if ( ! self.options.hide ) {\n                self.toggler.click();\n            }\n        },\n\n        open: function() {\n            this.element.iris( 'toggle' );\n            this.inputWrapper.removeClass( 'hidden' );\n            this.wrap.addClass( 'wp-picker-active' );\n            this.toggler\n                .addClass( 'wp-picker-open' )\n                .attr( 'aria-expanded', 'true' );\n\n            this.wrap.position( {\n                my: `center top-30`,\n                at: `center bottom`,\n                of: this.wrap.parent(),\n            } );\n\n            $( 'body' ).on( 'click.wpcolorpicker', this.close );\n        },\n\n        /**\n         * @summary Binds event listeners to the color picker.\n         *\n         * @since 3.5.0\n         *\n         * @access private\n         *\n         * @returns {void}\n         */\n        _addListeners: function() {\n            const self = this;\n\n            /**\n             * @summary Prevent any clicks inside this widget from leaking to the top and closing it.\n             *\n             * @since 3.5.0\n             *\n             * @param {Event} event The event that's being called.\n             *\n             * @returs {void}\n             */\n            self.wrap.on( 'click.wpcolorpicker', function( event ) {\n                event.stopPropagation();\n            });\n\n            /**\n             * @summary Open or close the color picker depending on the class.\n             *\n             * @since 3.5\n             */\n            self.toggler.click( function(){\n                if ( self.toggler.hasClass( 'wp-picker-open' ) ) {\n                    self.close();\n                } else {\n                    self.open();\n                }\n            });\n\n            /**\n             * @summary Checks if value is empty when changing the color in the color picker.\n             *\n             * Checks if value is empty when changing the color in the color picker.\n             * If so, the background color is cleared.\n             *\n             * @since 3.5.0\n             *\n             * @param {Event} event The event that's being called.\n             *\n             * @returns {void}\n             */\n            self.element.on( 'change', function( event ) {\n                // Empty or Error = clear\n                if ( $( this ).val() === '' || self.element.hasClass( 'iris-error' ) ) {\n                    if ( self.options.alpha ) {\n                        self.toggler.find( 'span.color-alpha' ).css( {'background-color': ''} );\n                    } else {\n                        self.toggler.css( {'background-color': ''} );\n                    }\n\n                    // fire clear callback if we have one\n                    if ( $.isFunction( self.options.clear ) )\n                        self.options.clear.call( this, event );\n                }\n            } );\n\n            /**\n             * @summary Enables the user to clear or revert the color in the color picker.\n             *\n             * Enables the user to either clear the color in the color picker or revert back to the default color.\n             *\n             * @since 3.5.0\n             *\n             * @param {Event} event The event that's being called.\n             *\n             * @returns {void}\n             */\n            self.button.on( 'click', function( event ) {\n                if ( $( this ).hasClass( 'wp-picker-clear' ) ) {\n                    self.element.val( '' );\n                    if ( self.options.alpha ) {\n                        self.toggler.find( 'span.color-alpha' ).css({'background-color': ''} );\n                    } else {\n                        self.toggler.css( {'background-color': ''} );\n                    }\n\n                    if ( $.isFunction( self.options.clear ) )\n                        self.options.clear.call( this, event );\n\n                } else if ( $( this ).hasClass( 'wp-picker-default' ) ) {\n                    self.element.val( self.options.defaultColor ).change();\n                }\n            });\n        }\n    });\n\n    /**\n     * Overwrite iris\n     */\n    $.widget( 'a8c.iris', $.a8c.iris, {\n        _create: function() {\n            this._super();\n\n            // Global option for check is mode rbga is enabled\n            this.options.alpha = this.element.data( 'alpha' ) || false;\n\n            // Is not input disabled\n            if ( ! this.element.is( ':input' ) )\n                this.options.alpha = false;\n\n            if ( typeof this.options.alpha !== 'undefined' && this.options.alpha ) {\n                const self = this,\n                    el = self.element,\n                    _html = '<div class=\"iris-strip iris-slider iris-alpha-slider\"><div class=\"iris-slider-offset iris-slider-offset-alpha\"></div></div>',\n                    aContainer = $(_html).appendTo(self.picker.find('.iris-picker-inner')),\n                    aSlider = aContainer.find('.iris-slider-offset-alpha'),\n                    controls = {\n                        aContainer: aContainer,\n                        aSlider: aSlider\n                    };\n\n                if ( typeof el.data( 'custom-width' ) !== 'undefined' ) {\n                    self.options.customWidth = parseInt( el.data( 'custom-width' ) ) || 0;\n                } else {\n                    self.options.customWidth = 100;\n                }\n\n                // Set default width for input reset\n                self.options.defaultWidth = el.width();\n\n                // Update width for input\n                if ( self._color._alpha < 1 || self._color.toString().indexOf('rgb') != -1 ) {\n                    //el.width( parseInt( self.options.defaultWidth + self.options.customWidth ) );\n                }\n                el.width( parseInt( self.options.defaultWidth + self.options.customWidth ) );\n\n                // Push new controls\n                $.each( controls, function( k, v ) {\n                    self.controls[k] = v;\n                } );\n\n                // Change size strip and add margin for sliders\n                self.controls.square.css( { 'margin-right': '0' } );\n                const emptyWidth = (self.picker.width() - self.controls.square.width() - 20),\n                    stripsMargin = (emptyWidth / 6),\n                    stripsWidth = ((emptyWidth / 2) - stripsMargin);\n\n                $.each( [ 'aContainer', 'strip' ], function( k, v ) {\n                    self.controls[v].width( stripsWidth ).css( { 'margin-left' : stripsMargin + 'px' } );\n                } );\n\n                self.setAlphaSliderBackground();\n\n                // Add new slider\n                self._initControls();\n            }\n        },\n        _initControls: function() {\n            this._super();\n\n            if ( this.options.alpha ) {\n                const self = this,\n                    controls = self.controls;\n\n                controls.aSlider.slider({\n                    orientation : 'vertical',\n                    min         : 0,\n                    max         : 100,\n                    step        : 1,\n                    value       : parseInt( self._color._alpha * 100 ),\n                    slide       : function( event, ui ) {\n                        // Update alpha value\n                        self._color._alpha = parseFloat( ui.value / 100 );\n                        self._change.apply( self, arguments );\n                    }\n                });\n            }\n        },\n        _change: function() {\n            this._super();\n\n            const self = this,\n                el = self.element;\n\n            if ( self.options.alpha ) {\n                const controls = self.controls,\n                    alpha = parseInt(self._color._alpha * 100),\n                    target = self.picker.closest('.wp-picker-container').find('.wp-color-result');\n\n                self.setAlphaSliderBackground();\n\n                if ( target.hasClass( 'wp-picker-open' ) ) {\n                    // Update alpha value\n                    controls.aSlider.slider( 'value', alpha );\n\n                    /**\n                     * Disabled change opacity in default slider Saturation ( only is alpha enabled )\n                     * and change input width for view all value\n                     */\n                    if ( self._color._alpha < 1 ) {\n                        controls.strip.attr( 'style', controls.strip.attr( 'style' ).replace( /rgba\\(([0-9]+,)(\\s+)?([0-9]+,)(\\s+)?([0-9]+)(,(\\s+)?[0-9\\.]+)\\)/g, 'rgb($1$3$5)' ) );\n                        //el.width( parseInt( defaultWidth + customWidth ) );\n                    } else {\n                        //el.width( defaultWidth );\n                    }\n                }\n            }\n\n            const reset = el.data('reset-alpha') || false;\n\n            if ( reset ) {\n                self.picker.find( '.iris-palette-container' ).on( 'click.palette', '.iris-palette', function() {\n                    self._color._alpha = 1;\n                    self.active        = 'external';\n                    self._change();\n                } );\n            }\n        },\n        _addInputListeners: function( input ) {\n            const self = this,\n                debounceTimeout = 100,\n                callback = function (event) {\n                    const color = new Color(input.val()),\n                        val = input.val();\n\n                    input.removeClass('iris-error');\n                    // we gave a bad color\n                    if (color.error) {\n                        // don't error on an empty input\n                        if (val !== '')\n                            input.addClass('iris-error');\n                    } else {\n                        if (color.toString() !== self._color.toString()) {\n                            // let's not do this on keyup for hex shortcodes\n                            if (!(event.type === 'keyup' && val.match(/^[0-9a-fA-F]{3}$/)))\n                                self._setOption('color', color.toString());\n                        }\n                    }\n                };\n\n            input.on( 'change', callback ).on( 'keyup', self._debounce( callback, debounceTimeout ) );\n\n            // If we initialized hidden, show on first focus. The rest is up to you.\n            if ( self.options.hide ) {\n                input.on( 'focus', function() {\n                    self.show();\n                } );\n            }\n        },\n        setAlphaSliderBackground: function() {\n            const color = this._color.toRgb(),\n                gradient = [\n                    'rgb(' + color.r + ',' + color.g + ',' + color.b + ') 0%',\n                    'rgba(' + color.r + ',' + color.g + ',' + color.b + ', 0) 100%'\n                ];\n\n            this.controls.aContainer.css( { 'background' : 'linear-gradient(to bottom, ' + gradient.join( ', ' ) + '), url(' + image + ')' } );\n        }\n    } );\n\n});\n"}
}});
